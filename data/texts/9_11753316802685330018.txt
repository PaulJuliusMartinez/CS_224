Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Introduction to Information Retrieval
http://informationretrieval.org IIR 19: Web Search
Hinrich Schu¨tze
Center for Information and Language Processing, University of Munich
2013-07-04

Schu¨tze: Web search

1 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Overview
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

2 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

3 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Naive HAC algorithm
SimpleHAC(d1, . . . , dN ) 1 for n  1 to N 2 do for i  1 to N 3 do C [n][i ]  Sim(dn, di ) 4 I [n]  1 (keeps track of active clusters) 5 A  [] (collects clustering as a sequence of merges) 6 for k  1 to N - 1 7 do i , m  arg max{ i,m :i=mI [i]=1I [m]=1} C [i ][m] 8 A.Append( i , m ) (store merge) 9 for j  1 to N 10 do (use i as representative for < i , m >) 11 C [i ][j]  Sim(< i , m >, j) 12 C [j][i ]  Sim(< i , m >, j) 13 I [m]  0 (deactivate cluster) 14 return A
Schu¨tze: Web search

4 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Single-link: Maximum similarity

Size of the web

4 3 2 1 0
01234567
Schu¨tze: Web search

5 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Complete-link: Minimum similarity

Size of the web

4 3 2 1 0
01234567
Schu¨tze: Web search

6 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Centroid: Average intersimilarity

Size of the web

intersimilarity = similarity of two documents in different clusters
4 3 2 1 0
01234567

Schu¨tze: Web search

7 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Group average: Average intrasimilarity
intrasimilarity = similarity of any pair, including cases where the two documents are in the same cluster
4
3
2
1
0 01234567

Schu¨tze: Web search

8 / 126

Recap Big picture Ads Duplicate detection
HAC properties

Spam

Web IR

Size of the web

Single link: maximum similarity (N 2) Chaining
Complete link: minimum similarity
Sensitive to outliers Use if documents not represented as vectors
Centroid: Average intersimilarity Inversions can occur Don't use because of inversions
Group-average agglomerative clustering No chaining, not sensitive to outliers Preferable (if documents can be represented as vectors)

Schu¨tze: Web search

9 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Bisecting K -means
BisectingKMeans(d1, . . . , dN ) 1 0  {d1, . . . , dN } 2 leaves  {0} 3 for k  1 to K - 1 4 do k  PickClusterFrom(leaves) 5 {i , j }  KMeans(k , 2) 6 leaves  leaves \ {k }  {i , j } 7 return leaves

Schu¨tze: Web search

10 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Cluster labeling: Example

labeling method

# docs centroid

mutual information title

4 622 9 1017 10 1259

oil plant mexico production crude power 000 refinery gas bpd
police security russian people military peace killed told grozny court 00 000 tonnes traders futures wheat prices cents september tonne

plant oil production barrels crude bpd mexico dolly capacity petroleum police killed military security peace told troops forces rebels people delivery traders futures tonne tonnes desk wheat prices 000 00

MEXICO: Hurricane Dolly heads for Mexico coast
RUSSIA: Russia's Lebed meets rebel chief in Chechnya
USA: Export Business - Grain/oilseeds complex

Three methods: most prominent terms in centroid, differential labeling using

MI, title of doc closest to centroid

All three methods do a pretty good job.

Schu¨tze: Web search

11 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

12 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web search overview

Schu¨tze: Web search

13 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Search is a top activity on the web

Size of the web

Schu¨tze: Web search

14 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it?

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it? Why publish something if I don't get ad revenue from it?

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it? Why publish something if I don't get ad revenue from it? Somebody needs to pay for the web.

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it? Why publish something if I don't get ad revenue from it? Somebody needs to pay for the web. Servers, web infrastructure, content creation

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it? Why publish something if I don't get ad revenue from it? Somebody needs to pay for the web. Servers, web infrastructure, content creation A large part today is paid by search ads.

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Without search engines, the web wouldn't work
Without search, content is hard to find.  Without search, there is no incentive to create content.
Why publish something if nobody will read it? Why publish something if I don't get ad revenue from it? Somebody needs to pay for the web. Servers, web infrastructure, content creation A large part today is paid by search ads. Search pays for the web.

Schu¨tze: Web search

15 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Interest aggregation

Schu¨tze: Web search

16 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Interest aggregation
Unique feature of the web: A small number of geographically dispersed people with similar interests can find each other.

Schu¨tze: Web search

16 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Interest aggregation
Unique feature of the web: A small number of geographically dispersed people with similar interests can find each other.
Elementary school kids with hemophilia

Schu¨tze: Web search

16 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Interest aggregation
Unique feature of the web: A small number of geographically dispersed people with similar interests can find each other.
Elementary school kids with hemophilia People interested in translating R5R5 Scheme into relatively portable C (open source project)

Schu¨tze: Web search

16 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Interest aggregation
Unique feature of the web: A small number of geographically dispersed people with similar interests can find each other.
Elementary school kids with hemophilia People interested in translating R5R5 Scheme into relatively portable C (open source project) Search engines are a key enabler for interest aggregation.

Schu¨tze: Web search

16 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . .

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature.
Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
The web is a chaotic und uncoordinated collection.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
The web is a chaotic und uncoordinated collection.
No control / restrictions on who can author content

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
The web is a chaotic und uncoordinated collection.
No control / restrictions on who can author content
The web is very large.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
 look at search ads The web is a chaotic und uncoordinated collection.
No control / restrictions on who can author content
The web is very large.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
 look at search ads The web is a chaotic und uncoordinated collection.  lots of duplicates ­ need to detect duplicates No control / restrictions on who can author content
The web is very large.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
 look at search ads
The web is a chaotic und uncoordinated collection.  lots of duplicates ­ need to detect duplicates
No control / restrictions on who can author content  lots of spam ­ need to detect spam
The web is very large.

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam
IR on the web vs. IR in general

Web IR

Size of the web

On the web, search is not just a nice feature. Search is a key enabler of the web: . . . . . . financing, content creation, interest aggregation etc.
 look at search ads
The web is a chaotic und uncoordinated collection.  lots of duplicates ­ need to detect duplicates
No control / restrictions on who can author content  lots of spam ­ need to detect spam
The web is very large.  need to know how big it is

Schu¨tze: Web search

17 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture Ads ­ they pay for the web

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture Ads ­ they pay for the web Duplicate detection ­ addresses one aspect of chaotic content creation

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture Ads ­ they pay for the web Duplicate detection ­ addresses one aspect of chaotic content creation Spam detection ­ addresses one aspect of lack of central access control

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture Ads ­ they pay for the web Duplicate detection ­ addresses one aspect of chaotic content creation Spam detection ­ addresses one aspect of lack of central access control Probably won't get to today
Web information retrieval Size of the web

Schu¨tze: Web search

18 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

19 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Schu¨tze: Web search

20 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Schu¨tze: Web search

20 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)
Buddy Blake bid the maximum ($0.38) for this search.

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Buddy Blake bid the maximum ($0.38) for this search.
He paid $0.38 to Goto every time somebody clicked on the link.

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Buddy Blake bid the maximum ($0.38) for this search.
He paid $0.38 to Goto every time somebody clicked on the link.
Pages were simply ranked according to bid ­ revenue maximization for Goto.

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Buddy Blake bid the maximum ($0.38) for this search. He paid $0.38 to Goto every time somebody clicked on the link. Pages were simply ranked according to bid ­ revenue maximization for Goto. No separation of ads/docs. Only one result list!

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Buddy Blake bid the maximum ($0.38) for this search. He paid $0.38 to Goto every time somebody clicked on the link. Pages were simply ranked according to bid ­ revenue maximization for Goto. No separation of ads/docs. Only one result list! Upfront and honest. No relevance ranking, . . .

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
First generation of search ads: Goto (1996)

Buddy Blake bid the maximum ($0.38) for this search. He paid $0.38 to Goto every time somebody clicked on the link. Pages were simply ranked according to bid ­ revenue maximization for Goto. No separation of ads/docs. Only one result list! Upfront and honest. No relevance ranking, . . . . . . but Goto did not pretend there was any.

Schu¨tze: Web search

21 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Second generation of search ads: Google (2000/2001)

Schu¨tze: Web search

22 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Second generation of search ads: Google (2000/2001)
Strict separation of search results and search ads

Schu¨tze: Web search

22 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Two ranked lists: web pages (left) and ads (right)

Schu¨tze: Web search

23 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Two ranked lists: web pages (left) and ads (right)
SogoTrade appears in ads.

Schu¨tze: Web search

23 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Two ranked lists: web pages (left) and ads (right)
SogoTrade appears in search results.
SogoTrade appears in ads.

Schu¨tze: Web search

23 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Two ranked lists: web pages (left) and ads (right)
SogoTrade appears in search results.
SogoTrade appears in ads.
Do search engines rank advertisers higher than non-advertisers?

Schu¨tze: Web search

23 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Two ranked lists: web pages (left) and ads (right)

Schu¨tze: Web search

SogoTrade appears in search results.
SogoTrade appears in ads.
Do search engines rank advertisers higher than non-advertisers?
All major search engines claim no.
23 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Do ads influence editorial content?

Size of the web

Schu¨tze: Web search

24 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Do ads influence editorial content?

Size of the web

Similar problem at newspapers / TV channels

Schu¨tze: Web search

24 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Do ads influence editorial content?

Size of the web

Similar problem at newspapers / TV channels
A newspaper is reluctant to publish harsh criticism of its major advertisers.

Schu¨tze: Web search

24 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Do ads influence editorial content?

Size of the web

Similar problem at newspapers / TV channels
A newspaper is reluctant to publish harsh criticism of its major advertisers.
The line often gets blurred at newspapers / on TV.

Schu¨tze: Web search

24 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Do ads influence editorial content?

Size of the web

Similar problem at newspapers / TV channels A newspaper is reluctant to publish harsh criticism of its major advertisers. The line often gets blurred at newspapers / on TV. No known case of this happening with search engines yet?

Schu¨tze: Web search

24 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are the ads on the right ranked?

Schu¨tze: Web search

25 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction.

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords.

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords. Advertisers are only charged when somebody clicks on your ad.

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords. Advertisers are only charged when somebody clicks on your ad. How does the auction determine an ad's rank and the price paid for the ad?

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords. Advertisers are only charged when somebody clicks on your ad. How does the auction determine an ad's rank and the price paid for the ad? Basis is a second price auction, but with twists

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords. Advertisers are only charged when somebody clicks on your ad. How does the auction determine an ad's rank and the price paid for the ad? Basis is a second price auction, but with twists For the bottom line, this is perhaps the most important research area for search engines ­ computational advertising.

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
Advertisers bid for keywords ­ sale by auction. Open system: Anybody can participate and bid on keywords. Advertisers are only charged when somebody clicks on your ad. How does the auction determine an ad's rank and the price paid for the ad? Basis is a second price auction, but with twists For the bottom line, this is perhaps the most important research area for search engines ­ computational advertising.
Squeezing an additional fraction of a cent from each ad means billions of additional revenue for the search engine.

Schu¨tze: Web search

26 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price a` la Goto

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price a` la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price a` la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions Result: A nonrelevant ad will be ranked low.

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions Result: A nonrelevant ad will be ranked low.
Even if this decreases search engine revenue short-term

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price a` la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions Result: A nonrelevant ad will be ranked low.
Even if this decreases search engine revenue short-term Hope: Overall acceptance of the system and overall revenue is maximized if users get useful information.

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?
First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions Result: A nonrelevant ad will be ranked low.
Even if this decreases search engine revenue short-term Hope: Overall acceptance of the system and overall revenue is maximized if users get useful information.
Other ranking factors: location, time of day, quality and loading speed of landing page

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How are ads ranked?

First cut: according to bid price `a la Goto Bad idea: open to abuse Example: query [treatment for cancer?]  how to write your last will We don't want to show nonrelevant or offensive ads.
Instead: rank based on bid price and relevance Key measure of ad relevance: clickthrough rate
clickthrough rate = CTR = clicks per impressions Result: A nonrelevant ad will be ranked low.
Even if this decreases search engine revenue short-term Hope: Overall acceptance of the system and overall revenue is maximized if users get useful information.
Other ranking factors: location, time of day, quality and loading speed of landing page
The main ranking factor: the query

Schu¨tze: Web search

27 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Google AdWords demo

Schu¨tze: Web search

28 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Google's second price auction
advertiser bid CTR ad rank rank paid A $4.00 0.01 0.04 4 (minimum) B $3.00 0.03 0.09 2 $2.68 C $2.00 0.06 0.12 1 $1.51 D $1.00 0.08 0.08 3 $0.51

Schu¨tze: Web search

29 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Google's second price auction
advertiser bid CTR ad rank rank paid A $4.00 0.01 0.04 4 (minimum) B $3.00 0.03 0.09 2 $2.68 C $2.00 0.06 0.12 1 $1.51 D $1.00 0.08 0.08 3 $0.51
bid: maximum bid for a click by advertiser CTR: click-through rate: when an ad is displayed, what percentage of time do users click on it? CTR is a measure of relevance. ad rank: bid × CTR: this trades off (i) how much money the advertiser is willing to pay against (ii) how relevant the ad is rank: rank in auction paid: second price auction price paid by advertiser

Schu¨tze: Web search

29 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Google's second price auction
advertiser bid CTR ad rank rank paid A $4.00 0.01 0.04 4 (minimum) B $3.00 0.03 0.09 2 $2.68 C $2.00 0.06 0.12 1 $1.51 D $1.00 0.08 0.08 3 $0.51

Second price auction: The advertiser pays the minimum amount necessary to maintain their position in the auction (plus 1 cent).
price1 × CTR1 = bid2 × CTR2 (this will result in rank1=rank2)
price1 = bid2 × CTR2 / CTR1
p1 = bid2 × CTR2/CTR1 = 3.00 × 0.03/0.06 = 1.50 p2 = bid3 × CTR3/CTR2 = 1.00 × 0.08/0.03 = 2.67 p3 = bid4 × CTR4/CTR3 = 4.00 × 0.01/0.08 = 0.50

Schu¨tze: Web search

29 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Keywords with high bids

Schu¨tze: Web search

30 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Keywords with high bids

According to http://www.cwire.org/highest-paying-search-terms/

$69.1 $65.9 $62.6 $61.4 $59.4 $59.4 $46.4 $40.1 $39.8 $39.2 $38.7 $38.0 $37.0 $35.9

mesothelioma treatment options personal injury lawyer michigan student loans consolidation car accident attorney los angeles online car insurance quotes arizona dui lawyer asbestos cancer home equity line of credit life insurance quotes refinancing equity line of credit lasik eye surgery new york city 2nd mortgage free car insurance quote

Schu¨tze: Web search

30 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

The search engine company gets revenue every time somebody clicks on an ad.

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

The search engine company gets revenue every time somebody clicks on an ad. The user only clicks on an ad if they are interested in the ad.

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

The search engine company gets revenue every time somebody clicks on an ad. The user only clicks on an ad if they are interested in the ad.
Search engines punish misleading and nonrelevant ads.

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

The search engine company gets revenue every time somebody clicks on an ad.
The user only clicks on an ad if they are interested in the ad.
Search engines punish misleading and nonrelevant ads. As a result, users are often satisfied with what they find after clicking on an ad.

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam
Search ads: A win-win-win?

Web IR

Size of the web

The search engine company gets revenue every time somebody clicks on an ad. The user only clicks on an ad if they are interested in the ad.
Search engines punish misleading and nonrelevant ads. As a result, users are often satisfied with what they find after clicking on an ad.
The advertiser finds new customers in a cost-effective way.

Schu¨tze: Web search

31 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise

Schu¨tze: Web search

32 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
Why is web search potentially more attractive for advertisers than TV spots, newspaper ads or radio spots?

Schu¨tze: Web search

32 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
Why is web search potentially more attractive for advertisers than TV spots, newspaper ads or radio spots? The advertiser pays for all this. How can the advertiser be cheated?

Schu¨tze: Web search

32 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
Why is web search potentially more attractive for advertisers than TV spots, newspaper ads or radio spots? The advertiser pays for all this. How can the advertiser be cheated? Any way this could be bad for the user?

Schu¨tze: Web search

32 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
Why is web search potentially more attractive for advertisers than TV spots, newspaper ads or radio spots? The advertiser pays for all this. How can the advertiser be cheated? Any way this could be bad for the user? Any way this could be bad for the search engine?

Schu¨tze: Web search

32 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google Then redirect traffic to a third party that is paying much more than you are paying Google.

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google Then redirect traffic to a third party that is paying much more than you are paying Google.
E.g., redirect to a page full of ads

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google Then redirect traffic to a third party that is paying much more than you are paying Google.
E.g., redirect to a page full of ads This rarely makes sense for the user.

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google Then redirect traffic to a third party that is paying much more than you are paying Google.
E.g., redirect to a page full of ads This rarely makes sense for the user. Ad spammers keep inventing new tricks.

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Keyword arbitrage
Buy a keyword on Google Then redirect traffic to a third party that is paying much more than you are paying Google.
E.g., redirect to a page full of ads This rarely makes sense for the user. Ad spammers keep inventing new tricks. The search engines need time to catch up with them.

Schu¨tze: Web search

33 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico During part of 2005: The search term "geico" on Google was bought by competitors.

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico During part of 2005: The search term "geico" on Google was bought by competitors. Geico lost this case in the United States.

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico During part of 2005: The search term "geico" on Google was bought by competitors. Geico lost this case in the United States. Louis Vuitton lost similar case in Europe.

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico During part of 2005: The search term "geico" on Google was bought by competitors. Geico lost this case in the United States. Louis Vuitton lost similar case in Europe. See http://google.com/tm complaint.html

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Not a win-win-win: Violation of trademarks
Example: geico During part of 2005: The search term "geico" on Google was bought by competitors. Geico lost this case in the United States. Louis Vuitton lost similar case in Europe. See http://google.com/tm complaint.html It's potentially misleading to users to trigger an ad off of a trademark if the user can't buy the product on the site.

Schu¨tze: Web search

34 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

35 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content.

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates Abundant on the web

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates Abundant on the web Difficult to eliminate

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates Abundant on the web Difficult to eliminate For the user, it's annoying to get a search result with near-identical documents.

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection
The web is full of duplicated content. More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates Abundant on the web Difficult to eliminate For the user, it's annoying to get a search result with near-identical documents. Marginal relevance is zero: even a highly relevant document becomes nonrelevant if it appears below a (near-)duplicate.

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate detection

The web is full of duplicated content.
More so than many other collections Exact duplicates
Easy to eliminate E.g., use hash/fingerprint Near-duplicates Abundant on the web Difficult to eliminate
For the user, it's annoying to get a search result with near-identical documents.
Marginal relevance is zero: even a highly relevant document becomes nonrelevant if it appears below a (near-)duplicate.
We need to eliminate near-duplicates.

Schu¨tze: Web search

36 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Near-duplicates: Example

Schu¨tze: Web search

37 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Near-duplicates: Example

Schu¨tze: Web search

37 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise

Schu¨tze: Web search

38 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
How would you eliminate near-duplicates on the web?

Schu¨tze: Web search

38 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure We want "syntactic" (as opposed to semantic) similarity.

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure We want "syntactic" (as opposed to semantic) similarity.
True semantic similarity (similarity in content) is too difficult to compute.

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure We want "syntactic" (as opposed to semantic) similarity.
True semantic similarity (similarity in content) is too difficult to compute. We do not consider documents near-duplicates if they have the same content, but express it with different words.

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure We want "syntactic" (as opposed to semantic) similarity.
True semantic similarity (similarity in content) is too difficult to compute. We do not consider documents near-duplicates if they have the same content, but express it with different words. Use similarity threshold  to make the call "is/isn't a near-duplicate".

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Detecting near-duplicates
Compute similarity with an edit-distance measure We want "syntactic" (as opposed to semantic) similarity.
True semantic similarity (similarity in content) is too difficult to compute. We do not consider documents near-duplicates if they have the same content, but express it with different words. Use similarity threshold  to make the call "is/isn't a near-duplicate". E.g., two documents are near-duplicates if similarity >  = 80%.

Schu¨tze: Web search

39 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram.

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents.

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents. For example, for n = 3, "a rose is a rose is a rose" would be represented as this set of shingles:

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents. For example, for n = 3, "a rose is a rose is a rose" would be represented as this set of shingles:
{ a-rose-is, rose-is-a, is-a-rose }

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents. For example, for n = 3, "a rose is a rose is a rose" would be represented as this set of shingles:
{ a-rose-is, rose-is-a, is-a-rose } We can map shingles to 1..2m (e.g., m = 64) by fingerprinting.

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents. For example, for n = 3, "a rose is a rose is a rose" would be represented as this set of shingles:
{ a-rose-is, rose-is-a, is-a-rose } We can map shingles to 1..2m (e.g., m = 64) by fingerprinting. From now on: sk refers to the shingle's fingerprint in 1..2m.

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as set of shingles
A shingle is simply a word n-gram. Shingles are used as features to measure syntactic similarity of documents. For example, for n = 3, "a rose is a rose is a rose" would be represented as this set of shingles:
{ a-rose-is, rose-is-a, is-a-rose } We can map shingles to 1..2m (e.g., m = 64) by fingerprinting. From now on: sk refers to the shingle's fingerprint in 1..2m. We define the similarity of two documents as the Jaccard coefficient of their shingle sets.

Schu¨tze: Web search

40 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets Jaccard coefficient:

jaccard(A,

B)

=

|A |A

 

B| B|

(A =  or B = )

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets Jaccard coefficient:

jaccard(A,

B)

=

|A |A

 

B| B|

(A =  or B = ) jaccard(A, A) = 1

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets Jaccard coefficient:

jaccard(A,

B)

=

|A |A

 

B| B|

(A =  or B = ) jaccard(A, A) = 1 jaccard(A, B) = 0 if A  B = 0

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets Jaccard coefficient:

jaccard(A,

B)

=

|A |A

 

B| B|

(A =  or B = ) jaccard(A, A) = 1 jaccard(A, B) = 0 if A  B = 0 A and B don't have to be the same size.

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection
Recall: Jaccard coefficient

Spam

Web IR

Size of the web

A commonly used measure of overlap of two sets Let A and B be two sets Jaccard coefficient:

jaccard(A,

B)

=

|A |A

 

B| B|

(A =  or B = ) jaccard(A, A) = 1 jaccard(A, B) = 0 if A  B = 0 A and B don't have to be the same size. Always assigns a number between 0 and 1.

Schu¨tze: Web search

41 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Three documents:
d1: "Jack London traveled to Oakland" d2: "Jack London traveled to the city of Oakland" d3: "Jack traveled from Oakland to London"

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Three documents: d1: "Jack London traveled to Oakland" d2: "Jack London traveled to the city of Oakland" d3: "Jack traveled from Oakland to London"
Based on shingles of size 2 (2-grams or bigrams), what are the Jaccard coefficients J(d1, d2) and J(d1, d3)?

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Three documents: d1: "Jack London traveled to Oakland" d2: "Jack London traveled to the city of Oakland" d3: "Jack traveled from Oakland to London"
Based on shingles of size 2 (2-grams or bigrams), what are the Jaccard coefficients J(d1, d2) and J(d1, d3)?
J(d1, d2) = 3/8 = 0.375

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Three documents: d1: "Jack London traveled to Oakland" d2: "Jack London traveled to the city of Oakland" d3: "Jack traveled from Oakland to London"
Based on shingles of size 2 (2-grams or bigrams), what are the Jaccard coefficients J(d1, d2) and J(d1, d3)?
J(d1, d2) = 3/8 = 0.375
J(d1, d3) = 0

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam
Jaccard coefficient: Example

Web IR

Size of the web

Three documents: d1: "Jack London traveled to Oakland" d2: "Jack London traveled to the city of Oakland" d3: "Jack traveled from Oakland to London"
Based on shingles of size 2 (2-grams or bigrams), what are the Jaccard coefficients J(d1, d2) and J(d1, d3)?
J(d1, d2) = 3/8 = 0.375
J(d1, d3) = 0
Note: very sensitive to dissimilarity

Schu¨tze: Web search

42 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large.

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large. To increase efficiency, we will use a sketch, a cleverly chosen subset of the shingles of a document.

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large. To increase efficiency, we will use a sketch, a cleverly chosen subset of the shingles of a document. The size of a sketch is, say, n = 200 . . .

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large. To increase efficiency, we will use a sketch, a cleverly chosen subset of the shingles of a document. The size of a sketch is, say, n = 200 . . . . . . and is defined by a set of permutations 1 . . . 200.

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large. To increase efficiency, we will use a sketch, a cleverly chosen subset of the shingles of a document. The size of a sketch is, say, n = 200 . . . . . . and is defined by a set of permutations 1 . . . 200. Each i is a random permutation on 1..2m

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Represent each document as a sketch
The number of shingles per document is large. To increase efficiency, we will use a sketch, a cleverly chosen subset of the shingles of a document. The size of a sketch is, say, n = 200 . . . . . . and is defined by a set of permutations 1 . . . 200. Each i is a random permutation on 1..2m The sketch of d is defined as: < minsd 1(s), minsd 2(s), . . . , minsd 200(s) > (a vector of 200 numbers).

Schu¨tze: Web search

43 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

s s  2m s3 s4

1 s s s s  2m s1 s5 s3 s4

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

1

 2m

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

ss s3 s4

xk = (sk )

1

 x3

s s  s s x1 x4 x2

 2m  2m

1 s s s s  2m s1 s5 s3 s4

xk = (sk )

1

 x3

s

 s s s x1 x4

 x5



2m

1

 2m

1

 2m

1

 2m

1

 2m

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

ss s3 s4

xk = (sk )

1

 x3

s s  s s x1 x4 x2

 2m  2m

1

 x3

xk
 x1 x4

 x2

 2m

1 s s s s  2m s1 s5 s3 s4

xk = (sk )

1

 x3

s

 s s s x1 x4

 x5



2m

1

 x3

xk
 x1 x5

 x2



2m

1

 2m

1

 2m

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

ss s3 s4

xk = (sk )

1

 x3

s s  s s x1 x4 x2

 2m  2m

1

 x3

xk
 x1 x4

minsk (sk )

1

 x3

 x2

 2m

 2m

1 s s s s  2m s1 s5 s3 s4

xk = (sk )

1

 x3

s

 s s s x1 x4

 x5



2m

1

 x3

xk
 x1 x5

minsk (sk )

1

 x3

 x2



2m

 2m

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

ss s3 s4

xk = (sk )

1

 x3

s s  s s x1 x4 x2

 2m  2m

1 s s s s  2m s1 s5 s3 s4

xk = (sk )

1

 x3

s

 s s s x1 x4

 x5



2m

1

 x3

xk
 x1 x4

 x2

 2m

1

 x3

xk
 x1 x5

 x2



2m

minsk (sk )

1

 x3

 2m

minsk (sk )

1

 x3

 2m

We use minsd1 (s) = minsd2 (s) as a test for: are d1 and d2 near-duplicates?

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Permutation and minimum: Example

document 1: {sk }

document 2: {sk }

1 ss s1 s2

ss s3 s4

xk = (sk )

1

 x3

s s  s s x1 x4 x2

 2m  2m

1 s s s s  2m s1 s5 s3 s4

xk = (sk )

1

 x3

s

 s s s x1 x4

 x5



2m

1

 x3

xk
 x1 x4

 x2

 2m

1

 x3

xk
 x1 x5

 x2



2m

minsk (sk )

1

 x3

 2m

minsk (sk )

1

 x3

 2m

We use minsd1 (s) = minsd2 (s) as a test for: are d1 and d2 near-duplicates? In this case: permutation  says: d1  d2

Schu¨tze: Web search

44 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches

Size of the web

Schu¨tze: Web search

45 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches

Size of the web

Sketches: Each document is now a vector of n = 200 numbers.

Schu¨tze: Web search

45 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches

Size of the web

Sketches: Each document is now a vector of n = 200 numbers.
Much easier to deal with than the very high-dimensional space of shingles

Schu¨tze: Web search

45 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches

Size of the web

Sketches: Each document is now a vector of n = 200 numbers.
Much easier to deal with than the very high-dimensional space of shingles
But how do we compute Jaccard?

Schu¨tze: Web search

45 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard? Let U be the union of the set of shingles of d1 and d2 and I the intersection. There are |U|! permutations on U.

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.
There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)?

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.
There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)!

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.
There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)! There is a set of (|U| - 1)! different permutations for each s in I .  |I |(|U| - 1)! permutations make
arg minsd1 (s) = arg minsd2 (s) true

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard? Let U be the union of the set of shingles of d1 and d2 and I the intersection. There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)! There is a set of (|U| - 1)! different permutations for each s in I .  |I |(|U| - 1)! permutations make arg minsd1 (s) = arg minsd2 (s) true Thus, the proportion of permutations that make minsd1 (s) = minsd2 (s) true is:
|I |(|U| - 1)!
|U |!

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard? Let U be the union of the set of shingles of d1 and d2 and I the intersection. There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)! There is a set of (|U| - 1)! different permutations for each s in I .  |I |(|U| - 1)! permutations make arg minsd1 (s) = arg minsd2 (s) true Thus, the proportion of permutations that make minsd1 (s) = minsd2 (s) true is:
|I |(|U| - 1)!
|U |!

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard? Let U be the union of the set of shingles of d1 and d2 and I the intersection. There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)! There is a set of (|U| - 1)! different permutations for each s in I .  |I |(|U| - 1)! permutations make arg minsd1 (s) = arg minsd2 (s) true Thus, the proportion of permutations that make minsd1 (s) = minsd2 (s) true is:
|I |(|U| - 1)!
|U |!

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.
There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)!
There is a set of (|U| - 1)! different permutations for each s
in I .  |I |(|U| - 1)! permutations make
arg minsd1 (s) = arg minsd2 (s) true Thus, the proportion of permutations that make
minsd1 (s) = minsd2 (s) true is:

|I |(|U| - |U |!

1)!

=

|I | |U |

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Computing Jaccard for sketches (2)

Size of the web

How do we compute Jaccard?
Let U be the union of the set of shingles of d1 and d2 and I the intersection.
There are |U|! permutations on U. For s  I , for how many permutations  do we have arg minsd1 (s) = s = arg minsd2 (s)? Answer: (|U| - 1)!
There is a set of (|U| - 1)! different permutations for each s
in I .  |I |(|U| - 1)! permutations make
arg minsd1 (s) = arg minsd2 (s) true Thus, the proportion of permutations that make
minsd1 (s) = minsd2 (s) true is:

|I |(|U| - |U |!

1)!

=

|I | |U |

=

J (d1 ,

d2)

Schu¨tze: Web search

46 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s)

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s) Picking a permutation at random and outputting 1 (successful) or 0 (unsuccessful) is a Bernoulli trial.

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s) Picking a permutation at random and outputting 1 (successful) or 0 (unsuccessful) is a Bernoulli trial. Estimator of probability of success: proportion of successes in n Bernoulli trials. (n = 200)

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s) Picking a permutation at random and outputting 1 (successful) or 0 (unsuccessful) is a Bernoulli trial. Estimator of probability of success: proportion of successes in n Bernoulli trials. (n = 200) Our sketch is based on a random selection of permutations.

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard
Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s) Picking a permutation at random and outputting 1 (successful) or 0 (unsuccessful) is a Bernoulli trial. Estimator of probability of success: proportion of successes in n Bernoulli trials. (n = 200) Our sketch is based on a random selection of permutations. Thus, to compute Jaccard, count the number k of successful permutations for < d1, d2 > and divide by n = 200.

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Estimating Jaccard

Thus, the proportion of successful permutations is the Jaccard coefficient.
Permutation  is successful iff minsd1 (s) = minsd2 (s)
Picking a permutation at random and outputting 1 (successful) or 0 (unsuccessful) is a Bernoulli trial.
Estimator of probability of success: proportion of successes in n Bernoulli trials. (n = 200)
Our sketch is based on a random selection of permutations.
Thus, to compute Jaccard, count the number k of successful permutations for < d1, d2 > and divide by n = 200.
k/n = k/200 estimates J(d1, d2).

Schu¨tze: Web search

47 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Implementation

Schu¨tze: Web search

48 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Implementation
We use hash functions as an efficient type of permutation: hi : {1..2m}  {1..2m}

Schu¨tze: Web search

48 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Implementation
We use hash functions as an efficient type of permutation: hi : {1..2m}  {1..2m} Scan all shingles sk in union of two sets in arbitrary order

Schu¨tze: Web search

48 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Implementation
We use hash functions as an efficient type of permutation: hi : {1..2m}  {1..2m} Scan all shingles sk in union of two sets in arbitrary order For each hash function hi and documents d1, d2, . . .: keep slot for minimum value found so far

Schu¨tze: Web search

48 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Implementation
We use hash functions as an efficient type of permutation: hi : {1..2m}  {1..2m} Scan all shingles sk in union of two sets in arbitrary order For each hash function hi and documents d1, d2, . . .: keep slot for minimum value found so far If hi (sk ) is lower than minimum found so far: update slot

Schu¨tze: Web search

48 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Example

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web

Example

d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5
g (x) = (2x + 1) mod 5

h g

d1 slot d2 slot

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot

d2 slot

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  

d2 slot  

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
1 3

d2 slot  

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
1 3

d2 slot  
­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33

d2 slot  
­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33

d2 slot  
­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­ ­

d2 slot  
­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­ ­

d2 slot  
­ ­ 2 0

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3

d2 slot  
­ ­ 2 0

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3

d2 slot  
­ ­ 22 00

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 3 2

d2 slot  
­ ­ 22 00

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 3 2

d2 slot  
­ ­ 22 00 3 2

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22

d2 slot  
­ ­ 22 00 3 2

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22

d2 slot  
­ ­ 22 00 32 20

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 4 4

d2 slot  
­ ­ 22 00 32 20

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 4 4

d2 slot  
­ ­ 22 00 32 20 ­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42

d2 slot  
­ ­ 22 00 32 20 ­ ­

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42

d2 slot  
­ ­ 22 00 32 20 ­2 ­0

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­ ­

d2 slot  
­ ­ 22 00 32 20 ­2 ­0

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­ ­

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 0 1

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 0 1

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 00 10

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 00 10

final sketches

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5
min(h(d1)) = 1 = 0 = min(h(d2))

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 00 10

final sketches

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example
d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5 g (x) = (2x + 1) mod 5
min(h(d1)) = 1 = 0 = min(h(d2))
min(g (d1)) = 2 = 0 = min(g (d2))

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 00 10

final sketches

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection
Example

d1 d2 s1 1 0 s2 0 1 s3 1 1 s4 1 0 s5 0 1 h(x) = x mod 5
g (x) = (2x + 1) mod 5

min(h(d1)) = 1 = 0 = min(h(d2))
min(g (d1)) = 2 = 0 = min(g (d2))

J^(d1, d2)

=

0+0 2

=

0

Spam Web IR Size of the web

h g h(1) = 1 g (1) = 3 h(2) = 2 g (2) = 0 h(3) = 3 g (3) = 2 h(4) = 4 g (4) = 4 h(5) = 0 g (5) = 1

d1 slot  
11 33 ­1 ­3 31 22 41 42 ­1 ­2

d2 slot  
­ ­ 22 00 32 20 ­2 ­0 00 10

final sketches

Schu¨tze: Web search

49 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise

Schu¨tze: Web search

50 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Exercise
d1 d2 d3 s1 0 1 1 s2 1 0 1 s3 0 1 0 s4 1 0 0
h(x) = 5x + 5 mod 4 g (x) = (3x + 1) mod 4
Estimate J^(d1, d2), J^(d1, d3), J^(d2, d3)

Schu¨tze: Web search

50 / 126

Recap Big picture Ads
Solution (1)

Duplicate detection

Spam

Web IR

Size of the web

Schu¨tze: Web search

51 / 126

Recap Big picture Ads
Solution (1)

Duplicate detection

Spam

Web IR

Size of the web

Schu¨tze: Web search

51 / 126

Recap Big picture Ads
Solution (1)

Duplicate detection

Spam

Web IR

Size of the web

d1 d2 d3 s1 0 1 1 s2 1 0 1 s3 0 1 0 s4 1 0 0
h(x) = 5x + 5 mod 4 g (x) = (3x + 1) mod 4

h(1) = 2 g (1) = 0 h(2) = 3 g (2) = 3 h(3) = 0 g (3) = 2 h(4) = 1 g (4) = 1

d1 slot  
­ ­ 33 33 ­3 ­3 11 11

d2 slot  
22 00 ­2 ­0 00 20 ­0 ­0

d3 slot  
22 00 32 30 ­2 ­0 ­2 ­0

Schu¨tze: Web search

51 / 126

Recap Big picture Ads
Solution (1)

Duplicate detection

Spam

Web IR

Size of the web

d1 d2 d3 s1 0 1 1 s2 1 0 1 s3 0 1 0 s4 1 0 0
h(x) = 5x + 5 mod 4 g (x) = (3x + 1) mod 4

h(1) = 2 g (1) = 0 h(2) = 3 g (2) = 3 h(3) = 0 g (3) = 2 h(4) = 1 g (4) = 1

d1 slot  
­ ­ 33 33 ­3 ­3 11 11

d2 slot  
22 00 ­2 ­0 00 20 ­0 ­0

d3 slot  
22 00 32 30 ­2 ­0 ­2 ­0

final sketches

Schu¨tze: Web search

51 / 126

Recap Big picture Ads
Solution (2)

Duplicate detection

Spam

Web IR

Size of the web

Schu¨tze: Web search

52 / 126

Recap Big picture Ads
Solution (2)

Duplicate detection

Spam

Web IR

Size of the web

J^(d1, d2)

=

0

+ 2

0

=

0

J^(d1, d3)

=

0

+ 2

0

=

0

J^(d2, d3)

=

0

+ 2

1

=

1/2

Schu¨tze: Web search

52 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary
Input: N documents

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary
Input: N documents Choose n-gram size for shingling, e.g., n = 5

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary
Input: N documents Choose n-gram size for shingling, e.g., n = 5 Pick 200 random permutations, represented as hash functions

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary
Input: N documents Choose n-gram size for shingling, e.g., n = 5 Pick 200 random permutations, represented as hash functions Compute N sketches: 200 × N matrix shown on previous slide, one row per permutation, one column per document

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary

Input: N documents

Choose n-gram size for shingling, e.g., n = 5

Pick 200 random permutations, represented as hash functions

Compute N sketches: 200 × N matrix shown on previous

slide, one row per permutation, one column per document

Compute

N ·(N -1) 2

pairwise

similarities

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary

Input: N documents

Choose n-gram size for shingling, e.g., n = 5

Pick 200 random permutations, represented as hash functions

Compute N sketches: 200 × N matrix shown on previous

slide, one row per permutation, one column per document

Compute

N ·(N -1) 2

pairwise

similarities

Transitive closure of documents with similarity > 

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Shingling: Summary

Input: N documents

Choose n-gram size for shingling, e.g., n = 5

Pick 200 random permutations, represented as hash functions

Compute N sketches: 200 × N matrix shown on previous

slide, one row per permutation, one column per document

Compute

N ·(N -1) 2

pairwise

similarities

Transitive closure of documents with similarity > 

Index only one document from each equivalence class

Schu¨tze: Web search

53 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Now we have an extremely efficient method for estimating a Jaccard coefficient for a single pair of two documents.

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Now we have an extremely efficient method for estimating a Jaccard coefficient for a single pair of two documents.
But we still have to estimate O(N2) coefficients where N is the number of web pages.

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Now we have an extremely efficient method for estimating a Jaccard coefficient for a single pair of two documents. But we still have to estimate O(N2) coefficients where N is the number of web pages.
Still intractable

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Now we have an extremely efficient method for estimating a Jaccard coefficient for a single pair of two documents. But we still have to estimate O(N2) coefficients where N is the number of web pages.
Still intractable
One solution: locality sensitive hashing (LSH)

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Efficient near-duplicate detection

Size of the web

Now we have an extremely efficient method for estimating a Jaccard coefficient for a single pair of two documents. But we still have to estimate O(N2) coefficients where N is the number of web pages.
Still intractable
One solution: locality sensitive hashing (LSH)
Another solution: sorting (Henzinger 2006)

Schu¨tze: Web search

54 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Take-away today
Big picture Ads ­ they pay for the web Duplicate detection ­ addresses one aspect of chaotic content creation Spam detection ­ addresses one aspect of lack of central access control Probably won't get to today
Web information retrieval Size of the web

Schu¨tze: Web search

55 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

56 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The goal of spamming on the web

Size of the web

Schu¨tze: Web search

57 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The goal of spamming on the web

Size of the web

You have a page that will generate lots of revenue for you if people visit it.

Schu¨tze: Web search

57 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The goal of spamming on the web

Size of the web

You have a page that will generate lots of revenue for you if people visit it.
Therefore, you would like to direct visitors to this page.

Schu¨tze: Web search

57 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The goal of spamming on the web

Size of the web

You have a page that will generate lots of revenue for you if people visit it.
Therefore, you would like to direct visitors to this page.
One way of doing this: get your page ranked highly in search results.

Schu¨tze: Web search

57 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The goal of spamming on the web

Size of the web

You have a page that will generate lots of revenue for you if people visit it.
Therefore, you would like to direct visitors to this page.
One way of doing this: get your page ranked highly in search results.
Exercise: How can I get my page ranked highly?

Schu¨tze: Web search

57 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Keyword stuffing / Hidden text

Schu¨tze: Web search

58 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Keyword stuffing / Hidden text
Misleading meta-tags, excessive repetition

Schu¨tze: Web search

58 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Keyword stuffing / Hidden text
Misleading meta-tags, excessive repetition Hidden text with colors, style sheet tricks etc.

Schu¨tze: Web search

58 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Keyword stuffing / Hidden text
Misleading meta-tags, excessive repetition Hidden text with colors, style sheet tricks etc. Used to be very effective, most search engines now catch these

Schu¨tze: Web search

58 / 126

Recap Big picture Ads Duplicate detection
Keyword stuffing

Spam

Web IR

Size of the web

Schu¨tze: Web search

59 / 126

Recap Big picture Ads Duplicate detection
Keyword stuffing

Spam

Web IR

Size of the web

Schu¨tze: Web search

59 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Doorway and lander pages

Schu¨tze: Web search

60 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Doorway and lander pages
Doorway page: optimized for a single keyword, redirects to the real target page

Schu¨tze: Web search

60 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Spam technique: Doorway and lander pages
Doorway page: optimized for a single keyword, redirects to the real target page Lander page: optimized for a single keyword or a misspelled domain name, designed to attract surfers who will then click on ads

Schu¨tze: Web search

60 / 126

Recap Big picture Ads
Lander page

Duplicate detection

Spam

Web IR

Size of the web

Schu¨tze: Web search

61 / 126

Recap Big picture Ads
Lander page

Duplicate detection

Spam

Web IR

Size of the web

Number one hit on Google for the search "composita"

Schu¨tze: Web search

61 / 126

Recap Big picture Ads
Lander page

Duplicate detection

Spam

Web IR

Size of the web

Number one hit on Google for the search "composita"
The only purpose of this page: get people to click on the ads and make money for the page owner

Schu¨tze: Web search

61 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Duplication

Web IR

Size of the web

Schu¨tze: Web search

62 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Duplication

Web IR

Size of the web

Get good content from somewhere (steal it or produce it yourself)

Schu¨tze: Web search

62 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Duplication

Web IR

Size of the web

Get good content from somewhere (steal it or produce it yourself)
Publish a large number of slight variations of it

Schu¨tze: Web search

62 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Duplication

Web IR

Size of the web

Get good content from somewhere (steal it or produce it yourself)
Publish a large number of slight variations of it
For example, publish the answer to a tax question with the spelling variations of "tax deferred" on the previous slide

Schu¨tze: Web search

62 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Cloaking

Web IR

Size of the web

Schu¨tze: Web search

63 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Cloaking

Web IR

Size of the web

Serve fake content to search engine spider
Schu¨tze: Web search

63 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Cloaking

Web IR

Size of the web

Serve fake content to search engine spider So do we just penalize this always?
Schu¨tze: Web search

63 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Cloaking

Web IR

Size of the web

Serve fake content to search engine spider So do we just penalize this always? No: legitimate uses (e.g., different content to US vs. European users)
Schu¨tze: Web search

63 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote
Put these links on pages with high (or at least non-zero) PageRank

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote
Put these links on pages with high (or at least non-zero) PageRank
Newly registered domains (domain flooding)

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote
Put these links on pages with high (or at least non-zero) PageRank
Newly registered domains (domain flooding) A set of pages that all point to each other to boost each other's PageRank (mutual admiration society)

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote
Put these links on pages with high (or at least non-zero) PageRank
Newly registered domains (domain flooding) A set of pages that all point to each other to boost each other's PageRank (mutual admiration society) Pay somebody to put your link on their highly ranked page ("schuetze horoskop" example)

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam
Spam technique: Link spam

Web IR

Size of the web

Create lots of links pointing to the page you want to promote
Put these links on pages with high (or at least non-zero) PageRank
Newly registered domains (domain flooding) A set of pages that all point to each other to boost each other's PageRank (mutual admiration society) Pay somebody to put your link on their highly ranked page ("schuetze horoskop" example) Leave comments that include the link on blogs

Schu¨tze: Web search

64 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO. You can hire an SEO firm to get your page highly ranked.

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.
For example, Google bombs like Who is a failure?

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.
For example, Google bombs like Who is a failure? And there are many legitimate ways of achieving this:

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.
For example, Google bombs like Who is a failure? And there are many legitimate ways of achieving this:
Restructure your content in a way that makes it easy to index

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.
For example, Google bombs like Who is a failure? And there are many legitimate ways of achieving this:
Restructure your content in a way that makes it easy to index Talk with influential bloggers and have them link to your site

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
SEO: Search engine optimization

Size of the web

Promoting a page in the search rankings is not necessarily spam.
It can also be a legitimate business ­ which is called SEO.
You can hire an SEO firm to get your page highly ranked. There are many legitimate reasons for doing this.
For example, Google bombs like Who is a failure? And there are many legitimate ways of achieving this:
Restructure your content in a way that makes it easy to index Talk with influential bloggers and have them link to your site Add more interesting and original content

Schu¨tze: Web search

65 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc)

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page)

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone)

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning Editorial intervention

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning Editorial intervention
Blacklists

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning Editorial intervention
Blacklists Top queries audited

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning Editorial intervention
Blacklists Top queries audited Complaints addressed

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
The war against spam
Quality indicators Links, statistically analyzed (PageRank etc) Usage (users visiting a page) No adult content (e.g., no pictures with flesh-tone) Distribution and structure of text (e.g., no keyword stuffing)
Combine all of these indicators and use machine learning Editorial intervention
Blacklists Top queries audited Complaints addressed Suspect patterns detected

Schu¨tze: Web search

66 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines
Major search engines have guidelines for webmasters.

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines
Major search engines have guidelines for webmasters. These guidelines tell you what is legitimate SEO and what is spamming.

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines
Major search engines have guidelines for webmasters. These guidelines tell you what is legitimate SEO and what is spamming. Ignore these guidelines at your own risk

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines
Major search engines have guidelines for webmasters. These guidelines tell you what is legitimate SEO and what is spamming. Ignore these guidelines at your own risk Once a search engine identifies you as a spammer, all pages on your site may get low ranks (or disappear from the index entirely).

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines
Major search engines have guidelines for webmasters. These guidelines tell you what is legitimate SEO and what is spamming. Ignore these guidelines at your own risk Once a search engine identifies you as a spammer, all pages on your site may get low ranks (or disappear from the index entirely). There is often a fine line between spam and legitimate SEO.

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Webmaster guidelines

Major search engines have guidelines for webmasters.
These guidelines tell you what is legitimate SEO and what is spamming.
Ignore these guidelines at your own risk
Once a search engine identifies you as a spammer, all pages on your site may get low ranks (or disappear from the index entirely).
There is often a fine line between spam and legitimate SEO.
Scientific study of fighting spam on the web: adversarial information retrieval

Schu¨tze: Web search

67 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

68 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection.

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them.

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them. Users: Users are different, more varied and there are a lot of them.

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them. Users: Users are different, more varied and there are a lot of them. Documents: Documents are different, more varied and there are a lot of them.

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them. Users: Users are different, more varied and there are a lot of them. Documents: Documents are different, more varied and there are a lot of them. Context: Context is more important on the web than in many other IR applications.

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them. How many? Users: Users are different, more varied and there are a lot of them. How many? Documents: Documents are different, more varied and there are a lot of them. How many? Context: Context is more important on the web than in many other IR applications. Ads and spam

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web IR: Differences from traditional IR
Links: The web is a hyperlinked document collection. Queries: Web queries are different, more varied and there are a lot of them. How many?  109 Users: Users are different, more varied and there are a lot of them. How many?  109 Documents: Documents are different, more varied and there are a lot of them. How many?  1011 Context: Context is more important on the web than in many other IR applications. Ads and spam

Schu¨tze: Web search

69 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

70 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (1)

Schu¨tze: Web search

71 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (1)

Most frequent queries on a large search engine on 2002.10.26.

1 sex

16 crack

31 juegos

46

2 (artifact) 17 games

3 (artifact) 18 pussy

4 porno

19 cracks

32 nude 33 music 34 musica

47 48 49

5 mp3

20 lolita

35 anal

50

6 Halloween 21 britney spears 36 free6

51

7 sexo

22 ebay

37 avril lavigne 52

8 chat 9 porn 10 yahoo

23 sexe 24 Pamela Anderson 25 warez

38 hotmail.com 53

39 winzip

54

40 fuck

55

11 KaZaA 12 xxx

26 divx 27 gay

41 wallpaper 56 42 hotmail.com 57

13 Hentai 28 harry potter 43 postales

58

14 lyrics

29 playboy

44 shakira

15 hotmail 30 lolitas

45 traductor

More than 1/3 of these are queries for adult content.

59 60

Caramail msn jennifer lopez tits free porn cheats yahoo.com eminem
Christina Aguilera
incest
letras de canciones
hardcore weather wallpapers lingerie

Schu¨tze: Web search

71 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (1)

Most frequent queries on a large search engine on 2002.10.26.

1 sex

16 crack

31 juegos

46 Caramail

2 (artifact) 17 games

32 nude

47 msn

3 (artifact) 18 pussy

33 music

48 jennifer lopez

4 porno

19 cracks

34 musica

49 tits

5 mp3

20 lolita

35 anal

50 free porn

6 Halloween 21 britney spears 36 free6

51 cheats

7 sexo

22 ebay

37 avril lavigne 52 yahoo.com

8 chat

23 sexe

38 hotmail.com 53 eminem

9 porn

24 Pamela Anderson

39 winzip

54 Christina Aguilera

10 yahoo

25 warez

40 fuck

55 incest

11 KaZaA 26 divx

41 wallpaper

56 letras de canciones

12 xxx

27 gay

42 hotmail.com 57 hardcore

13 Hentai 28 harry potter 43 postales

58 weather

14 lyrics

29 playboy

44 shakira

59 wallpapers

15 hotmail 30 lolitas

45 traductor 60 lingerie

More than 1/3 of these are queries for adult content. Exercise: Does this

mean that most people are looking for adult content?

Schu¨tze: Web search

71 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)
Queries have a power law distribution.

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)
Queries have a power law distribution. Recall Zipf's law: a few very frequent words, a large number of very rare words

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)
Queries have a power law distribution. Recall Zipf's law: a few very frequent words, a large number of very rare words Same here: a few very frequent queries, a large number of very rare queries

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)
Queries have a power law distribution. Recall Zipf's law: a few very frequent words, a large number of very rare words Same here: a few very frequent queries, a large number of very rare queries Examples of rare queries: search for names, towns, books etc

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Query distribution (2)
Queries have a power law distribution. Recall Zipf's law: a few very frequent words, a large number of very rare words Same here: a few very frequent queries, a large number of very rare queries Examples of rare queries: search for names, towns, books etc The proportion of adult queries is much lower than 1/3

Schu¨tze: Web search

72 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin"

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class.

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs.

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines"

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines" Transactional user needs: I want to make a transaction.

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines" Transactional user needs: I want to make a transaction.
Buy something: "MacBook Air"

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines" Transactional user needs: I want to make a transaction.
Buy something: "MacBook Air" Download something: "Acrobat Reader"

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search
Informational user needs: I need information on something. "low hemoglobin" We called this "information need" earlier in the class. On the web, information needs proper are only a subclass of user needs. Other user needs: Navigational and transactional Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines" Transactional user needs: I want to make a transaction.
Buy something: "MacBook Air" Download something: "Acrobat Reader" Chat with someone: "live soccer chat"

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Types of queries / user needs in web search

Informational user needs: I need information on something. "low hemoglobin"
We called this "information need" earlier in the class.
On the web, information needs proper are only a subclass of user needs.
Other user needs: Navigational and transactional
Navigational user needs: I want to go to this web site. "hotmail", "myspace", "United Airlines" Transactional user needs: I want to make a transaction.
Buy something: "MacBook Air" Download something: "Acrobat Reader" Chat with someone: "live soccer chat"
Difficult problem: How can the search engine tell what the user need or intent for a particular query is?

Schu¨tze: Web search

73 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

74 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Search in a hyperlinked collection

Size of the web

Schu¨tze: Web search

75 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Search in a hyperlinked collection

Size of the web

Web search in most cases is interleaved with navigation . . .

Schu¨tze: Web search

75 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Search in a hyperlinked collection

Size of the web

Web search in most cases is interleaved with navigation . . . . . . i.e., with following links.

Schu¨tze: Web search

75 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Search in a hyperlinked collection

Size of the web

Web search in most cases is interleaved with navigation . . . . . . i.e., with following links. Different from most other IR collections

Schu¨tze: Web search

75 / 126

Recap Big picture Ads Duplicate detection Spam
Bowtie structure of the web

Web IR

Size of the web

Schu¨tze: Web search

77 / 126

Recap Big picture Ads Duplicate detection Spam
Bowtie structure of the web

Web IR

Size of the web

Strongly connected component (SCC) in the center
Schu¨tze: Web search

77 / 126

Recap Big picture Ads Duplicate detection Spam
Bowtie structure of the web

Web IR

Size of the web

Strongly connected component (SCC) in the center Lots of pages that get linked to, but don't link (OUT)
Schu¨tze: Web search

77 / 126

Recap Big picture Ads Duplicate detection Spam
Bowtie structure of the web

Web IR

Size of the web

Strongly connected component (SCC) in the center Lots of pages that get linked to, but don't link (OUT) Lots of pages that link to other pages, but don't get linked to (IN)

Schu¨tze: Web search

77 / 126

Recap Big picture Ads Duplicate detection Spam
Bowtie structure of the web

Web IR

Size of the web

Strongly connected component (SCC) in the center Lots of pages that get linked to, but don't link (OUT) Lots of pages that link to other pages, but don't get linked to (IN) Tendrils, tubes, islands
Schu¨tze: Web search

77 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

78 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent?

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction Precomputed "typing" of queries (next slide)

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction Precomputed "typing" of queries (next slide) Better: Guess user intent based on context:

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction Precomputed "typing" of queries (next slide) Better: Guess user intent based on context: Geographic context (slide after next)

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction Precomputed "typing" of queries (next slide) Better: Guess user intent based on context: Geographic context (slide after next) Context of user in this session (e.g., previous query)

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
User intent: Answering the need behind the query
What can we do to guess user intent? Guess user intent independent of context:
Spell correction Precomputed "typing" of queries (next slide) Better: Guess user intent based on context: Geographic context (slide after next) Context of user in this session (e.g., previous query) Context provided by personal profile (Yahoo/MSN do this, Google claims it doesn't)

Schu¨tze: Web search

79 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764 Flight info: LH 454

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764 Flight info: LH 454 Area code: 650

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764 Flight info: LH 454 Area code: 650 Map: columbus oh

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764 Flight info: LH 454 Area code: 650 Map: columbus oh Stock price: msft

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Guessing of user intent by "typing" queries
Calculation: 5+4 Unit conversion: 1 kg in pounds Currency conversion: 1 euro in kronor Tracking number: 8167 2278 6764 Flight info: LH 454 Area code: 650 Map: columbus oh Stock price: msft Albums/movies etc: coldplay

Schu¨tze: Web search

80 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations Server (nytimes.com  New York)

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania)

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user IP address

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user
IP address Information provided by user (e.g., in user profile)

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user
IP address Information provided by user (e.g., in user profile) Mobile phone

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user
IP address Information provided by user (e.g., in user profile) Mobile phone
Geo-tagging: Parse text and identify the coordinates of the geographic entities

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user
IP address Information provided by user (e.g., in user profile) Mobile phone
Geo-tagging: Parse text and identify the coordinates of the geographic entities
Example: East Palo Alto CA  Latitude: 37.47 N, Longitude: 122.14 W

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
The spatial context: Geo-search

Size of the web

Three relevant locations
Server (nytimes.com  New York) Web page (nytimes.com article about Albania) User (located in Palo Alto)
Locating the user
IP address Information provided by user (e.g., in user profile) Mobile phone
Geo-tagging: Parse text and identify the coordinates of the geographic entities
Example: East Palo Alto CA  Latitude: 37.47 N, Longitude: 122.14 W Important NLP problem

Schu¨tze: Web search

81 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?
Result restriction: Don't consider inappropriate results

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?
Result restriction: Don't consider inappropriate results For user on google.fr . . .

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?
Result restriction: Don't consider inappropriate results For user on google.fr . . . . . . only show .fr results

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?
Result restriction: Don't consider inappropriate results For user on google.fr . . . . . . only show .fr results
Ranking modulation: use a rough generic ranking, rerank based on personal context

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do we use context to modify query results?
Result restriction: Don't consider inappropriate results For user on google.fr . . . . . . only show .fr results
Ranking modulation: use a rough generic ranking, rerank based on personal context Contextualization / personalization is an area of search with a lot of potential for improvement.

Schu¨tze: Web search

82 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

83 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3)

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators Don't want to spend a lot of time on composing a query

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators Don't want to spend a lot of time on composing a query Only look at the first couple of results

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators Don't want to spend a lot of time on composing a query Only look at the first couple of results Want a simple UI, not a search engine start page overloaded with graphics

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators Don't want to spend a lot of time on composing a query Only look at the first couple of results Want a simple UI, not a search engine start page overloaded with graphics Extreme variability in terms of user needs, user expectations, experience, knowledge, . . .

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search
Use short queries (average < 3) Rarely use operators Don't want to spend a lot of time on composing a query Only look at the first couple of results Want a simple UI, not a search engine start page overloaded with graphics Extreme variability in terms of user needs, user expectations, experience, knowledge, . . .
Industrial/developing world, English/Estonian, old/young, rich/poor, differences in culture and class

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Users of web search

Use short queries (average < 3)
Rarely use operators
Don't want to spend a lot of time on composing a query
Only look at the first couple of results
Want a simple UI, not a search engine start page overloaded with graphics Extreme variability in terms of user needs, user expectations, experience, knowledge, . . .
Industrial/developing world, English/Estonian, old/young, rich/poor, differences in culture and class
One interface for hugely divergent needs

Schu¨tze: Web search

84 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?
Classic IR relevance (as measured by F ) can also be used for web IR.

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?
Classic IR relevance (as measured by F ) can also be used for web IR. Equally important: Trust, duplicate elimination, readability, loads fast, no pop-ups

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?
Classic IR relevance (as measured by F ) can also be used for web IR. Equally important: Trust, duplicate elimination, readability, loads fast, no pop-ups On the web, precision is more important than recall.

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?
Classic IR relevance (as measured by F ) can also be used for web IR. Equally important: Trust, duplicate elimination, readability, loads fast, no pop-ups On the web, precision is more important than recall.
Precision at 1, precision at 10, precision on the first 2-3 pages

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How do users evaluate search engines?
Classic IR relevance (as measured by F ) can also be used for web IR. Equally important: Trust, duplicate elimination, readability, loads fast, no pop-ups On the web, precision is more important than recall.
Precision at 1, precision at 10, precision on the first 2-3 pages But there is a subset of queries where recall matters.

Schu¨tze: Web search

85 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web information needs that require high recall

Schu¨tze: Web search

86 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web information needs that require high recall
Has this idea been patented?

Schu¨tze: Web search

86 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web information needs that require high recall
Has this idea been patented? Searching for info on a prospective financial advisor

Schu¨tze: Web search

86 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web information needs that require high recall
Has this idea been patented? Searching for info on a prospective financial advisor Searching for info on a prospective employee

Schu¨tze: Web search

86 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web information needs that require high recall
Has this idea been patented? Searching for info on a prospective financial advisor Searching for info on a prospective employee Searching for info on a date

Schu¨tze: Web search

86 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

87 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections
Distributed content creation: no design, no coordination

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections
Distributed content creation: no design, no coordination "Democratization of publishing"

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections
Distributed content creation: no design, no coordination "Democratization of publishing" Result: extreme heterogeneity of documents on the web

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections
Distributed content creation: no design, no coordination "Democratization of publishing" Result: extreme heterogeneity of documents on the web
Unstructured (text, html), semistructured (html, xml), structured/relational (databases)

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web documents: different from other IR collections
Distributed content creation: no design, no coordination "Democratization of publishing" Result: extreme heterogeneity of documents on the web
Unstructured (text, html), semistructured (html, xml), structured/relational (databases) Dynamically generated content

Schu¨tze: Web search

88 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content

Schu¨tze: Web search

89 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content

Dynamic pages are generated from scratch when the user requests them ­ usually from underlying data in a database.

Schu¨tze: Web search

89 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content

Dynamic pages are generated from scratch when the user requests them ­ usually from underlying data in a database.
Example: current status of flight LH 454

Schu¨tze: Web search

89 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content (2)

Schu¨tze: Web search

90 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content (2)
Most (truly) dynamic content is ignored by web spiders.

Schu¨tze: Web search

90 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content (2)
Most (truly) dynamic content is ignored by web spiders. It's too much to index it all.

Schu¨tze: Web search

90 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Dynamic content (2)
Most (truly) dynamic content is ignored by web spiders. It's too much to index it all.
Actually, a lot of "static" content is also assembled on the fly (asp, php etc.: headers, date, ads etc)

Schu¨tze: Web search

90 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web pages change frequently (Fetterly 1997)

Schu¨tze: Web search

91 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Web pages change frequently (Fetterly 1997)

Schu¨tze: Web search

91 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages First cut: Don't return English results for a Japanese query

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages First cut: Don't return English results for a Japanese query However: Frequent mismatches query/document languages

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages First cut: Don't return English results for a Japanese query However: Frequent mismatches query/document languages Many people can understand, but not query in a language

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages First cut: Don't return English results for a Japanese query However: Frequent mismatches query/document languages Many people can understand, but not query in a language Translation is important.

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Multilinguality
Documents in a large number of languages Queries in a large number of languages First cut: Don't return English results for a Japanese query However: Frequent mismatches query/document languages Many people can understand, but not query in a language Translation is important. Google example: "Beaujolais Nouveau -wine"

Schu¨tze: Web search

92 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate documents

Schu¨tze: Web search

93 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate documents
Significant duplication ­ 30%­40% duplicates in some studies

Schu¨tze: Web search

93 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate documents
Significant duplication ­ 30%­40% duplicates in some studies Duplicates in the search results were common in the early days of the web.

Schu¨tze: Web search

93 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate documents
Significant duplication ­ 30%­40% duplicates in some studies Duplicates in the search results were common in the early days of the web. Today's search engines eliminate duplicates very effectively.

Schu¨tze: Web search

93 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Duplicate documents
Significant duplication ­ 30%­40% duplicates in some studies Duplicates in the search results were common in the early days of the web. Today's search engines eliminate duplicates very effectively. Key for high user satisfaction

Schu¨tze: Web search

93 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.
A collection of Reuters newswire articles

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.
A collection of Reuters newswire articles A collection of TASS (Telegraph Agency of the Soviet Union) newswire articles from the 1980s

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.
A collection of Reuters newswire articles A collection of TASS (Telegraph Agency of the Soviet Union) newswire articles from the 1980s Your Outlook email from the last three years

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.
A collection of Reuters newswire articles A collection of TASS (Telegraph Agency of the Soviet Union) newswire articles from the 1980s Your Outlook email from the last three years Web documents are different: In many cases, we don't know how to evaluate the information.

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Trust
For many collections, it is easy to assess the trustworthiness of a document.
A collection of Reuters newswire articles A collection of TASS (Telegraph Agency of the Soviet Union) newswire articles from the 1980s Your Outlook email from the last three years Web documents are different: In many cases, we don't know how to evaluate the information. Hoaxes abound.

Schu¨tze: Web search

94 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

95 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Growth of the web

Schu¨tze: Web search

96 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Growth of the web

The web keeps growing.
Schu¨tze: Web search

96 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Growth of the web

The web keeps growing. But growth is no longer exponential?
Schu¨tze: Web search

96 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available?

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available? Some servers are seldom connected.

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available? Some servers are seldom connected.
Example: Your laptop running a web server

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available? Some servers are seldom connected.
Example: Your laptop running a web server Is it part of the web?

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available? Some servers are seldom connected.
Example: Your laptop running a web server Is it part of the web? The "dynamic" web is infinite.

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
What is size? Number of web servers? Number of pages? Terabytes of data available? Some servers are seldom connected.
Example: Your laptop running a web server Is it part of the web? The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4")

Schu¨tze: Web search

97 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues

Schu¨tze: Web search

98 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes?

Schu¨tze: Web search

98 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes? Can I claim a page is in the index if I only index anchor text pointing to the page?

Schu¨tze: Web search

98 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes? Can I claim a page is in the index if I only index anchor text pointing to the page?
There used to be (and still are?) billions of pages that are only indexed by anchor text.

Schu¨tze: Web search

98 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound

Schu¨tze: Web search

99 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages

Schu¨tze: Web search

99 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/ir/sizeoftheweb.html

Schu¨tze: Web search

99 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07 and  25,350,000,000 on 2008.07.03

Schu¨tze: Web search

99 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07 and  25,350,000,000 on 2008.07.03 But page counts of google search results are only rough estimates.

Schu¨tze: Web search

99 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Outline
1 Recap 2 Big picture 3 Ads 4 Duplicate detection 5 Spam 6 Web IR
Queries Links Context Users Documents Size 7 Size of the web
Schu¨tze: Web search

100 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media Users

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media
Users They may switch to the search engine that has the best coverage of the web.

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media
Users
They may switch to the search engine that has the best coverage of the web. Users (sometimes) care about recall. If we underestimate the size of the web, search engine results may have low recall.

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media
Users They may switch to the search engine that has the best coverage of the web. Users (sometimes) care about recall. If we underestimate the size of the web, search engine results may have low recall.
Search engine designers (how many pages do I need to be able to handle?)

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam
Size of the web: Who cares?

Web IR

Size of the web

Media Users
They may switch to the search engine that has the best coverage of the web. Users (sometimes) care about recall. If we underestimate the size of the web, search engine results may have low recall.
Search engine designers (how many pages do I need to be able to handle?)
Crawler designers (which policy will crawl close to N pages?)

Schu¨tze: Web search

101 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
What is the size of the web? Any guesses?

Schu¨tze: Web search

102 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/lehre/teaching/2007-SS/ir/sizeoftheweb.html

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/lehre/teaching/2007-SS/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/lehre/teaching/2007-SS/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07 Big if: Page counts of google search results are correct. (Generally, they are just rough estimates.)

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/lehre/teaching/2007-SS/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07 Big if: Page counts of google search results are correct. (Generally, they are just rough estimates.) But this is just a lower bound, based on one search engine.

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Simple method for determining a lower bound
OR-query of frequent words in a number of languages http://ifnlp.org/lehre/teaching/2007-SS/ir/sizeoftheweb.html According to this query: Size of web  21,450,000,000 on 2007.07.07 Big if: Page counts of google search results are correct. (Generally, they are just rough estimates.) But this is just a lower bound, based on one search engine. How can we do better?

Schu¨tze: Web search

103 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite.

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4")

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4") Many other dynamic sites generating infinite number of pages

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4") Many other dynamic sites generating infinite number of pages
The static web contains duplicates ­ each "equivalence class" should only be counted once.

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4") Many other dynamic sites generating infinite number of pages
The static web contains duplicates ­ each "equivalence class" should only be counted once. Some servers are seldom connected.

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4") Many other dynamic sites generating infinite number of pages
The static web contains duplicates ­ each "equivalence class" should only be counted once. Some servers are seldom connected.
Example: Your laptop

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Size of the web: Issues
The "dynamic" web is infinite. Any sum of two numbers is its own dynamic page on Google. (Example: "2+4") Many other dynamic sites generating infinite number of pages
The static web contains duplicates ­ each "equivalence class" should only be counted once. Some servers are seldom connected.
Example: Your laptop Is it part of the web?

Schu¨tze: Web search

104 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues

Schu¨tze: Web search

105 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes?

Schu¨tze: Web search

105 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes? Can I claim a page is in the index if I only index anchor text pointing to the page?

Schu¨tze: Web search

105 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
"Search engine index contains N pages": Issues
Can I claim a page is in the index if I only index the first 4000 bytes? Can I claim a page is in the index if I only index anchor text pointing to the page?
There used to be (and still are?) billions of pages that are only indexed by anchor text.

Schu¨tze: Web search

105 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
How can we estimate the size of the web?

Schu¨tze: Web search

106 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Sampling methods

Schu¨tze: Web search

107 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Sampling methods
Random queries

Schu¨tze: Web search

107 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Sampling methods
Random queries Random searches

Schu¨tze: Web search

107 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Sampling methods
Random queries Random searches Random IP addresses

Schu¨tze: Web search

107 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Sampling methods
Random queries Random searches Random IP addresses Random walks

Schu¨tze: Web search

107 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes
There are significant differences between indexes of different search engines.

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes
There are significant differences between indexes of different search engines. Different engines have different preferences.

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes
There are significant differences between indexes of different search engines. Different engines have different preferences.
max url depth, max count/host, anti-spam rules, priority rules etc.

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes
There are significant differences between indexes of different search engines. Different engines have different preferences.
max url depth, max count/host, anti-spam rules, priority rules etc. Different engines index different things under the same URL.

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Variant: Estimate relative sizes of indexes
There are significant differences between indexes of different search engines. Different engines have different preferences.
max url depth, max count/host, anti-spam rules, priority rules etc. Different engines index different things under the same URL. anchor text, frames, meta-keywords, size of prefix etc.

Schu¨tze: Web search

108 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL
Problem: Random URLs are hard to find (and sampling distribution should reflect "user interest")

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL
Problem: Random URLs are hard to find (and sampling distribution should reflect "user interest") Approach 1: Random walks / IP addresses

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL
Problem: Random URLs are hard to find (and sampling distribution should reflect "user interest") Approach 1: Random walks / IP addresses
In theory: might give us a true estimate of the size of the web (as opposed to just relative sizes of indexex)

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL
Problem: Random URLs are hard to find (and sampling distribution should reflect "user interest")
Approach 1: Random walks / IP addresses In theory: might give us a true estimate of the size of the web (as opposed to just relative sizes of indexex)
Approach 2: Generate a random URL contained in a given engine

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection
Sampling URLs

Spam

Web IR

Size of the web

Ideal strategy: Generate a random URL
Problem: Random URLs are hard to find (and sampling distribution should reflect "user interest")
Approach 1: Random walks / IP addresses In theory: might give us a true estimate of the size of the web (as opposed to just relative sizes of indexex)
Approach 2: Generate a random URL contained in a given engine
Suffices for accurate estimation of relative size

Schu¨tze: Web search

110 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation Vocabulary can be generated from web crawl

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation
Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2
Example: vocalists AND rsi

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation
Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2
Example: vocalists AND rsi
Get result set of one hundred URLs from the source engine

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2
Example: vocalists AND rsi
Get result set of one hundred URLs from the source engine Choose a random URL from the result set

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation
Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2
Example: vocalists AND rsi
Get result set of one hundred URLs from the source engine
Choose a random URL from the result set
This sampling method induces a weight W (p) for each page p.

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Random URLs from random queries

Size of the web

Idea: Use vocabulary of the web for query generation Vocabulary can be generated from web crawl Use conjunctive queries w1 AND w2
Example: vocalists AND rsi
Get result set of one hundred URLs from the source engine Choose a random URL from the result set This sampling method induces a weight W (p) for each page p. Method was used by Bharat and Broder (1998).

Schu¨tze: Web search

111 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this Or: Create a query that will find doc d with high probability

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this Or: Create a query that will find doc d with high probability
Download doc, extract words

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability Download doc, extract words Use 8 low frequency word as AND query

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query Check if d is in result set

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query Check if d is in result set
Problems

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query Check if d is in result set
Problems
Near duplicates

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query Check if d is in result set
Problems
Near duplicates Redirects

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR
Checking if a page is in the index

Size of the web

Either: Search for URL if the engine supports this
Or: Create a query that will find doc d with high probability
Download doc, extract words Use 8 low frequency word as AND query Call this a strong query for d Run query Check if d is in result set
Problems
Near duplicates Redirects Engine time-outs

Schu¨tze: Web search

112 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random searches

Schu¨tze: Web search

115 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random searches
Choose random searches extracted from a search engine log (Lawrence & Giles 97)

Schu¨tze: Web search

115 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random searches
Choose random searches extracted from a search engine log (Lawrence & Giles 97) Use only queries with small result sets

Schu¨tze: Web search

115 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random searches
Choose random searches extracted from a search engine log (Lawrence & Giles 97) Use only queries with small result sets For each random query: compute ratio size(r1)/size(r2) of the two result sets

Schu¨tze: Web search

115 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random searches
Choose random searches extracted from a search engine log (Lawrence & Giles 97) Use only queries with small result sets For each random query: compute ratio size(r1)/size(r2) of the two result sets Average over random searches

Schu¨tze: Web search

115 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage
Might be a better reflection of the human perception of coverage

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage Might be a better reflection of the human perception of coverage
Issues

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage Might be a better reflection of the human perception of coverage
Issues Samples are correlated with source of log (unfair advantage for originating search engine)

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage
Might be a better reflection of the human perception of coverage
Issues
Samples are correlated with source of log (unfair advantage for originating search engine) Duplicates

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages & disadvantages

Web IR

Size of the web

Advantage
Might be a better reflection of the human perception of coverage
Issues
Samples are correlated with source of log (unfair advantage for originating search engine) Duplicates Technical statistical problems (must have non-zero results, ratio average not statistically sound)

Schu¨tze: Web search

116 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random IP addresses [ONei97,Lawr99]

Schu¨tze: Web search

120 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random IP addresses [ONei97,Lawr99]
[Lawr99] exhaustively crawled 2500 servers and extrapolated

Schu¨tze: Web search

120 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Random IP addresses [ONei97,Lawr99]
[Lawr99] exhaustively crawled 2500 servers and extrapolated Estimated size of the web to be 800 million

Schu¨tze: Web search

120 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index)

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies
Disadvantages

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies
Disadvantages Many hosts share one IP ( oversampling)

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies
Disadvantages
Many hosts share one IP ( oversampling) Hosts with large web sites don't get more weight than hosts with small web sites ( possible undersampling)

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies
Disadvantages
Many hosts share one IP ( oversampling) Hosts with large web sites don't get more weight than hosts with small web sites ( possible undersampling) Sensitive to spam (multiple IPs for same spam server)

Schu¨tze: Web search

121 / 126

Recap Big picture Ads Duplicate detection Spam
Advantages and disadvantages

Web IR

Size of the web

Advantages
Can, in theory, estimate the size of the accessible web (as opposed to the (relative) size of an index) Clean statistics Independent of crawling strategies
Disadvantages
Many hosts share one IP ( oversampling) Hosts with large web sites don't get more weight than hosts with small web sites ( possible undersampling) Sensitive to spam (multiple IPs for same spam server) Again, duplicates

Schu¨tze: Web search

121 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Schu¨tze: Web search

125 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Many different approaches to web size estimation.

Schu¨tze: Web search

125 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Many different approaches to web size estimation. None is perfect.

Schu¨tze: Web search

125 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Many different approaches to web size estimation. None is perfect. The problem has gotten much harder.

Schu¨tze: Web search

125 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Many different approaches to web size estimation. None is perfect. The problem has gotten much harder. There hasn't been a good study for a couple of years.

Schu¨tze: Web search

125 / 126

Recap Big picture Ads
Conclusion

Duplicate detection

Spam

Web IR

Size of the web

Many different approaches to web size estimation. None is perfect. The problem has gotten much harder. There hasn't been a good study for a couple of years. Great topic for a thesis!

Schu¨tze: Web search

125 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org
Hal Varian explains Google second price auction: http://www.youtube.com/watch?v=K7l0a2PVhPQ

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org
Hal Varian explains Google second price auction: http://www.youtube.com/watch?v=K7l0a2PVhPQ Size of the web queries

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org
Hal Varian explains Google second price auction: http://www.youtube.com/watch?v=K7l0a2PVhPQ Size of the web queries Trademark issues (Geico and Vuitton cases)

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org
Hal Varian explains Google second price auction: http://www.youtube.com/watch?v=K7l0a2PVhPQ Size of the web queries Trademark issues (Geico and Vuitton cases) How ads are priced

Schu¨tze: Web search

126 / 126

Recap Big picture Ads Duplicate detection Spam Web IR Size of the web
Resources
Chapter 19 of IIR Resources at http://cislmu.org
Hal Varian explains Google second price auction: http://www.youtube.com/watch?v=K7l0a2PVhPQ Size of the web queries Trademark issues (Geico and Vuitton cases) How ads are priced Henzinger, Finding near-duplicate web pages: A large-scale evaluation of algorithms, ACM SIGIR 2006.

Schu¨tze: Web search

126 / 126

