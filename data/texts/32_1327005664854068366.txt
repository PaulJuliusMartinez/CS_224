Troff User's Manual
Joseph F. Ossanna Brian W. Kernighan
bwk@research.bell-labs.com
Introduction Troff =@ nroff =HA JANJ FH?AIIHI JD=J BH=J JANJ BH JOFAIAJJAH =@
JOFAMHEJAHEA JAHE=I HAIFA?JELAO 6DAO =??AFJ EAI B JANJ EJAHIFAHIA@ MEJD EAI B BH=J ?JH EBH=JE =@ BH=J JDA JANJ EJ = FHEJ=>A F=CE=JA@ @?KAJ D=LEC = KIAH@AIECA@ IJOA Troff =@ nroff BBAH KKIK= BHAA@ E @?KAJ IJO EC =H>EJH=HO IJOA DA=@AHI =@ BJAHI =H>EJH=HO IJOA BJJAI KJEFA =KJ=JE? IAGKA?A K>AHEC BH F=H=CH=FDI IA?JEI AJ? KJEFA ?K KJFKJ @O=E? BJ =@ FEJIEA ?JH =H>EJH=HO DHEJ= =@ LAHJE?= ?= JEI =J =O FEJ =@ = B=EO B =KJ=JE? LAHIJHEEC >H=?AJ ?IJHK?JE =@ EA@H=MEC BK? JEI
Troff FH@K?AI EJI KJFKJ E = @ALE?AE@AFA@AJ BH =JDKCD F=H=AJAHEA@ BH = IFA?EBE? @ALE?A troff KJFKJ KIJ >A FH?AIIA@ >O = @HELAH BH JD=J @ALE?A J FH @K?AFHEJA@KJFKJ
Troff =@ nroff =HADECDO ?F=JE>A MEJD A=?D JDAH =@ EJ EI =IJ =M=OI FIIE >A J FHAF=HA EFKJ =??AFJ=>A J >JD +@EJE= EFKJ EI FHLE@A@ J A=>A JDA KIAH J A>A@ EFKJ ANFHAIIO @AIJEA@ BH AEJDAH FHCH= Nroff ?= FHAF=HA KJFKJ @EHA?JO BH = L=HEAJO B JAHE= JOFAI =@ EI ?=F=>A B KJEEEC JDA BK HAIKJE B A=?D JAHE= Nroff EI JDA I=A FHCH= =I troff  E B=?J  2= ' nroff EI = IDA I?HEFJJD=J?=I troff MEJDJDA -N =HCKAJ
Background to the Plan 9 Edition 6DA FHE=HO ?D=CA J troff =@ nroff BH 2= ' EI IKFFHJ B JDA 7E?@A 5J=
@=H@ MDE?D M=I =@@A@ @KHEC '' =@ ''! 6DAHA =HA JM HAIKJI .EHIJ JDAHA EI K?D AII AA@ BH JDA OHE=@ B JM?D=H=?JAH =AI JD=J =HA I K?D = F=HJ B troff HA E 2= ' BH AN=FA A =JKH=O KIAI JDA 7E?@A ?D=H=?JAH EIJA=@ B troff I \(12 5A?@JDAKJFKJ@ALE?AJDKCD?=A@ utfEI=IJ =M=OI = BH B 2IJ5?HEFJ FHEJAH JDA F=FO B IFA?E= @HELAHI BH @EBBAHAJ JOFAIAJJAHI D=I =HCAO @EI =FFA=HA@ 7BHJK=JAO J = 2IJ5?HEFJ FHEJAHI ?= ?FA MEJD 7E?@A ?D=H=?JAHI I JDAHA HA=EI = AA@ BH FHCH=I JD=J IOJDAIEA 2IJ5?HEFJ ?D=H=?JAHI BH >EJ =FIJDEIEIAIFA?E=OJHKABH)IE==CK=CAI
Background to the Second Edition Troff M=IHECE=OMHEJJA>O JDA =JA A II== E =>KJ '%! E =IIA>O =
CK=CA BH JDA 2,2 J @HELA JDA /H=FDE? 5OIJAI +)6 JOFAIAJJAH 1J M=I HAMHEJJA E + =HK@ '%# =@ K@AHMAJ IM >KJ IJA=@O ALKJE KJE II==I @A=JD =JA E '%%
1 '%' *HE= AHECD= @EBEA@ troff I JD=J EJ MK@ FH@K?A KJFKJ BH = L=HE AJO B JOFAIAJJAHIMDEAHAJ=EECEJIEFKJIFA?EBE?=JEI LAHJDA@A?=@ABH'%'J


'&' JDA EJAH=I D=LA >AA @AIJO HALEIA@ JDKCD K?D B JDA ?@A HA=EI =I EJ M=IMDAII==MHJAEJ
Troff HA=@I F=H=AJAH BEAI A=?D JEA EJ EI ELA@ J IAJ L=KAI BH =?DEA HAI KJE AC= JOFA IEAI =@ BJI =@ ?D=H=?JAH =AI ?D=H=?JAH ME@JDI =@ JDA EA Troff KJFKJ EI )5+11 ?D=H=?JAHI E = IEFA =CK=CA JD=J @AI?HE>AI MDAHA A=?D ?D=H=?JAH EI J >A F=?A@ =@ E MD=J IEA =@ BJ ) FIJFH?AIIH KIJ >A MHEJJA BH A=?D @ALE?AJ?LAHJJDEIJOFAIAJJAHE@AFA@AJ=CK=CAEJIFA?EBE?EIJHK?JEIBH JD=J @ALE?A
6DA KJFKJ =CK=CA ?J=EI EBH=JE JD=J M=I J HA=@EO E@AJEBE=>A E JDA @AH KJFKJ 1 JDA AMAH =CK=CA JDA >ACEEC B A=?D F=CA EA =@ MH@ EI =HA@ I FIJFH?AIIHI ?= @ @ALE?AIFA?EBE? FJEE=JEI IK?D =I IHJEC JDA @=J=LAHJE?=OHFHEJECEJ>KIJHFDA@E?=OE@AFA@AJB troff 
+=F=>EEJEAI BH CH=FDE?I D=LA >AA =@@A@ troff HA?CEAI ?=@I BH @H=MEC @E=C= EAI ?EH?AI AEFIAI ?EH?K=H =H?I =@ GK=@H=JE? *IFEAI 6DAHA =HA =I M=OIJF=II=H>EJH=HOEBH=JEJJDAKJFKJKFH?AIIA@>O troff 
) K>AH B EEJ=JEI D=LA >AA A=IA@ H AEE=JA@ ) @?KAJ =O D=LA = =H>EJH=HO K>AH B BJI  =O F=CA EB JDA KJFKJ @ALE?A FAHEJI EJ B ?KHIA .JI =O >A =??AIIA@ AHAO >O =EC JDA KJEC EI  CAH A?AII=HO 6DAHA =HA  EEJI  JDA K>AH B ?D=H=?JAHI +D=H=?JAH DAECDJ =@ I=J =O >A IAJ E@A FA@AJOBME@JD
6DA HA=E@AH B JDEI @?KAJ ?J=EI = @AI?HEFJE B KI=CA =@ ?=@ EA FJEI = IK=HO B HAGKAIJI AI?=FA IAGKA?AI =@ FHA@ABEA@ K>AH HACEI JAHI=HABAHA?A=K=JKJHE=AN=FAI=@=EIJB?O=L=E=>A?D=H=?JAHI
Acknowledgements
A II==I troff HA=EI = HA=H=>A =??FEIDAJ .H HA JD= JMAJO OA=HI EJD=IFHLA=H>KIJJJ=ECK>AEAL=>A=>KIABH=L=HEAJOBFHAFH?AI IHI =@ >AEC BH?A@ EJ KIAI JD=J MAHA ALAH ??AELA@ B E JDA HECE= @AIEC = MEJD?IE@AH=>ACH=?AK@AHBEHA
4A?AJ LAHIEI B troff D=LA FHBEJA@ BH IECEBE?=J ?@A EFHLAAJI >O ==F )AHDKEI ,AEI 4EJ?DEA A 6DFI =@ O 9=CAH 76. B=?EEJEAI MA K?D J ==F )AHDKEI )@HAM 0KA ,KC ?1HO 2AJAH AI =@ 4=LE 5AJDE =@A L=K =>AIKCCAIJEIJDA=K= 1BA=HJD=JJDAHA=EEC>KCI=HAOB=KJ

!

Usage

Troff H nroff EIELA@=I

troff options files nroff options files

MDAHA options HAFHAIAJI =O B = K>AH B FJE =HCKAJI =@ files HAFHAIAJI JDA EIJ B BEAI ?J=EEC JDA @?KAJ J >A BH=JJA@ ) =HCKAJ ?IEIJEC B = IE CA EKI - HAFHAIAJI IJ=@=H@ EFKJ 1B  BEA=AI =HA CELA EFKJ EI J=A BH JDA IJ=@=H@ EFKJ 6DA FJEI MDE?D =O =FFA=H E =O H@AH I C =I JDAO =FFA=H >ABHAJDABEAI=HA

-mname -Tname
-i -olist
-nN -raN -sN
-uN -Fpath

4A=@ JDA =?H BEA /sys/lib/tmac.name >ABHA JDA EFKJ f iles 5FA?EBEAI JDA JOFA B JDA KJFKJ @ALE?A 5FA?EBE? @ALE?AI =HA IEJA @AFA@AJ .H troff  JDA IJ KIABK =A EI utf .H nroff KIABK =AI E?K@A 37 BH JDA @AB=KJ @A !% 6AAJOFA lp BH @K> EA FHEJAH JAHE=I  D=BEA JEI  HALAHIAJEI=@ think BHJDA026DEAJFHEJAH 4A=@IJ=@=H@EFKJ=BJAHJDAEFKJBEAI=HAAND=KIJA@ 2HEJ O F=CAI MDIA F=CA K>AHI =FFA=H E list MDE?D ? IEIJI B ?=IAF=H=JA@ K>AHI =@ K>AH H=CAI ) K >AH H=CA D=I JDA BH N - M =@ A=I F=CAI N JDHKCD M = EE JE= - N A=I BH JDA >ACEEC J F=CA N =@ = BE= N - A=IBH N JJDAA@ K>AHBEHIJCAAH=JA@F=CA N 5AJK>AHHACEIJAH a A?D=H=?JAHJ N 5JF ALAHO N F=CAI Nroff ME D=J FHEH J ALAHO N F=CAI @AB=KJ N =  J =M F=FAH =@EC H ?D=CEC =@ ME HAIKA KF HA?AEFJ B = AMEA Troff ME E?K@A = F=KIA ?@A ALAHO N F=CAIEJIA=ECEB=O@AFA@IJDAKJFKJ@ALE?A 5AJ=KJBA>@AECBHJDA bd HAGKAIJJ N  E @EHA?JHO path BH BJ EBH=JE JDA @AB=KJI =HA /sys/lib/troff/font =@ /sys/lib/troff/term BH troff =@ nroff HAIFA?JELAO

troff O -a 5A@ = FHEJ=>A =FFHNE=JE B JDA HAIKJI J JDA IJ=@=H@ KJ
FKJ

nroff O -e 2H@K?A AGK=OIF=?A@ MH@I E =@KIJA@ EAI KIEC BK JAHE
=HAIKJE -h 7IAJ=>IEIJA=@BIF=?AIJIFAA@KFFHEJEC -q 1LAJDAIEKJ=AKIEFKJKJFKJ@ABJDA rd HAGKAIJ

-=?DFJEEI=IAF=H=JA=HCKAJBHAN=FA
troff -Tutf -ms -mpictures -o4,6,8-10 file1 file2
HAGKAIJI BH=JJEC B F=CAI " $ =@ & JDHKCD  B = @?KAJ ?J=EA@ E JDA BEAI =A@ file1 =@ file2 IFA?EBEAI JDA KJFKJ E 76. =@ ELAI JDA =?H F=?=CAI -ms =@ -mpictures
8=HEKI FHA =@ FIJFH?AIIHI =HA =L=E=>A BH KIA MEJD nroff =@ troff  6DAIA E?K@A JDA AGK=JE FHAFH?AIIH eqn BH troff OJDAJ=>A?IJHK?JEFHAFH?AI IH tbl=@ pic =@ grap BHL=HEKIBHIBCH=FDE?I

"

Request Summary

1 JDA BMEC J=>A JDA J=JE N E JDA Request Form ?K A=I JD=J JDA BHI N + N H - N =HA FAHEJJA@ J IAJ JDA F=H=AJAH J N E?HAAJ EJ >O N H @A?HAAJ EJ >O N HAIFA?JELAO 2=E N A=I JD=J JDA L=KA EI KIA@ J IAJ JDA F=H=A JAH Initial Values IAF=H=JA@ >O ; =HA BH troff =@ nroff HAIFA?JELAO 1 JDA Notes ? K

*
,
 2
6 v p m u

4AGKAIJ H=O ?=KIAI = >HA= 6DA KIA B ' =I ?JH ?D=H=? JAHEIJA=@B .IKFFHAIIAIJDA>HA=BK?JE @A H HAAL=J F=H=AJAHI =II?E=JA@ MEJD ?KHHAJ @ELAHIE ALA 4AAL=JF=H=AJAHI=HA=F=HJBJDA?KHHAJALEHAJ KIJIJ=OEABBA?JKJECE?=KJFKJ @A KIJ >A IJE H =C=E E ABBA?J =J JDA JEA B FDOIE?= KJ FKJ troff OABBA?JE nroff ,AB=KJ I?=A E@E?=JH EB J IFA?EBEA@ I?=A E@E?=JHI =HA ECHA@

Request Form

Initial Value

If No Argument

. General Information

. Font and Character Size Control

.ps 將 .ss N .cs F N M .bd F N .bd S F N .ft F .fp N F L

 FEJ  !$m BB BB BB 4= 41*5

FHALEKI ECHA@    FHALEKI ECHA@

!. Page Control .pl 將 .bp 將 .pn 將 .po 將 .ne N
.mk R
.rt 將

E N = N = E   A A

E  ECHA@ FHALEKI N =L EJAH= EJAH=

". Text Filling, Adjusting, and Centering

.br



.fi

BE 

.nf

BE 

.ad c

=@ >JD =@KIJ

.na

=@KIJ



.ce N

BB N = 

#. Vertical Spacing .vs N .ls N .sp N .sv N .os .ns .rs

 F $E N =    IF=?A 

FHALEKI FHALEKI N = L N = L   

Notes Explanation
-6 2EJ IEA =I \s N -6 5F=?A?D=H=?JAH IEA IAJ J N/!$ A 26 +IJ=J ?D=H=?JAH IF=?A ME@JD @A BJ F 26 ->@A BJ F >O N -  KEJI 26 ->@A 5FA?E= .J MDA ?KHHAJ BJ EI F - +D=CA J BJ F =I \fx \f(xx \fN  KJ BJ =A@ F  FDOIE?= FIEJE N
C =A EI L EB CELA
v 2=CA ACJD *v -A?J ?KHHAJ F=CA ANJ F=CA K>AH N  ANJ F=CA K>AH N v 2=CA BBIAJ ,v AA@ N LAHJE?= IF=?A , =H ?KHHAJ LAHJE?= F=?A E HACEIJAH R ,v 4AJKH KFM=H@ O J =HA@ LAHJE?= F=?A
* *HA= *- .E KJFKJ EAI *-  BEEC H =@KIJEC B KJFKJ EAI - )@KIJ KJFKJ EAI MEJD @A c c = l r c bnone -  KJFKJ EA =@KIJEC *- +AJAH ANJ N EFKJ JANJ EAI
-p 8AHJE?= >=IAEA IF=?EC V - KJFKJ N -  vI =BJAH A=?D JANJ KJFKJ EA *v 5F=?A LAHJE?= @EIJ=?A N E AEJDAH @EHA?JE v 5=LA LAHJE?= @EIJ=?A N  KJFKJ I=LA@ LAHJE?= @EIJ=?A , 6KH IF=?A @A  , 4AIJHA IF=?EC JKH IF=?A @A BB

#

$. Line Length and Indenting

.ll 將

$#E

.in 將

N =

.ti 將



FHALEKI FHALEKI ECHA@

-m *-m *-m

EA ACJD 1@AJ 6AFH=HO E@AJ

%. Macros, Strings, Diversion, and Position Traps

.de xx yy



.yy = ..



.am xx yy



.yy = ..



.ds xx string



ECHA@



.as xx string



ECHA@



.rm xx



ECHA@



.rn xx yy



ECHA@



.di xx

 A@ ,

.da xx

 A@ ,

.wh N xx





v

.ch xx N





v

.dt N xx



BB

,v

.it N xx



BB

-

.em xx

A

A



,ABEA H HA@ABEA =?H xx A@ =J ?= B yy )FFA@ J = =?H ,ABEA = IJHEC xx ?J=EEC string )FFA@ string J IJHEC xx 4ALA HAGKAIJ =?H H IJHEC 4A=A HAGKAIJ =?H H IJHEC xx J yy ,ELAHJ KJFKJ J =?H xx ,ELAHJ =@ =FFA@ J xx 5AJ ?=JE JH=F AC=JELA EI MHJ F=CA >JJ +D=CA JH=F ?=JE 5AJ = @ELAHIE JH=F 5AJ = EFKJEA ?KJ JH=F -@ =?H EI xx

&. Number Registers .nr R 將 M

.af R c .rr R

=H=>E? 


 

u ,ABEA =@ IAJ K>AH HACEIJAH R =KJE?HAAJ >O M
 )IIEC BH=J J HACEIJAH R c = 1 i I a A  4ALA HACEIJAH R

'. Tabs, Leaders, and Fields

.ta Nt ...

#E &

.tc c .lc c .fc a b

A . BB

A
A A BB

-m 6=> IAJJECI ABJ=@KIJEC KAII t = R HECDJ C ?AJAHA@
- 6=> HAFAJEJE ?D=H=?JAH - A=@AH HAFAJEJE ?D=H=?JAH  5AJ BEA@ @AEEJAH a =@ F=@ ?D=H=?JAH b

. Input and Output Conventions and Character Translations

.ec c



 5AJ AI?=FA ?D=H=?JAH

.eo

 

 6KH BB AI?=FA ?D=H=?JAH A?D=EI

.lg N

 



6 EC=JKHA @A  EB N > 

.ul N

BB

N =

- 7@AHEA EJ=E?EA E troff  N EFKJ EAI

.cu N

BB

N =

- +JEKKI K@AHEA E nroff E troff  EA ul

.uf F

1J=E?

1J=E?

 7@AHEA BJ IAJ J F J >A IMEJ?DA@ J >O ul

.cc c

..

- 5AJ ?JH ?D=H=?JAH J c

.c2 c

''

- 5AJ >HA= ?JH ?D=H=?JAH J c

.tr abcd.

A



 6H=I=JA a J b AJ?  KJFKJ

. Local Horizontal and Vertical Motions, and the Width Function

 . Overstrike, Bracket, Line-drawing, Graphics, and Zero-width Functions

!. Hyphenation. .nh .hy N .hc c .hw word ...

DOFDA=JA DOFDA=JA \%

 DOFDA=JA \% ECHA@



 DOFDA=JE 0OFDA=JA N = @A 0OFDA=JE E@E?=JH ?D=H=?JAH c )@@ MH@I J DOFDA=JE @E?JE=HO

". Three-Part Titles.

.tl lcr

.pc c

%

.lt 將

$#E

 BB FHALEKI

 6DHAAF=HJ JEJA @AEEJAH =O >A =O ?D=H=?JAH  2=CA K>AH ?D=H=?JAH -m ACJD B JEJA

#. Output Line Numbering.

.nm 將 M S I

.nn N



BB N =

- K>AH @A  H BB IAJ F=H=AJAHI - , J K>AH ANJ N EAI

$

$. Conditional Acceptance of Input

.if c any





.if !c any .if N any .if !N any .if ss  any .if !ss  any .ie c any .el any

      

%. Environment Switching

.ev N

N =

FHALEKI

&. Insertions from the Standard Input

.rd prompt



prompt*-

.ex



'. Input/Output File Switching .so filename .nx filename .sy string .pi string .cf filename

 A@BBEA   

. Miscellaneous .mc c N .tm string .ab string .ig yy .lf N f .pm t .fl

   
 

BB AMEA AMEA .yy = ..  = 

. Output and Error Messages

. Output Language

!. Device and Font Description Files

 u u   u 

 
    
-m      *

1B ?@EJE c JHKA =??AFJ any =I EFKJ BH KJEEA KIA \{any \}
1B ?@EJE c B=IA =??AFJ any 1B ANFHAIIE N >  =??AFJ any 1B ANFHAIIE N IE? =??AFJ any 1B IJHEC s E@AJE?= J s  =??AFJ any 1B IJHEC s J E@AJE?= J s  =??AFJ any 1B FHJE B EBAIA = =>LA BHI EA if -IA FHJE B EBAIA
-LEHAJ IMEJ?D FKID @M
4A=@ EIAHJE -NEJ
5MEJ?D IKH?A BEA FKID @M ANJ BEA -NA?KJA FHCH= string KJFKJ J EJAHF=JA@ 2EFA KJFKJ J FHCH= string +FO BEA ?JAJI J troff KJFKJ
5AJ =HCE ?D=H=?JAH c =@ IAF=H=JE N 2HEJ string  JAHE= IJ=@=H@ AHHH 2HEJ string  IJ=@=H@ AHHH ANEJ FHCH= 1CHA EFKJ KJE ?= B yy 5AJ EFKJ EA K>AH J N =@ BEA=A J f 2HEJ =?H =AI IEAI EB t FHAIAJ FHEJ JJ= .KID KJFKJ >KBBAH

Alphabetical Request and Section Number Cross Reference

ab  ad " af & am % as % bd
bp ! br " c2  cc 

ce " cf ' ch % cs
cu  da % de % di % ds % dt %

ec  el $ em % eo  ev % ex & fc ' fi " fl  fp

ft
hc ! hw ! hy ! ie $ if $ ig  in $ it % lc '

lg  lf  ll $ ls # lt " mc  mk ! na " ne ! nf "

nh ! nm # nn # nr & ns # nx ' os # pc " pi ' pl !

pm  pn ! po ! ps
rd & rm % rn % rr & rs # rt !

so ' sp # ss
sv # sy ' ta ' tc ' ti $ tl " tm 

tr  uf  ul  vs # wh %

%

Escape Sequences for Characters, Indicators, and Functions

Section Escape Reference Sequence

Meaning

 
   %     " $ & !  % %! '  ! "    #  &  ! !  "  " &    "  !  '    # %  $ $ & 

\\ \e \' \` \ \. \space \0 \| \^ \& \! \" \% \(xx \*x \*(xx \$N \a \b'abc.' \c \C'xyz' \d \D'c.' \fx \f(xx \fN \gx \g(xx \h'N' \H'N' \kx \l'Nc' \L'Nc' \nx \n(xx \N'N' \o'abc.' \p \r \sN \s將 \S'N' \t \u \v'N' \w'string' \x'N' \X'string' \zc \{ \} \newline \Z

\ FHALAJI H @A=OI JDA EJAHFHAJ=JE B \ 2HEJ=>A LAHIE B JDA ?KHHAJ AI?=FA ?D=H=?JAH
=?KJA =??AJ AGKEL=AJ J \(aa < CH=LA =??AJ AGKEL=AJ J \(ga  EKI IEC E JDA ?KHHAJ BJ 2AHE@ @J IAA de 7F=@@=>A IF=?AIEA IF=?A ?D=H=?JAH ,ECEJ ME@JD IF=?A $ A =HHM IF=?A ?D=H=?JAH AH ME@JD E nroff  A D=B=HHM IF=?A ?D=H=?JAH AH ME@JD E nroff FHEJEC AH ME@JD ?D=H=?JAH 6H=IF=HAJ EA E@E?=JH *ACEEC B ?AJ ?JEKAI J A@ B EA ,AB=KJ FJE= DOFDA=JE ?D=H=?JAH +D=H=?JAH =A@ xx 1JAHF=JA IJHEC x H xx 1JAHF=JA =HCKAJ N' EJAHFHAJA@ A=@AH ?D=H=?JAH *H=?AJ >KE@EC BK?JE +A?J J ANJ EFKJ JANJ +D=H=?JAH =A@ xyz ,MM=H@  A LAHJE?= JE  EA E nroff ,H=M CH=FDE?I BK?JE c MEJD F=H=AJAHI ... c = l c e a ~ +D=CA J BJ =A@ x H xx H FIEJE N .H=J B K>AH HACEIJAH x H xx ?= DHEJ= JE LA HECDJ N AC=JELA ABJ 0AECDJ B ?KHHAJ BJ EI N =H DHEJ= EFKJ F=?A E HACEIJAH x 0HEJ= EA @H=MEC BK?JE FJE=O MEJD c  8AHJE?= EA @H=MEC BK?JE FJE=O MEJD c  +JAJI B K>AH HACEIJAH x H xx +D=H=?JAH K>AH N  ?KHHAJ BJ LAHIJHEA ?D=H=?JAHI a b c  *HA= =@ IFHA=@ KJFKJ EA 4ALAHIA  A LAHJE?= JE HALAHIA EA E nroff 2EJIEA ?D=CA BK?JE =I \s(nn \s (nn 5=J KJFKJ N @ACHAAI EJAHFHAJA@ DHEJ= J=> 4ALAHIA KF  A LAHJE?= JE  EA E nroff ?= LAHJE?= JE LA @M  AC=JELA KF 9E@JD B string -NJH= EAIF=?A BK?JE AC=JELA >ABHA FIEJELA =BJAH KJFKJ string =I @ALE?A ?JH BK?JE 2HEJ c MEJD AH ME@JD MEJDKJ IF=?EC *ACE ?@EJE= EFKJ -@ ?@EJE= EFKJ +?A=A@ ECHA@ AMEA Z =O ?D=H=?JAH J EIJA@ =>LA

6DA AI?=FA IAGKA?AI \\ \. \" \$ \* \a \n \t \g =@ \newline =HA EJAH FHAJA@E?FO@A % 

&

Predefined Number Registers

Section Register Reference Name Description

! 
%" %"   #  "   

% ct dl dn dw dy ln mo nl sb st yr

+KHHAJ F=CA K>AH +D=H=?JAH JOFA IAJ >O \w BK?JE 9E@JD =NEK B =IJ ?FAJA@ @ELAHIE 0AECDJ LAHJE?= IEA B =IJ ?FAJA@ @ELAHIE +KHHAJ @=O B JDA MAA % +KHHAJ @=O B JDA JD ! KJFKJ EA K>AH +KHHAJ JD   8AHJE?= FIEJE B =IJ FHEJA@ JANJ >=IAEA ,AFJD B IJHEC >AM >=IAEA CAAH=JA@ >O \w BK?JE 0AECDJ B IJHEC =>LA >=IAEA CAAH=JA@ >O \w BK?JE =IJ JM @ECEJI B ?KHHAJ OA=H

Predefined Read-Only Number Registers

Section Register Reference Name Description

' %! #  !  %"   "
 $ " " $ # " ! ! %#  ! %# " #
 
  %"

$$ .$ .a .A .b .c .d .f .F .h .H .i .j .k .l .L .n .o .p .R .T .s .t .u .v .V .w .x .y .z

2H?AII E@ B troff H nroff K>AH B =HCKAJI =L=E=>A =J JDA ?KHHAJ =?H ALA 2IJEA ANJH= EAIF=?A IJ HA?AJO KIA@ E \x'N ' 5AJ J  E troff  EB - a FJE KIA@ =M=OI  E nroff ->@AEC ALA K>AH B EAI HA=@ BH ?KHHAJ EFKJ BEA +KHHAJ LAHJE?= F=?A E ?KHHAJ @ELAHIE AGK= J nl EB  @ELAHIE +KHHAJ BJ K>AH +KHHAJ EFKJ BEA =A IE? 6ANJ >=IAEA DECDM=JAH =H  ?KHHAJ F=CA H @ELAHIE )L=E=>A DHEJ= HAIKJE E >=IE? KEJI +KHHAJ E@AJ +KHHAJ ad @A +KHHAJ KJFKJ DHEJ= FIEJE +KHHAJ EA ACJD +KHHAJ ls L=KA ACJD B JANJ FHJE  FHALEKI KJFKJ EA +KHHAJ F=CA BBIAJ +KHHAJ F=CA ACJD K>AH B KKIA@ K>AH HACEIJAHI 5AJ J  E nroff EB -T FJE KIA@ =M=OI  E troff  +KHHAJ FEJ IEA ,EIJ=?A J JDA ANJ JH=F -GK= J  E BE @A =@  E BE @A +KHHAJ LAHJE?= EA IF=?EC )L=E=>A LAHJE?= HAIKJE E >=IE? KEJI 9E@JD B FHALEKI ?D=H=?JAH 4AIAHLA@ LAHIE@AFA@AJ HACEIJAH 4AIAHLA@ LAHIE@AFA@AJ HACEIJAH =A IE? B ?KHHAJ @ELAHIE

'

Reference Manual

1. General Explanation

1.1. Form of input. 1FKJ ?IEIJI B text lines MDE?D =HA @AIJEA@ J >A FHEJA@ EJAHIFAHIA@ MEJD control lines MDE?D IAJ F=H=AJAHI H JDAHMEIA ?JH IK>IAGKAJ FH?AIIEC +JH EAI >ACE MEJD = control characterH=O . FAHE@ H ' IE CA GKJABMA@ >O = A H JM ?D=H=?JAH =A JD=J IFA?EBEAI = >=IE? request H JDA IK>IJEJKJE B = KIAH@ABEA@ macro E F=?A B JDA ?JH EA 6DA ?JH ?D=H =?JAH ' IKFFHAIIAI JDA break BK?JEJDA BH?A@ KJFKJ B = F=HJE=O BEA@ EA ?=KIA@ >O ?AHJ=E HAGKAIJI 6DA ?JH ?D=H=?JAH =O >A IAF=H=JA@ BH JDA HAGKAIJ=?H =A >O MDEJA IF=?A IF=?AI =@H J=>I BH =AIJDAJE? HA=II =AI IDK@ >A BMA@ >O AEJDAH IF=?A H AMEA +JH EAI MEJD KHA?CEA@ =AI =HAECHA@

8=HEKI IFA?E= BK?JEI =O >A EJH@K?A@ =OMDAHA E JDA EFKJ >O A=I B = escape ?D=H=?JAH H=O \ .H AN=FAJDABK?JE \nR ?=KIAIJDAEJAHF=JEB JDA ?JAJI B JDA number register R E F=?A B JDA BK?JE DAHA R EI AEJDAH = IECA ?D=H=?JAH =A =I E \nx H = JM?D=H=?JAH =A EJH@K?A@ >O = ABJF=HAJDAIEI =I E \n(xx

1.2. Formatter and device resolution. Troff EJAH=O IJHAI =@ FH?AIIAI @EA IEI E KEJI JD=J ?HHAIF@ J JDA F=HJE?K=H @ALE?A BH MDE?D KJFKJ EI >AEC FHA F=HA@ L=KAI BH ! J  E?D =HA JOFE?= 5AA ! Nroff EJAH=O KIAI " KEJIE?D ?HHAIF@EC J JDA A=IJ ? KJEFA B JDA DHEJ= =@ LAHJE?= HAIKJEI B L=HEKI JOFAMHEJAHEA KJFKJ @ALE?AI Troff HK@I DHEJ=LAHJE?= KAHE?= F=H=AJAH EFKJ J JDA =?JK= DHEJ=LAHJE?= HAIKJE B JDA KJFKJ @ALE?A E@E?=JA@ >O JDA -T FJE @AB=KJ post Nroff IEE=HO HK@I KAHE?= EFKJJJDA=?JK=HAIKJEBEJIKJFKJ@ALE?A@AB=KJ@A!%6AAJOFA

1.3. Numerical parameter input. *JD nroff =@ troff =??AFJ KAHE?= EFKJ MEJD JDA

=FFA@A@ I?=A E@E?=JHI IDM E JDA BMEC J=>A MDAHA S EI JDA ?KHHAJ JOFA IEA

EFEJI=@ V EIJDA?KHHAJLAHJE?=EAIF=?ECE>=IE?KEJI _ ________________________________

 5?=A 



_1__@_E_i?_=_J__H____1__?_D____A_=___E__C_______

c

 +AJEAJAH



 P  2E?=$E?D



m

  

n p

u

 - S FEJI

  

-- 2EJ%

E?D

 *=IE?KEJ

    

 v  8AHJE?=EAIF=?A V 

_ ______A______,_A__B=_K__J__I_A_A__>_A___M____

1 nroff >JD JDA A =@ JDA A =HA J=A J >A AGK= J JDA E= ?D=H=?JAH ME@JD MDE?D EI KJFKJ@ALE?A @AFA@AJ ? L=KAI =HA  =@  E?D )?JK= ?D=H=?JAH ME@JDI E nroff AA@ J >A = JDA I=A =@ ?IJHK?JA@ ?D=H=?JAHI IK?D =I   =HA BJA ANJH= ME@A 6DA @AB=KJ I?=EC EI m BH JDA DHEJ=OHEAJA@ HAGKAIJI =@ BK?JEI ll in ti ta lt po mc \h \l =@ DHEJ= ?H@E =JAI B \D v BH JDA LAHJE?=OHEAJA@ HAGKAIJI =@ BK?JEI pl wh ch dt sp sv ne rt \v \x \L =@ LAHJE?= ?H@E=JAI B \D p BH JDA vs HAGKAIJ =@ u BH JDA HAGKAIJI nr if =@ ie All JDAH HAGKAIJI ECHA =O I?=A E@E?=JHI 9DA = K>AH HACEIJAH ?J=EEC = =HA=@O =FFHFHE=JAO I?=A@ K>AH EI EJAHF=JA@ J FHLE@A KAHE?= EFKJ JDA KEJ I?=A E@E?=JH u =O AA@ J >A =FFA@A@ J FHALAJ = =@@EJE= E=FFHFHE=JA @AB=KJ I?=EC 6DA K>AH N =O >A IFA?EBEA@ E @A?E=BH=?JE BH >KJ JDA F=H=AJAH BE=O IJHA@ EI HK@A@ J = EJACAH K>AH


B>=IE?KEJI 1JAH=?FKJ=JEI=HAFAHBHA@EEJACAH=HEJDAJE?
6DA absolute position E@E?=JH | =O >A FHABENA@ J = K>AH N J CAAH=JA JDA @EIJ=?A J JDA LAHJE?= H DHEJ= F=?A N .H LAHJE?=OHEAJA@ HAGKAIJI =@ BK? JEI |N >A?AI JDA @EIJ=?A E >=IE? KEJI BH JDA ?KHHAJ LAHJE?= F=?A  JDA F=CA H E = diversion  %" J JDA LAHJE?= F=?A N .H all JDAH HAGKAIJI =@ BK? JEI |N >A?AI JDA @EIJ=?A BH JDA ?KHHAJ DHEJ= F=?A  JDA input EA J JDADHEJ=F=?A N .HAN=FA
.sp |3.2c
MEIF=?AEJDAHAGKEHA@@EHA?JEJ! ?AJEAJAHIBHJDAJFBJDAF=CA
1.4. Numerical expressions. 9DAHALAH KAHE?= EFKJ EI ANFA?JA@ = ANFHAIIE ELLEC F=HAJDAIAI JDA =HEJDAJE? FAH=JHI + - /  % @ =@ JDA CE?= FAH =JHI < > <= >= = H == & =@ : H =O >A KIA@ -N?AFJ MDAHA ?JHA@ >O F=HAJDAIAI AL=K=JE B ANFHAIIEI EI ABJJHECDJ JDAHA EI  FAH=JH FHA?A@A?A 1 JDA ?=IA B ?AHJ=E HAGKAIJI = EEJE= + H - EI IJHEFFA@ =@ EJAHFHAJA@ =I = E?HA AJ H @A?HAAJE@E?=JHHAIFA?JELAO 1JDAFHAIA?AB@AB=KJI?=ECJDA@AIEHA@ I?=AE@E?=JH KIJ >A =JJ=?DA@ J every K>AH E = ANFHAIIE BH MDE?D JDA @AIEHA@ =@ @AB=KJ I?=EC @EBBAH .H AN=FA EB JDA K>AH HACEIJAH x ?J=EI =@ JDA ?KH HAJFEJIEAEIJDA
.ll (4.25i+\nxP+3)/2u
MEIAJJDAEAACJDJ JDAIKB" #E?DAI FE?=I!AI
1.5. Notation. KAHE?= F=H=AJAHI =HA E@E?=JA@ E JDEI =K= E JM M=OI N A=I JD=J JDA =HCKAJ =O J=A JDA BHI N + N H - N =@ JD=J JDA ?HHAIF@EC ABBA?J EI J IAJ JDA F=H=AJAH J N J E?HAAJ EJ >O N H J @A?HAAJ EJ >O N HAIFA? JELAO 2=E N A=I JD=J = EEJE= =CA>H=E? IEC EI not = E?HAAJ E@E?=JH >KJ AHAO JDA IEC B N /AAH=O KHA=I=>A KAHE?= EFKJ EI AEJDAH ECHA@ H JHK ?=JA@ J = HA=I=>A L=KA .H AN=FA IJ HAGKAIJI ANFA?J J IAJ F=H=AJAHI J AC=JELA L=KAI AN?AFJEI =HA sp wh ch nr =@ if 6DA HAGKAIJI ps ft po vs ls ll in =@ lt HAIJHA JDA FHALEKI F=H=AJAH L=KA E JDA =>IA?A B = =HCKAJ
5ECA ?D=H=?JAH =HCKAJI =HA E@E?=JA@ >O IECA MAH ?=IA AJJAHI =@ AJM ?D=H=?JAH =HCKAJI =HA E@E?=JA@ >O = F=EH B MAH ?=IA AJJAHI +D=H=?JAH IJHEC =HCK AJI=HAE@E?=JA@>OKJE?D=H=?JAHAE?I
2. Font and Character Size Control
2.1. Character set. 6DA troff ?D=H=?JAH IAJ EI @ABEA@ >O = @AI?HEFJE BEA IFA?EBE? J A=?D KJFKJ @ALE?A  ! 6DAHA =HA H=O IALAH= HACK=H BJI =@ A H HA IFA?E= BJI +D=H=?JAHI =HA EFKJ =I JDAIALAI =I \(xx =I \C'name ' H =I \N'n' 6DA BH \C'name' FAHEJI = =A B =O ACJD JDA BH \N'n' HABAHI J JDA nJD?D=H=?JAHJDA?KHHAJBJMDAJDAH=A@HJ
H=OJDAEFKJ?D=H=?JAHI ` '=@ - =HAFHEJA@=I=@HAIFA?JELAO \` \' =@ \- FH@K?A <  =@  1B JDA ?D=H=?JAH @AI J ANEIJ E JDA BJ troff =IIKAI JDA ME@JD EI  A =@ KJFKJI JDA ?D=H=?JAH MEJD = C =A =I @ABEA@ E 5A? JE  6DEIEIE@AFA@AJBDMJDA@ALE?AD=@AI?D=H=?JAHIKMJEJ
Nroff D=I = ==CKI >KJ @EBBAHAJ A?D=EI BH @ABEEC AC= ?D=H=?JAHI =@ DM J FHEJ JDA *O @AB=KJ = ?D=H=?JAHI =HA L=E@ 6DAHA =HA IK?D =@@EJE= ?D=H=? JAHI =I =O >A =L=E=>A  JDA KJFKJ @ALE?A IK?D ?D=H=?JAHI =I =O >A ?IJHK?JA@ >O LAHIJHEEC H JDAH ?>E=JE =@ JDIA JD=J ?= HA=I=>O >A =FFA@ EJ JDAH FHEJ=>A ?D=H=?JAHI 6DA AN=?J >AD=LEH EI @AJAHEA@ >O = @HELEC J=>A FHAF=HA@ BH A=?D@ALE?A
2.2. Fonts. Troff >ACEI ANA?KJE >O HA=@EC EBH=JE BH = IAJ B @AB=KJI BJI



I=E@ J >A mounted ?LAJE=O JDA BEHIJ BKH =HA 6EAI 4= R 6EAI 1J=E? I 6EAI *@ B =@ 6EAI *@ 1J=E? BI  =@ JDA =IJ EI = 5FA?E= BJ S ?J=EEC EI?A=AKI ?D=H=?JAHI 6DEI @?KAJ KIAI K?E@= 5=I E F=?A B 6EAI 6DA IAJ BBJI=@FIEJEIEI@AJAHEA@>OJDA@ALE?A@AI?HEFJEBEA@AI?HE>A@E !

6DA ?KHHAJ BJ EEJE=O 4= =O >A ?D=CA@ >O JDA ft HAGKAIJ H >O A>A@ @EC =J =O @AIEHA@ FEJ \fx \f(xx H \fN MDAHA x =@ xx =HA JDA =A B = BJ =@ N EI=KAHE?=BJFIEJE

1J EI J A?AII=HO J ?D=CA J JDA 5FA?E= BJ ?D=H=?JAHI  JD=J BJ =HA =KJ =JE?=O D=@A@ =I EB JDAO MAHA FDOIE?=O F=HJ B JDA ?KHHAJ BJ 6DA 5FA?E= BJ =O =?JK=O >A IALAH= BJI JDA =A S EI HAIAHLA@ =@ EI CAAH=O KIA@ BH A B JDAIA )IFA?E=BJIKIJ>AKJA@=BJAHHACK=HBJI

Troff ?= >A EBHA@ JD=J =O F=HJE?K=H BJ EI KJA@ >O KIA B JDA fp HAGKAIJ 6DA EIJ B M BJI EI EIJ==JE @AFA@AJ 1 JDA IK>IAGKAJ @EI?KI IE B BJHA=JA@ HAGKAIJI F HAFHAIAJI AEJDAH = AJM?D=H=?JAH BJ =A H JDA KAHE?= BJ FIEJE 6DA ?KHHAJ BJ EI =L=E=>A =I = KAHE?= FIEJE E JDA HA=@OK>AHHACEIJAH .f

) HAGKAIJ BH = =A@ >KJ JKJA@ BJ EI DHA@ EB JDA BJ @AI?HEFJE EBH=JE ANEIJI 1 JDEI M=O JDAHA EI  EEJ  JDA K>AH B BJI JD=J =O >A FHEJA@ E =O F=HJ B = @?KAJ KJA@ BJI =O >A D=@A@ HA ABBE?EAJO =@ JDAO =O >A HABAHHA@ J >O JDAEH KJ FIEJEI >KJ JDAHA EI  JDAH @EBBAHA?A A JE B = KKJA@ BJ =@I EJ JAFH=HEO =J BJ FIEJE AH MDE?D IAHLAI =I = ABJ?=?DA

6DABK?JE \S'將' ?=KIAIJDA?KHHAJBJJ>A I=JA@ >O N @ACHAAI J = @ALE?AIIKFFHJI=JEC

Nroff K@AHIJ=@I BJ ?JH =@ H=O K@AHEAI EJ=E? ?D=H=?JAHI IAA #

2.3. Character size. +D=H=?JAH FEJ IEAI =L=E=>A @AFA@  JDA IFA?EBE? KJFKJ @ALE?A = JOFE?= DEIJHE?= IAJ B L=KAI EI $ % & '     " $ &   "
& =@ !$ 6DEI EI = H=CA B  E?D J  E?D 6DA ps HAGKAIJ EI KIA@ J ?D=CA H HAIJHA JDA FEJ IEA )JAH=JELAO JDA FEJ IEA =O >A ?D=CA@ >AJMAA =O JM ?D=H=?JAHI >O A>A@@EC = \sN =J JDA @AIEHA@ FEJ J IAJ JDA IEA J N H = \s將 N' J E?HAAJ@A?HAAJ JDA IEA >O N \s0 HAIJHAI JDA FHALEKI IEA 4AGKAIJA@FEJIEAL=KAIJD=J=HA>AJMAAJML=E@IEAIOEA@JDA=HCAHBJDAJM

JAJD=JJDHKCD==??E@AJBDEIJHO=?IJHK?JEEA \s39 EI F=HIA@ =I IEA !' =@ JDKI ?LAHJA@ J IEA !$ CELA JDA IEAI =>LA MDEA \s40 EI F=HIA@ =I IEA " BMA@ >O 0 6DA BHI \s(nn =@ \s (nn FAHEJ IFA?EBE?=JE B IEAI JD=J MK@JDAHMEIA>A=>ECKKI

6DA?KHHAJIEAEI=L=E=>AEJDA .s HACEIJAH Nroff ECHAIJOFAIEAHAGKAIJI

6DA BK?JE \H'將' IAJI JDA DAECDJ B JDA ?KHHAJ BJ J N H E?HAAJI EJ >O
+ N H @A?HAAJI EJ >O - N EB N =  JDA DAECDJ EI HAIJHA@ J JDA ?KHHAJ FEJ IEA 1 A=?D ?=IA JDA ME@JD EI K?D=CA@ J = @ALE?AI IKFFHJ E@AFA@AJ DAECDJ =@
ME@JDBH?D=H=?JAHI

Request Form

Initial Value

If No Argument

Notes

.ps 將

 FEJ

FHALEKI

-

2EJ IEA IAJ J N )JAH=JELAO A>A@ \sN H \s將 )O FIEJELA IEA L=KA =O >A HAGKAIJA@ EB EL=E@ JDA ANJ =HCAH L=E@ IEA ME HAIKJ MEJD = =NEK B !$ ) F=EHA@ IAGKA?A + N - N ME MH >A?=KIA JDA
__________________
6DA BEA@I D=LA JDA I=A A=EC =I @AI?HE>A@ A=HEAH E JDA 4AGKAIJ 5K=HO

 

FHALEKIHAGKAIJA@L=KAEI=IHAA>AHA@ 1CHA@E nroff

.ss N

 !$ A ECHA@

-

5F=?A?D=H=?JAH IEA EA EJAHMH@ C=F EI IAJ J N!$ AI 6DEI IEA EI JDAEEKMH@IF=?ECE=@KIJA@JANJ 1CHA@E nroff

.cs F N M

BB 

2

+IJ=J ?D=H=?JAH IF=?A ME@JD @A EI IAJ  BH BJ F EB KJA@ JDA ME@JD B ALAHO ?D=H=?JAH ME >A J=A J >A N!$ AI 1B M EI =>IAJ JDA A EI JD=J B JDA ?D=H=?JAHI FEJ IEA EB M EI CELA JDA A EI M FEJI ) =BBA?JA@ ?D=H=?JAHI =HA ?AJAHA@ E JDEI IF=?A E?K@EC JDIA MEJD = =?JK= ME@JD =HCAH JD= JDEI IF=?A 5FA?E= .J ?D=H=?JAHI ??KHHEC MDEA JDA ?KHHAJ BJ EI F =HA =I I JHA=JA@ 1B N EI =>IAJ JDA @A EI JKHA@ BB 6DA @A KIJ >A E ABBA?J MDA JDA ?D=H=?JAHI =HA FDOIE?=O FHEJA@ 1CHA@E nroff

.bd F N

BB 

2

6DA ?D=H=?JAHI E BJ F ME >A =HJEBE?E=O A>@AA@ >O FHEJEC A=?D A JME?A IAF=H=JA@ >O N -  >=IE? KEJI ) HA=I=>A L=KA BH N EI ! MDA JDA ?D=H=?JAH IEA EI A=H  FEJI 1B N EI EIIEC JDA A>@A @A EI JKHA@BB 6DAA>@AECL=KA N EIEJDA .b HACEIJAH

6DEI F=H=CH=FD EI FHEJA@ MEJD .bd R 3 6DA @A KIJ >A E ABBA?J MDA JDA ?D=H=?JAHI =HA FDOIE?=O FHEJA@ 1CHA@ E nroff

.bd S F N

BB



2

6DA ?D=H=?JAHI E JDA 5FA?E= BJ ME >A A>@AA@ MDAALAH JDA ?KHHAJ BJ EI F 6DA @A KIJ >A E ABBA?J MDA JDA ?D=H=?JAHI =HA FDOIE?=O FHEJA@ 1CHA@E nroff

.ft F

4=

FHALEKI

-

.J ?D=CA@ J F )JAH=JELAO A>A@ \fF 6DA BJ =A P EI HAIAHLA@ JA=JDAFHALEKIBJ=@JDA=A S BHJDAIFA?E=BJ

.fp N F L

41*5

ECHA@



.J FIEJE 6DEI EI = IJ=JAAJ JD=J = BJ =A@ F EI =II?E=JA@ MEJD FIEJE N 1J EI = B=J= AHHH EB F EI J M .H BJI MEJD =AI CAH JD= JM ?D=H=?JAHI L HABAHI J JDA C =A =@ F >A?AI = IOO 6DAHAEICAAH=O=EEJB=>KJKJA@BJI

3. Page control

6F =@ >JJ =HCEI =HA J =KJ=JE?=O FHLE@A@ EJ EI ?LAJE= J @ABEA JM macros =@ J IAJ traps BH JDA =J LAHJE?= FIEJEI  JF =@ - N @EI J=?A N KF BH JDA >JJ 5AA % =@ 6KJHE= -N=FAI 6  ) FIAK@F=CA JH= IEJE J JDA BEHIJ F=CA ??KHI AEJDAH MDA JDA BEHIJ break ??KHI H MDA JDA BEHIJ non-diverted JANJ FH?AIIEC ??KHI )HH=CAAJI BH = JH=F J ??KH =J JDA JF B JDA BEHIJ F=CA KIJ >A ?FAJA@ >ABHA JDEI JH=IEJE 1 JDA BMEC HABAHA?AI J JDA current diversion  %" A= JD=J JDA A?D=EI >AEC @AI?HE>A@ MHI @KHEC >JD H@E=HO=@@ELAHJA@KJFKJJDABHAH?IE@AHA@=IJDAJF@ELAHIEALA

6DAEEJ=JEI troff =@ nroff KJFKJ@EAIEI=HA@ALE?A@AFA@AJ

.pl 將

 E

 E

v

2=CA ACJD IAJ J N 6DA ?KHHAJ F=CA ACJD EI =L=E=>A E JDA .p HACEI JAH

.bp 將

N= 

*v

*ACE F=CA 6DA ?KHHAJ F=CA EI AA?JA@ =@ = AM F=CA EI >ACK 1B N EI CELAJDAAMF=CAK>AHME>A N )IIAAHAGKAIJ ns

!

.pn 將 .po 將 .ne N
.mk R .rt 將

N=

ECHA@



2=CA K>AH 6DA ANJ F=CA MDA EJ ??KHI ME D=LA JDA F=CA K>AH N ) pn KIJ ??KH >ABHA JDA EEJE= FIAK@F=CA JH=IEJE J =BBA?J JDA
F=CA K>AH B JDA BEHIJ F=CA 6DA ?KHHAJ F=CA K>AH EI E JDA % HACEI JAH

 E

FHALEKI

v

2=CA BBIAJ 6DA ?KHHAJ left margin EI IAJ J N 6DA troff EEJE= L=KA FHLE@AI  E?D B F=FAH =HCE  = JOFE?= @ALE?A 6DA ?KHHAJ F=CA BBIAJ EI=L=E=>AEJDA .o HACEIJAH



N= V

,v

AA@ N LAHJE?= IF=?A 1B JDA @EIJ=?A D J JDA ANJ JH=F FIEJE IAA %# EI AII JD= N = BHM=H@ LAHJE?= IF=?A B IEA D ??KHI MDE?D ME IFHEC JDA JH=F 1B JDAHA =HA  HA=EEC JH=FI  JDA F=CA D EI JDA @EIJ=?A J JDA >JJ B JDA F=CA 1B D < V =JDAH EA ?K@ IJE >A KJFKJ =@ IFHECJDAJH=F 1=@ELAHIE D EIJDA@EIJ=?AJJDA diversion trap EB =O HEILAHO=HCA

A

EJAH=

,

=H JDA ?KHHAJ LAHJE?= F=?A E = EJAH= HACEIJAH >JD =II?E=JA@ MEJD JDA?KHHAJ@ELAHIEALAHEHACEIJAH REBCELA 5AA rt HAGKAIJ

A

EJAH=

,v

4AJKH upward only J = =HA@ LAHJE?= F=?A E JDA ?KHHAJ @ELAHIE 1B N MEJD HAIFA?J J ?KHHAJ F=?A EI CELA JDA F=?A EI N BH JDA JF B
JDA F=CA H @ELAHIE H EB N EI =>IAJ J = F=?A =HA@ >O = FHALEKI mk 6DA sp HAGKAIJ  #! =O >A KIA@ EIJA=@ B rt >O IF=?EC J JDA =>IKJA F=?A IJHA@ E = ANFE?EJ HACEIJAH AC KIEC .mk R  .sp |\nRu JDEI =IMHIMDAJDAJEEI@MM=H@I

4. Text Filling, Adjusting, and Centering
4.1. Filling and adjusting. H=O MH@I =HA ?A?JA@ BH EFKJ JANJ EAI =@ =IIA>A@ EJ = KJFKJ JANJ EAKJEIAMH@@AIJBEJ )=JJAFJEIJDA=@A J DOFDA=JA JDA MH@ J FKJ F=HJ B EJ EJ JDA KJFKJ EA 6DA IF=?AI >AJMAA JDA MH@I  JDA KJFKJ EA =HA JDA E?HA=IA@ J IFHA=@ KJ JDA EA J JDA ?KHHAJ line length EKI =O ?KHHAJ indent ) word EI =O IJHEC B ?D=H=?JAHI @AEEJA@ >O JDA space ?D=H=?JAH H JDA >ACEECA@ B JDA EFKJ EA )O =@=?AJ F=EH B MH@I JD=J KIJ >A AFJ JCAJDAH AEJDAH IFEJ =?HII KJFKJ EAI H IFHA=@ =F=HJ E JDA =@KIJ AJ FH?AII ?= >A JEA@ JCAJDAH >O IAF=H=JEC JDA MEJD JDA unpaddable space ?D=H =?JAH \  >=?I=IDIF=?A 6DA =@KIJA@ MH@ IF=?ECI =HA KEBH E troff =@ JDA EEK EJAHMH@ IF=?EC ?= >A ?JHA@ MEJD JDA ss HAGKAIJ   1 nroff JDAO =HAH=OKEBH>A?=KIAB GK=JE=JE J ?D=H=?JAHIEA IF=?AI DMALAH JDA ?=@ EA FJE -e ?=KIAI KEBH IF=?EC MEJD BK KJFKJ @ALE?A HAIKJE .E EC =@KIJAJ =@ DOFDA=JE  ! ?= = >A FHALAJA@ H ?JHA@ 6DA JANJ ACJD  JDA =IJ EA KJFKJ EI =L=E=>A E JDA .n HACEIJAH =@ JANJ >=IAEA FIEJE  JDA F=CA BH JDEI EA EI E JDA nl HACEIJAH 6DA JANJ >=IAEA DECDM=JAH =H M AIJ F=?A  JDA ?KHHAJ F=CA EI E JDA .h HACEIJAH 6DA ?KHHAJ DHEJ= KJFKJ FIE JEEIEJDA .k HACEIJAH
) EFKJ JANJ EA ending MEJD . ? H ! FJE=O BMA@ >O =O K>AH B " ' ) ] * H  EI J=A J >A JDA A@ B = IAJA?A =@ = =@@EJE= IF=?A ?D=H=?JAH EI =KJ=JE?=O FHLE@A@ @KHEC BEEC 6 FHALAJ JDEI =@@ \& J JDA A@ B JDA EFKJ EA KJEFA EJAHMH@ IF=?A ?D=H=?JAHI BK@ E JDA EFKJ =HA HAJ=EA@ AN?AFJ BH JH=EECIF=?AIEEJE=IF=?AI=I?=KIA=>HA=
9DA BEEC EI E ABBA?J = \p =O >A A>A@@A@ H =JJ=?DA@ J = MH@ J ?=KIA =

"

>HA= =J JDA A@ B JDA MH@ =@ D=LAJDAHAIKJECKJFKJEAIFHA=@KJJBEJDA?KH HAJEAACJD

) JANJ EFKJ EA JD=J D=FFAI J >ACE MEJD = ?JH ?D=H=?JAH ?= >A =@A J J  EA = ?JH EA >O FHABENEC EJ MEJD JDA FHEJEC AHME@JD BEAH ?D=H=?JAH \& 5JE =JDAH M=O EI J IFA?EBO KJFKJ JH=I=JE B IA ?LAEAJ ?D=H=?JAH EJ JDA?JH?D=H=?JAHKIEC tr  #

4.2. Interrupted text. 6DA ?FOEC B = EFKJ EA E nofill BE @A ?= >A EJAH HKFJA@ >O JAHE=JEC JDA F=HJE= EA MEJD = \c 6DA ANJ A?KJAHA@ EFKJ JANJ EA ME >A ?IE@AHA@ J >A = ?JEK=JE B JDA I=A EA B EFKJ JANJ 5EE=HO = MH@ MEJDE filled JANJ =O >A EJAHHKFJA@ >O JAHE=JEC JDA MH@ =@ EA MEJD \c JDA ANJ A?KJAHA@ JANJ ME >A J=A =I = ?JEK=JE B JDA EJAHHKFJA@ MH@ 1B JDA EJAHLAEC ?JH EAI ?=KIA = >HA= =O F=HJE= EA ME >A BH?A@ KJ =C MEJD =O F=HJE=MH@

.br

*

*HA= 6DA BEEC B JDA EA ?KHHAJO >AEC ?A?JA@ EI IJFFA@ =@ JDA EA EI KJFKJ MEJDKJ =@KIJAJ 6ANJ EAI >ACEEC MEJD IF=?A ?D=H=? JAHI>KJJJ=>I=@AFJOJANJEAI>=EAI=I?=KIA=>HA=

.fi

BE



*-

.E IK>IAGKAJ KJFKJ EAI 6DA HACEIJAH .u EI  E BE @A =@  E BE @A

.nf

BE



*-

BE 5K>IAGKAJ KJFKJ EAI =HA AEJDAH BEA@ H =@KIJA@ 1FKJ JANJ EAI =HA ?FEA@ @EHA?JO J KJFKJ EAI MEJDKJ HAC=H@ BH JDA ?KHHAJ EA ACJD

.ad c

=@>JD

=@KIJ

-

EA =@KIJAJ EI >ACK 1B BE @A EI J  =@KIJAJ ME >A @ABAHHA@

KJE BE @A EI >=?  1B JDA JOFA E@E?=JH c EI FHAIAJ JDA =@KIJAJ

JOFAEI?D=CA@=IIDMEJDABMECJ=>A _____________________________________

__1_@__E?_=_J__H__________)_@__K_I_J__6_O_F_A________

  

l r

  

=@KIJABJ=HCEO =@KIJHECDJ=HCEO

  

c

 ?AJAH



 b H n  =@KIJ>JD=HCEI 

___=_>_I_A__J_____K___?_D_=__C_A__@______________

6DA K>AH HACEIJAH .j ?J=EI JDA ?KHHAJ L=KA B JDA ad IAJJEC EJI L=KA?=>AHA?H@A@=@KIA@IK>IAGKAJOJIAJ=@KIJAJ

.na

=@KIJ



-

=@KIJ )@KIJAJ EI JKHA@ BB JDA HECDJ =HCE ME >A H=CCA@ 6DA =@KIJAJ JOFA BH ad EI J ?D=CA@ KJFKJ EA BEEC IJE ??KHI EB BE @AEI

.ce N

BB

N =

*-

+AJAH JDA ANJ N EFKJ JANJ EAI MEJDE JDA ?KHHAJ =L=E=>A DHEJ= IF=?A EAACJD EKI E@AJ 1B N =  =O HAIE@K= ?KJ EI ?A=HA@ ) >HA= ??KHI =BJAH A=?D B JDA N EFKJ EAI 1B JDA EFKJ EA EI J C EJ ME>AABJ=@KIJA@

#

5. Vertical Spacing

5.1. Baseline spacing. 6DA LAHJE?= IF=?EC V >AJMAA JDA >=IAEAI B IK??AIIELA KJFKJ EAI ?= >A IAJ KIEC JDA vs HAGKAIJ V IDK@ >A =HCA AKCD J =?? @=JA JDA ?D=H=?JAH IEAI  JDA =BBA?JA@ KJFKJ EAI .H JDA ? JOFA IEAI ' FEJI KIK= JOFAIAJJEC FH=?JE?A EI J IAJ V J FEJI CHA=JAH JD= JDA FEJ IEA troff @AB=KJ EI FEJ JOFA  =  FEJ IF=?EC =I E JDEI @?KAJ 6DA ?KHHAJ V EI =L=E=>A E JDA .v HACEIJAH KJEFAV EA IAF=H=JE AC @K>A IF=?EC =O >A HAGKAIJA@ MEJD ls >KJ EJ EI >AJJAH J KIA = =HCA vs EIJA=@ ?AHJ=E FHAFH?AIIHI =IIKAIECAIF=?EC 6DA?KHHAJEAIF=?ECEI=L=E=>AEJDA .L HACEIJAH

5.2. Extra line-space. 1B=MH@ ?J=EI = J= ?IJHK?J HAGKEHEC JDA KJFKJ EA ? J=EEC EJ J D=LA ANJH= LAHJE?= IF=?A >ABHA =@H =BJAH EJ JDA extra-line-space BK? JE \x'N' ?= >A A>A@@A@ E H =JJ=?DA@ J JD=J MH@ 1B N EI AC=JELA JDA KJFKJ EA ?J=EEC JDA MH@ ME >A FHA?A@A@ >O N ANJH= LAHJE?= IF=?A EB N EI FIEJELA JDA KJFKJ EA ?J=EEC JDA MH@ ME >A BMA@ >O N ANJH= LAHJE?= IF=?A 1B IK??AIIELA HAGKAIJI BH ANJH= IF=?A =FFO J JDA I=A EA JDA =NEK L=KAI =HA KIA@ 6DA IJHA?AJOKJEEA@FIJEAANJH=EAIF=?AEI=L=E=>AEJDA .a HACEIJAH

1 \x'...' =@ JDAH BK?JEI D=LEC = F=EH B @AEEJAHI =HK@ JDAEH F=H=AJAH JDA @AEEJAH ?DE?A DAHA ' EI =H>EJH=HO AN?AFJ JD=J EJ ?=JEAJDA?JEK=JE B=K>AHANFHAIIEBH N

5.3. Blocks of vertical space. ) >? B LAHJE?= IF=?A EI H@E=HEO HAGKAIJA@ KIEC sp MDE?D DHI JDA no-space @A =@ MDE?D @AI J IF=?A F=IJ = JH=F ) ?JECK KI>?BLAHJE?=IF=?A=O>AHAIAHLA@KIEC sv

.vs N

 FJI$E FHALEKI

-p

5AJ LAHJE?= >=IAEA IF=?EC IEA V 6H=IEAJ ANJH= LAHJE?= IF=?A EI =L=E =>AMEJD \x'N ' IAA=>LA

.ls N

N =

FHALEKI

-

Line IF=?EC IAJ J N N -  VI >= EAI =HA =FFA@A@ J A=?D KJFKJ JANJ EA )FFA@A@ >= EAI =HA EJJA@ EB JDA JANJ H FHALEKI =FFA@A@>=EAHA=?DA@=JH=FFIEJE

.sp N



N= V

*v

5F=?A LAHJE?=O E AEJDAH @EHA?JE 1B N EI AC=JELA JDA JE EI >=?M=H@ KFM=H@ =@ EI EEJA@ J JDA @EIJ=?A J JDA JF B JDA F=CA .HM=H@ @MM=H@ JE EI JHK?=JA@ J JDA @EIJ=?A J JDA A=HAIJ JH=F 4A?= JDA KIA B .sp |N BH ! 1B JDA IF=?A @A EI   IF=?EC ??KHIIAA ns =@ rs >AM

.sv N



N= V

v

5=LA = ?JECKKI LAHJE?= >? B IEA N 1B JDA @EIJ=?A J JDA ANJ JH=F EI CHA=JAH JD= N N LAHJE?= IF=?A EI KJFKJ IF=?A @A D=I  ABBA?J 1B JDEI @EIJ=?A EI AII JD= N  LAHJE?= IF=?A EI EA@E=JAO KJFKJ >KJ N EI HAA>AHA@ BH =JAH KJFKJ IAA os 5K>IAGKAJ sv HAGKAIJI ME LAH MHEJA=OIJEHAA>AHA@ N

.os



KJFKJ I=LA@ LAHJE?= IF=?A IF=?A @A D=I  ABBA?J 7IA@ J BE=O KJFKJ=>?BLAHJE?=IF=?AHAGKAIJA@>O=A=HEAH sv HAGKAIJ

.ns

IF=?A



,

IF=?A @A JKHA@  9DA  IF=?A @A EDE>EJI sp HAGKAIJI =@ bp HAGKAIJI without = ANJ F=CA K>AH IF=?A @A EI JKHA@ BB MDA=EABKJFKJ??KHIHMEJD rs

.rs

IF=?A



,

$

4AIJHAIF=?EC 6DAIF=?A@AEIJKHA@BB

*=JANJEA

*

+=KIAI=>HA==@KJFKJB=>=EAAN=?JOEA sp 1

6. Line Length and Indenting

6DA =NEK EA ACJD BH BE @A =O >A IAJ MEJD ll 6DA E@AJ =O >A IAJ MEJD in = E@AJ =FFE?=>A J O JDA ANJ KJFKJ EA =O >A IAJ MEJD ti 6DA EA ACJD E?K@AI E@AJ IF=?A >KJ J F=CA BBIAJ IF=?A 6DA EA ACJD EKI JDA E@AJ EI JDA >=IEI BH ?AJAHEC MEJD ce 6DA ABBA?J B ll in H ti EI @A=OA@ EB = F=HJE=O ?A?JA@ EA ANEIJI KJE =BJAH JD=J EA EI KJFKJ 1 BE @A JDA ACJD B JANJ  = KJFKJ EA EI AII JD= H AGK= J JDA EA ACJD EKI JDA E@AJ 6DA ?KH HAJ EA ACJD =@ E@AJ =HA =L=E=>A E HACEIJAHI .l =@ .i HAIFA?JELAO 6DA ACJD B three-part titles FH@K?A@>O tl IAA "EIE@AFA@AJOIAJ>O lt

.ll 將

$# E

FHALEKI

-m

EAACJDEIIAJJ N

.in 將

N= 

FHALEKI

*-m

1@AJEIIAJJ N 6DAE@AJEIFHABENA@JA=?DKJFKJEA

.ti 將



ECHA@

*-m

6AFH=HO E@AJ 6DA ANJ KJFKJ JANJ EA ME >A E@AJA@ = @EIJ=?A N MEJD HAIFA?J J JDA ?KHHAJ E@AJ 6DA HAIKJEC JJ= E@AJ =O J >A AC=JELA 6DA?KHHAJE@AJEIJ?D=CA@

7. Macros, Strings, Diversion, and Position Traps
7.1. Macros and strings. ) macro EI = =A@ IAJ B =H>EJH=HO lines JD=J =O >A ELA@ >O =A H MEJD = trap ) string EI = =A@ IJHEC B characters J E?K@EC = AMEA ?D=H=?JAH JD=J =O >A EJAHF=JA@ >O =A =J =O FEJ 4AGKAIJ =?H =@ IJHEC =AI ID=HA JDA I=A =A EIJ =?H =@ IJHEC =AI =O >A A H JM ?D=H=?JAHI C =@ =O KIKHF FHALEKIO @ABEA@ HAGKAIJ =?H H IJHEC =AI JDEI EFEAI JD=J >KEJE FAH=JEI =O >A EHHAL?=>O HA@ABEA@ )O B JDAIA AJEJEAI =O>AHA=A@MEJD rn HHALA@MEJD rm
=?HI =HA ?HA=JA@ >O de =@ di =@ =FFA@A@ J >O am =@ da di =@ da ?=KIA H= KJFKJ J >A IJHA@ E = =?H ) =?H EI ELA@ E JDA I=A M=O =I = HAGKAIJ = ?JH EA >ACEEC .xx ME EJAHF=JA JDA ?JAJI B =?H xx 6DA HA=E@AHBJDAEA=O?J=EKFJEA arguments
5JHECI =HA ?HA=JA@ >O ds =@ =FFA@A@ J >O as 6DA IJHECI x =@ xx =HA EJAH F=JA@ =J =O @AIEHA@ FEJ MEJD \x =@ \(xx HAIFA?JELAO 5JHEC HABAHA?AI =@ =?HEL?=JEI=O>AAIJA@
7.2. Copy mode input interpretation. ,KHEC JDA @ABEEJE =@ ANJAIE B IJHECI =@ =?HI J >O @ELAHIE JDA EFKJ EI HA=@ E copy mode 1 ?FO @A EFKJ EI ?FEA@MEJDKJEJAHFHAJ=JEAN?AFJJD=J
 6DA?JAJIBK>AHHACEIJAHIE@E?=JA@>O \n =HAEJAHF=JA@  5JHECIE@E?=JA@>O \ =HAEJAHF=JA@  )HCKAJIE@E?=JA@>O \$ =HAEJAHF=JA@  +?A=A@AMEAIE@E?=JA@>O \newline =HAAEE=JA@  +AJIE@E?=JA@>O \" =HAAEE=JA@  \t =@ \a =HAEJAHFHAJA@=I )5+11 DHEJ=J=>=@ 50 HAIFA?JELAO '  \\ EIEJAHFHAJA@=I \  \. EIEJAHFHAJA@=I.
6DAIA EJAHFHAJ=JEI ?= >A IKFFHAIIA@ >O FHABENEC = \ .H AN=FA IE?A \\ =FI EJ = \ \\n ME ?FO =I \n MDE?D ME >A EJAHFHAJA@ =I = K>AH HACEIJAH E@E?=JH

%
MDAJDA=?HHIJHECEIHAHA=@
7.3. Arguments. 9DA = =?H EI ELA@ >O =A JDA HA=E@AH B JDA EA EI J=A J ?J=E KF J EA =HCKAJI 6DA =HCKAJ IAF=H=JH EI JDA IF=?A ?D=H=?JAH J J=> =@ =HCKAJI =O >A IKHHK@A@ >O @K>A GKJAI J FAHEJ A>A@@A@ IF=?A ?D=H=?JAHI 2=EHI B @K>A GKJAI =O >A A>A@@A@ E @K>AGKJA@ =HCKAJI J HAFHAIAJ = IECA @K>AGKJA ?D=H=?JAH 6DA =HCKAJ "" EI ANFE?EJO K 1B JDA @AIEHA@ =HCKAJI MJ BEJ  = EA = ??A=A@ AMEA =O >A KIA@ J ?JEKA  JDAANJEA )JH=EEC@K>AGKJA=O>AEJJA@
9DA = =?H EI ELA@ JDA input level EI pushed down =@ =O =HCKAJI =L=E =>A =J JDA FHALEKI ALA >A?A K=L=E=>A KJE JDA =?H EI ?FAJAO HA=@ =@ JDA FHALEKI ALA EI HAIJHA@ ) =?HI M =HCKAJI ?= >A EJAHF=JA@ =J =O FEJ MEJDE JDA =?H MEJD \$N MDE?D EJAHF=JAI JDA NJD =HCKAJ N' 1B = ELA@ =HCKAJ @AI J ANEIJ = K IJHEC HAIKJI .H AN=FA JDA =?H xx =O >A@ABEA@>O
.de xx \" begin definition Today is \\$1 the \\$2. .. \" end definition
=@?=A@>O
.xx Monday 14th
JFH@K?AJDAJANJ
Today is Monday the 14th.
JA JD=J A=?D \$ M=I ??A=A@ E JDA @ABEEJE MEJD = FHABENA@ \ 6DA K>AH B =HCKAJIEIEJDA .$ HACEIJAH
=HCKAJI=HA=L=E=>A=JJDAJF=?HALAMEJDE=IJHEC H MEJDE = JH=FELA@=?H
)HCKAJI =HA ?FEA@ E ?FO @A J = IJ=? MDAHA JDAO =HA =L=E=>A BH HABAH A?A 1J EI =@LEI=>A J ??A= IJHEC HABAHA?AI MEJD = ANJH= \  J @A=O EJAHF=JE KJE=HCKAJHABAHA?AJEA
7.4. Diversions. 2H?AIIA@ KJFKJ =O >A @ELAHJA@ EJ = =?H BH FKHFIAI IK?D =I BJJA FH?AIIEC IAA 6KJHE= 6# H @AJAHEEC JDA DHEJ= =@ LAHJE?= IEA B IA JANJ BH ?@EJE= ?D=CEC B F=CAI H ?KI ) IECA @ELAHIE JH=F =O >A IAJ =J = IFA?EBEA@ LAHJE?= FIEJE 6DA K>AH HACEIJAHI dn =@ dl HAIFA?JELAO ? J=E JDA LAHJE?= =@ DHEJ= IEA B JDA IJ HA?AJO A@A@ @ELAHIE 2H?AIIA@ JANJ JD=J EI @ELAHJA@ EJ = =?H HAJ=EI JDA LAHJE?= IEABA=?DBEJIEAIMDAHAHA=@ E nofill @A HAC=H@AII B JDA ?KHHAJ V +IJ=JIF=?A@ cs H A>@AA@ bd JANJ JD=J EI @ELAHJA@ ?= >A HAHA=@ ?HHA?JO O EB JDAIA @AI =HA =C=E H IJE E ABBA?J =J HAHA=@ JEA A M=O J @ JDEI EI J A>A@ E JDA @ELAHIE JDA =FFHFHE=JA cs H bd HAGKAIJIMEJDJDA transparent A?D=EI@AI?HE>A@E $
,ELAHIEI =O >A AIJA@ =@ ?AHJ=E F=H=AJAHI =@ HACEIJAHI =HA =II?E=JA@ MEJD JDA ?KHHAJ @ELAHIE ALA JDA JF @ELAHIE ALA =O >A JDKCDJ B =I JDA JD @ELAHIE ALA 6DAIA =HA JDA @ELAHIE JH=F =@ =II?E=JA@ =?H IF=?A @A JDA EJAH=OI=LA@ =HA@ F=?A IAA mk =@ rt JDA ?KHHAJ LAHJE?= F=?A .d HACEI JAH JDA ?KHHAJ DECDM=JAH JANJ >=IAEA .h HACEIJAH =@ JDA ?KHHAJ @ELAHIE =A .z HACEIJAH
7.5. Traps. 6DHAA JOFAI B JH=F A?D=EII =HA =L=E=>AF=CA JH=FI = @ELAHIE JH=F =@ = EFKJEA?KJ JH=F =?HEL?=JE JH=FI =O >A F=JA@ KIEC wh =J =O F=CA FIEJE E?K@EC JDA JF 6DEI JH=F FIEJE =O >A ?D=CA@ KIEC ch 6H=F FIEJEI =J H >AM JDA >JJ B JDA F=CA D=LA  ABBA?J KAII H KJE LA@ J MEJDE JDA F=CA H HA@AHA@ ABBA?JELA >O = E?HA=IA E F=CA ACJD 6M JH=FI =O >A F=JA@ =J JDA I=A FIEJE O >O BEHIJ F=JEC JDA =J @EBBAHAJ FIEJEI =@ JDA

&

LEC A B JDA JH=FI JDA BEHIJ F=JA@ JH=F ME ??A= JDA IA?@ KAII =@ KJE JDA BEHIJ A EI LA@ IAA 6KJHE= -N=FAI 1B JDA BEHIJ A EI LA@ >=? EJ =C=E ??A=I JDA IA?@ JH=F 6DA =?H =II?E=JA@ MEJD = F=CA JH=F EI =KJ=JE?=O ELA@ MDA = EA B JANJ EI KJFKJ MDIA LAHJE?= IEA HA=?DAI H IMAAFIF=IJJDAJH=F FIEJE 4A=?DEC JDA >JJ B = F=CA IFHECI JDA JFBF=CA JH=F EB =O FHLE@A@ JDAHA EI = ANJ F=CA 6DA @EIJ=?A J JDA ANJ JH=F FIEJE EI =L=E=>A E JDA .t HACEI JAH EB JDAHA =HA  JH=FI >AJMAA JDA ?KHHAJ FIEJE =@ JDA >JJ B JDA F=CA JDA @EIJ=?AHAJKHA@EIJDA@EIJ=?AJJDAF=CA>JJ

) =?HEL?=JE JH=F ABBA?JELA E JDA ?KHHAJ @ELAHIE =O >A F=JA@ KIEC dt 6DA .t HACEIJAH MHI E = @ELAHIE EB JDAHA EIIK>IAGKAJJH=F==HCA@EIJ=?A EIHAJKHA@ .H=@AI?HEFJEBEFKJEA?KJJH=FIIAA it >AM

.de xx yy



.yy=..



,ABEA H HA@ABEA JDA =?H xx 6DA ?JAJI B JDA =?H >ACE  JDA ANJ EFKJ EA 1FKJ EAI =HA ?FEA@ E copy mode KJE JDA @ABEEJE EI JAHE=JA@ >O = EA >ACEEC MEJD .yy MDAHAKF JDA =?H yy EI ?=A@ 1 JDA =>IA?A B yy JDA @ABEEJE EI JAHE=JA@ >O = EA >ACEEC MEJD .. ) =?H =O ?J=E de HAGKAIJI FHLE@A@ JDA JAHE=JEC =?HI @EBBAH H JDA ?J=EA@ @ABEEJE JAHE=JH EI ??A=A@ .. ?= >A ? ?A=A@=I \\.. MDE?DME?FO=I \.. =@>AHAHA=@=I..

.am xx yy



.yy=..



)FFA@J=?H xx =FFA@LAHIEB de

.ds xx string



ECHA@



,ABEA = IJHEC xx ?J=EEC string )O EEJE= @K>A GKJA E string EI IJHEFFA@BBJFAHEJEEJE=>=I

.as xx string



ECHA@



)FFA@ string JIJHEC xx =FFA@LAHIEB ds

.rm xx



ECHA@



4ALA HAGKAIJ =?H H IJHEC 6DA =A xx EI HALA@ BH JDA =A EIJ =@ =O HA=JA@ IJH=CA IF=?A EI BHAA@ 5K>IAGKAJ HABAHA?AI ME D=LA  ABBA?J 1B =O =?HI =@ IJHECI =HA >AEC ?HA=JA@ @O=E?=O EJ =O >A?A A?AII=HO J HALA KKIA@ AI J HA?=FJKHA EJAH= IJH=CA IF=?ABHAMAHHACEIJAHI

.rn xx yy



ECHA@



4A=AHAGKAIJ=?HHIJHEC xx J yy 1B yy ANEIJIEJEIBEHIJHALA@

.di xx

 A@ ,

,ELAHJ KJFKJ J =?H xx H= JANJ FH?AIIEC ??KHI @KHEC @ELAHIE AN?AFJ JD=J F=CA BBIAJJEC EI J @A 6DA @ELAHIE A@I MDA JDA HAGKAIJ di H da EI A?KJAHA@ MEJDKJ = =HCKAJ ANJH=AKI HAGKAIJI BJDEIJOFAIDK@J=FFA=HMDAAIJA@@ELAHIEI=HA>AECKIA@

.da xx

 A@ ,

,ELAHJ=FFA@ECJ=?H xx =FFA@LAHIEB di

.wh N xx





v

1IJ==JH=FJELA xx =JF=CA FIEJE N = AC=JELA  ME >A EJAHFHAJA@ =I = @EIJ=?A BH JDA F=CA >JJ )O =?H FHALEKIO F=JA@ =J N EI HAF=?A@ >O xx ) AH N HABAHI J JDA JF B = F=CA 1 JDA =>IA?A B xx JDABEHIJJH=FBK@=J NEB=OEIHALA@

.ch xx N





v

+D=CA JDA JH=F FIEJE BH =?H xx J >A N 1 JDA =>IA?A B N JDA

'

.dt N xx .it N xx .em xx

JH=FEB=OEIHALA@

 BB ,v

1IJ= = @ELAHIE JH=F =J FIEJE N E JDA current @ELAHIE J ELA =?H xx )JDAH dt ME HA@ABEA JDA @ELAHIE JH=F 1B  =HCKAJI =HA CELA JDA@ELAHIEJH=FEIHALA@

 BB -

5AJ = EFKJEA?KJ JH=F J ELA JDA =?H xx =BJAH N EAI B text EFKJ D=LA >AA HA=@ ?JH H HAGKAIJ EAI @ J ?KJ 6DA JANJ =O >AEEAJANJHJANJEJAHF=JA@>OEEAHJH=FELA@=?HI

A

A



6DA =?H xx ME >A ELA@ MDA = EFKJ D=I A@A@ 6DA ABBA?J EI =IJ =I EB JDA ?JAJI B xx D=@ >AA =J JDA A@ B JDA =IJ BEA FH?AIIA@ >KJ = FH?AIIEC?A=IAI=JJDAANJF=CAAA?J

8. Number Registers

) L=HEAJO B F=H=AJAHI =HA =L=E=>A J JDA KIAH =I FHA@ABEA@ number registers IAA 5K=HO F=CA % 1 =@@EJE KIAHI =O @ABEA JDAEH M HACEIJAHI 4ACEIJAH =AI =HA A H JM ?D=H=?JAHI C =@ @ J ?BE?J MEJD HAGKAIJ =?H H IJHEC =AI -N?AFJ BH ?AHJ=E FHA@ABEA@ HA=@O HACEIJAHI = K>AH HACEIJAH ?= >A HA=@ MHEJJA =KJ=JE?=O E?HAAJA@ H @A?HAAJA@ =@ EJAHF=JA@ EJ JDA EFKJ E = L=HEAJO B BH=JI A ? KIA B KIAH@ABEA@ HACEIJAHI EI J =KJ=JE ?=O K>AH IA?JEI F=H=CH=FDI EAI AJ? ) K>AH HACEIJAH =O >A KIA@ =O JEA KAHE?=EFKJEIANFA?JA@H@AIEHA@=@=O>AKIA@EKAHE?= expressions  "

K>AH HACEIJAHI =HA ?HA=JA@ =@ @EBEA@ KIEC nr MDE?D IFA?EBEAI JDA =A

KAHE?= L=KA =@ JDA =KJE?HAAJ IEA 4ACEIJAHI =HA =I @EBEA@ EB =??AIIA@

MEJD = =KJE?HAAJEC IAGKA?A 1B JDA HACEIJAHI x =@ xx >JD ?J=E N =@ D=LA

JDA=KJE?HAAJIEA MJDABMEC=??AIIIAGKA?AID=LAJDAABBA?JIDM ________________________________________________



 -BBA?J

 8=KA 

__\5_An_G_xK_A___?_A_________4__A_C_E_I_JAA_H__________1__JA_H_F_N__=_J_A_@__

 \n(xx 

A

N



 \n+x  x E?HAAJA@>O M  N+M 

 \n-x  x @A?HAAJA@>O M  N-M  __\\_nn__-+_((__xx_xx____xx_xx__@E_A_??_HHA_A__A_A__JJ_AA_@@__>>_OO__MM_______NN__-+_MM______

9DA EJAHF=JA@ = K>AH HACEIJAH EI ?LAHJA@ J @A?E= @AB=KJ @A?E= MEJD A=@EC AHI MAH?=IA 4= KFFAH?=IA 4= MAH?=IA IAGKAJE= =FD=>AJE? HKFFAH?=IAIAGKAJE==FD=>AJE?=??H@ECJJDABH=JIFA?EBEA@>O af

.nr R 將 M

u

6DA K>AH HACEIJAH R EI =IIECA@ JDA L=KA N MEJD HAIFA?J J JDA FHALEKI L=KAEB=O 6DAE?HAAJBH=KJE?HAAJECEIIAJJ M

.af R c

=H=>E?





)IIECBH=J c JHACEIJAH R 6DA=L=E=>ABH=JI=HA

 

.rr R

_________________________________________________



K>AHEC



__.__H1___=_J__________!__"___#__5_A_G_K__A__?_A________________

 001   !"#



 i  EEEEEEELL



 I  111111188



____aA_________)=__>_*__?+________=)_=_)_=_>)__*_______=__=)_=)__)____ _

) =H=>E? BH=J D=LEC N @ECEJI IFA?EBEAI = BEA@ ME@JD B N @ECEJI AN=FA =>LA 6DA HA=@O HACEIJAHI =@ JDA ME@JD BK?JE \w    =HA
=M=OI =H=>E? 9=HEC JDA L=KA B = K>AH HACEIJAH E = )H=>E? BH =J EI J KAHE? =@ ME J FH@K?A JDA ANFA?JA@ HAIKJI E ANFHAI IEI

6DA BK?JE \gx H \g(xx HAJKHI JDA BH=J B = K>AH HACEIJAH E = BHIKEJ=>ABH afEJHAJKHIJDECEBJDAHACEIJAHD=IJ>AAKIA@



ECHA@



4ALA K>AH HACEIJAH R 1B =O HACEIJAHI =HA >AEC ?HA=JA@ @O=E?=O EJ =O >A?A A?AII=HO J HALA KKIA@ HACEIJAHI J HA?=FJKHA EJAH= IJH=CA IF=?A BH AMAH HACEIJAHI 6DA HACEIJAH .R ?J=EI JDA K>AH B K>AHHACEIJAHIIJE=L=E=>A

9. Tabs, Leaders, and Fields

9.1. Tabs and leaders. 6DA )5+11 DHEJ= J=> ?D=H=?JAH =@ JDA )5+11 50 ?JH

) DAHA=BJAH ?=A@ JDA leader ?D=H=?JAH ?= >JD >A KIA@ J CAAH=JA AEJDAH DHEJ=

JE H = IJHEC B HAFA=JA@ ?D=H=?JAHI 6DA ACJD B JDA CAAH=JA@ AJEJO EI CL

AHA@ >O EJAH= tab stops IFA?EBE=>A MEJD ta 6DA @AB=KJ @EBBAHA?A EI JD=J J=>I CA

AH=JA JE =@ A=@AHI CAAH=JA = IJHEC B FAHE@I tc =@ lc BBAH JDA ?DE?A B

HAFA=JA@ ?D=H=?JAH H JE 6DAHA =HA JDHAA JOFAI B EJAH= J=> IJFIleft =@KIJ

EC right =@KIJEC =@ centering 1 JDA BMEC J=>A D EI JDA @EIJ=?A BH JDA

?KHHAJ FIEJE  JDA input EA MDAHA = J=> H A=@AH M=I BK@ J JDA ANJ J=> IJF

next-string ?IEIJI B JDA EFKJ ?D=H=?JAHI BMEC JDA J=> H A=@AH KF J JDA ANJ

J=>HA=@AHHA@BEA=@ W EIJDAME@JDB next-string _____________________________________________________________

 6=>  ACJDBJEH 

?=JEB



____J_O_AF_B_AJ_____H_A_F_A_=_J_A_@__D?_D_=__H=__?_JA_H_I___._____M__E_nC_e_xD_t_-_s_t_r_i_n_g_________

 4ECDJ 

D-W

 4ECDJ=@KIJA@MEJDE D 

__+__A__J_A_H_A_@_________D__-_W__/__________+__A__J_A_H_A_@_____H_EC__D_J_A___@___B _D__

6DA ACJD B CAAH=JA@ JE EI =MA@ J >A AC=JELA >KJ JD=J B = HAFA=JA@ ?D=H=? JAH IJHEC ?=J >A 4AFA=JA@ ?D=H=?JAH IJHECI ?J=E = EJACAH K>AH B ?D=H=? JAHI =@ =O HAIE@K= @EIJ=?A EI FHAFA@A@ =I JE 6=>I H A=@AHI BK@ =BJAH JDA =IJJ=>IJF=HAECHA@>KJ=O>AKIA@=I next-string JAHE=JHI

6=>I =@ A=@AHI =HA J EJAHFHAJA@ E ?FO @A \t =@ \a =M=OI CAAH=JA = EJAHFHAJA@ J=> =@ A=@AH HAIFA?JELAO =@ =HA AGKEL=AJ J =?JK= J=>I =@ A=@ AHIE?FO@A

9.2. Fields. ) field EI ?J=EA@ >AJMAA = F=EH B field delimiter ?D=H=?JAHI =@ ? IEIJI B IK>IJHECI IAF=H=JA@ >O padding E@E?=JH ?D=H=?JAHI 6DA BEA@ ACJD EI JDA @EIJ=?A  JDA input EA BH JDA FIEJE MDAHA JDA BEA@ >ACEI J JDA ANJ J=> IJF 6DA @EBBAHA?A >AJMAA JDA JJ= ACJD B = JDA IK>IJHECI =@ JDA BEA@ ACJD EI E?HFH=JA@ =I DHEJ= F=@@EC IF=?A JD=J EI @ELE@A@ =C JDA E@E?=JA@ F=@@EC F=?AI 6DA E?HFH=JA@ F=@@EC EI =MA@ J >A AC=JELA .H AN=FA EB JDA BEA@

 

@AEEJAH EI # =@ JDA F=@@EC E@E?=JH EI ^ #^xxx^right # IFA?EBEAI = HECDJ=@KIJA@ IJHECMEJDJDAIJHEC xxx ?AJAHA@EJDAHA=EECIF=?A

.ta Nt ...

&#E A

-m

5AJ J=> IJFI =@ JOFAI t=R HECDJ =@KIJEC t=C ?AJAHEC t =>IAJ ABJ =@KIJEC Troff J=> IJFI =HA FHAIAJ ALAHO #E nroff ALAHO &E 6DA IJF L=KAI =HA IAF=H=JA@ >O IF=?AI =@ = L=KA FHA?A@A@ >O + EI JHA=JA@ =I =E?HAAJJJDAFHALEKIIJFL=KA

.tc c

A

A

-

6DA J=> HAFAJEJE ?D=H=?JAH >A?AI c H EI HALA@ JDKI IFA?EBOEC JE

.lc c

.

A

-

6DA A=@AH HAFAJEJE ?D=H=?JAH >A?AI c H EI HALA@ JDKI IFA?EBOEC JE

.fc a b

BB BB 

6DA BEA@ @AEEJAH EI IAJ J a JDA F=@@EC E@E?=JH EI IAJ J JDA IF=?A ?D=H =?JAH H J b EB CELA 1 JDA =>IA?A B =HCKAJI JDA BEA@ A?D=EI EI JKHA@BB

10. Input and Output Conventions and Character Translations

10.1. Input character translations. 9=OI B EFKJJEC JDA L=E@ ?D=H=?JAH IAJ MAHA @EI ?KIIA@ E  6DA )5+11 ?JH ?D=H=?JAHI DHEJ= J=>  ' 50  ' =@ >=? IF=?A  ! =HA @EI?KIIA@ AIAMDAHA 6DA AMEA @AEEJI EFKJ EAI 1 =@@EJE 56: -6: -3 )+ =@ *- =HA =??AFJA@ =@ =O >A KIA@ =I @AEEJAHI H JH=I=JA@ EJ=CH=FDE?MEJD tr  # )JDAHI=HAECHA@

6DA escape ?D=H=?JAH \ EJH@K?AI escape sequences MDE?D ?=KIA JDA BMEC ?D=H=?JAH J A= =JDAH ?D=H=?JAH H J E@E?=JA IA BK?JE ) ?FAJA EIJ B IK?D IAGKA?AI EI CELA E JDA 5K=HO  F=CA % 6DA AI?=FA ?D=H=?JAH \ IDK@ J >A ?BKIA@ MEJD JDA )5+11 ?JH ?D=H=?JAH -5+ 6DA AI?=FA ?D=H=?JAH \ ?= >A EFKJ MEJD JDA IAGKA?A \\ 6DA AI?=FA ?D=H=?JAH ?= >A ?D=CA@ MEJD ec =@ = JD=J D=I >AA I=E@ =>KJ JDA @AB=KJ \ >A?AI JHKA BH JDA AM AI?=FA ?D=H=?JAH \e ?= >A KIA@ J FHEJ MD=JALAH JDA ?KHHAJ AI?=FA ?D=H=?JAH EI 6DA AI?=FA A?D=EI =O >A JKHA@BBMEJD eo=@HAIJHA@MEJD ec

.ec c

\\

5AJAI?=FA?D=H=?JAHJ \HJ cEBCELA

.eo

 



6KHAI?=FAA?D=EIBB

10.2. Ligatures. 6DA IAJ B =L=E=>A EC=JKHAI EI @ALE?A =@ BJ @AFA@AJ >KJ EI BJA = IK>IAJ B fi fl ff ffi =@ ffl 6DAO =O >A EFKJ >O \(fi \(fl \(ff \(Fi =@ \(Fl HAIFA?JELAO 6DA EC=JKHA @A EI H=O  E troff  =@ =KJ=JE ?=OELAIEC=JKHAI@KHECEFKJ

.lg N

BB





EC=JKHA @A EI JKHA@  EB N EI =>IAJ H AH =@ JKHA@ BB EB N =  1B N =  O JDA JM?D=H=?JAH EC=JKHAI =HA =KJ=JE?=O ELA@ EC=JKHA @A EI EDE>EJA@ BH HAGKAIJ =?H IJHEC HACEIJAH H BEA =AI =@E?FO@A ABBA?JE nroff

10.3. Backspacing, underlining, overstriking, etc. 7AII E ?FO @A JDA )5+11 >=?IF=?A ?D=H=?JAH EI HAF=?A@ >O = >=?M=H@ DHEJ= JE D=LEC JDA ME@JD B JDA IF=?A ?D=H=?JAH 7@AHEEC =I = BH B EA@H=MEC EI @EI?KIIA@ E  " ) CAAH=EA@LAHIJHEECBK?JEEI@AI?HE>A@E  



Nroff =KJ=JE?=OK@AHEAI?D=H=?JAHIEJDA underline BJ IFA?EBE=>A MEJD uf H=O JD=J  BJ FIEJE  1 =@@EJE J ft =@ \fF JDA K@AHEA BJ =O >A IAA?JA@ >O ul =@ cu 7@AHEEC EI HAIJHE?JA@ J = KJFKJ@ALE?A@AFA@AJ IK>IAJ BHA=I=>A?D=H=?JAHI

.ul N

BB

N =

-

1J=E?EA E troff K@AHEA E nroff JDA ANJ N EFKJ JANJ EAI )?JK=O IMEJ?D J K@AHEA BJ I=LEC JDA ?KHHAJ BJ BH =JAH HAIJH=JE JDAH BJ ?D=CAI MEJDE JDA IF= B = ul ME J=A ABBA?J >KJ JDA HAIJH=JE ME K@ JDA =IJ ?D=CA KJFKJ CAAH=JA@ >O tl  " EI =BBA?JA@ >O JDA BJ ?D=CA >KJ @AI J @A?HAAJ N 1B N >  JDAHA EI JDA HEI JD=J = JH=F EJAHF=JA@ =?H =O FHLE@A JANJ EAI MEJDE JDA IF= ALEHAJ IMEJ?DEC?=FHALAJJDEI

.cu N

BB

N =

-

+JEKKI K@AHEA ) L=HE=J B ul JD=J ?=KIAI every ?D=H=?JAH J >A K@AHEA@E nroff 1@AJE?=J ul E troff 

.uf F

1J=E?

1J=E?



7@AHEABJIAJJ F 1 nroff F =OJ>AFIEJE

10.4. Control characters. *JDJDA?JH ?D=H=?JAH . =@ JDA no-break ?JH ?D=H =?JAH ' =O >A ?D=CA@ 5K?D = ?D=CA KIJ >A ?F=JE>A MEJD JDA @AIEC B =O =?HIKIA@EJDAIF=BJDA?D=CA=@F=HJE?K=HOB=OJH=FELA@=?HI

.cc c

..-

6DA>=IE??JH?D=H=?JAHEIIAJJ cHHAIAJJ.

.c2 c

''-

6DA no-break ?JH?D=H=?JAHEIIAJJ cHHAIAJJ'

10.5. Output translation. A ?D=H=?JAH ?= >A =@A = IJ=@E BH =JDAH ?D=H=? JAH KIEC tr ) JANJ FH?AIIEC AC ?D=H=?JAH ?F=HEII J=AI F=?A MEJD JDA EFKJ IJ=@E ?D=H=?JAH MDE?D =FFA=HI J D=LA JDA ME@JD B JDA BE= ?D=H=?JAH 6DA CH=FDE?JH=I=JE??KHI=JJDAAJBKJFKJE?K@EC@ELAHIE

.tr abcd....

A





6H=I=JA a EJ b c EJ d AJ? 1B = @@ K>AH B ?D=H=?JAHI EI CELA JDA =IJ A ME >A =FFA@ EJ JDA IF=?A ?D=H=?JAH 6 >A ?IEIJAJ = F=HJE? K=HJH=I=JEKIJIJ=OEABBA?JBH input J output JEA

10.6. Transparent throughput. ) EFKJ EA >ACEEC MEJD = \! EI HA=@ E ?FO @A =@ transparently KJFKJ MEJDKJ JDA EEJE= \! JDA JANJ FH?AIIH EI JDAHMEIA K=M=HA B JDA EAI FHAIA?A 6DEI A?D=EI =O >A KIA@ J F=II ?JH EBH= JEJ=FIJFH?AIIHHJA>A@?JHEAIE==?H?HA=JA@>O=@ELAHIE

10.7. Transparent output 6DA IAGKA?A \X'anything' ?FEAI anything J JDA KJ FKJ =I = @ALE?A ?JH BK?JE B JDA BH x X anything   -I?=FA IAGKA?AI E anything =HAFH?AIIA@

10.8. Comments and concealed newlines. ) K?BHJ=>O C EFKJ EA JD=J KIJ IJ=O A EA AC = IJHEC @ABEEJE H BEA@ JANJ ?= >A IFEJ EJ IALAH= FDOIE?= EAI >O A@EC = >KJ JDA =IJ A MEJD JDA AI?=FA \ 6DA IAGKA?A \newline EI =M=OI ECHA@ AN?AFJ E = ?AJ +AJI =O >A A>A@@A@ =J JDA A@ B =O EA >O FHAB=?EC JDA MEJD \" 6DA AMEA =J JDA A@ B = ?AJ ?=J >A ??A=A@ ) EA >ACEEC MEJD \" ME =FFA=H =I = >= EA =@ >AD=LA EA .sp 1 = ?AJ ?=>A=EA>OEJIAB>O>ACEECJDAEAMEJD .\"

 !

11. Local Horizontal and Vertical Motions, and the Width Function

11.1. Local Motions. 6DA BK?JEI \v'N' =@ \h'N' ?= >A KIA@ BH local LAHJE?=

=@ DHEJ= JE HAIFA?JELAO 6DA @EIJ=?A N =O >A AC=JELA JDA FIEJELA @EHA?

JEI =HA HECDJM=H@ =@ @MM=H@ ) ?= JE EI A ?J=EA@ MEJDE = EA 6

=LE@ KANFA?JA@ LAHJE?= @EI?=JEI EJ EI A?AII=HO JD=J JDA AJ LAHJE?= ?= JE

MEJDE = MH@ E BEA@ JANJ =@ JDAHMEIA MEJDE = EA >==?A J AH 6DA AI?=FA

IAGKA?AIFHLE@EC?=JE=HAIK=HEA@EJDABMECJ=>A _______________________________________________________________________________________

 8AHJE?= 

-BBA?JE

 0HEJ= 

-BBA?JE



____?_=______JE_________tr_o__ff__________n_r_o_f_f_________?_=_____J_E__________tr_o_f_f____________n_r_o_f_f_____

 \v'N '  LA@EIJ=?A N







____________\\\\___dhur___'___N____'___________A_AA_L__A___K_@K@__FE_FI__M_J_=_____?__A___N___EEE___A_AA___KK@__F_F__M___________________\\\\__s0|^__p__a__c__e__________,7__E__C$F__E=_J_A__@AI__@E__=I__A>F__I__=FIA__?F=__IA?=__FA?__=A__?__AEE__CC__I__E____HHAAA__@@__I__F__=__?__A____

)I = AN=FA E2 ?K@ >A CAAH=JA@ >O = IAGKA?A B IEA ?D=CAI =@ JEI E\s-2\v'-0.4m'2\v'0.4m'\s+2 JA JD=J JDA " A LAHJE?= JEI =HA =J JDA I=AHIEA

11.2. Width Function. 6DA width BK?JE \w'string' CAAH=JAI JDA KAHE?= ME@JD B string E >=IE? KEJI 5EA =@ BJ ?D=CAI =O >A A>A@@A@ E string =@ ME J =BBA?J JDA ?KHHAJ ALEHAJ .H AN=FA .ti -\w'\fB1. 'u ?K@ >A KIA@ JJAFH=HEOE@AJABJM=H@=@EIJ=?AAGK=JJDAIEABJDAIJHEC1.  EBJ B

6DA ME@JD BK?JE =I IAJI JDHAA K>AH HACEIJAHI 6DA HACEIJAHI st =@ sb =HA IAJ HAIFA?JELAO J JDA DECDAIJ =@ MAIJ ANJAJ B string HA=JELA J JDA >=IAEA JDA BH AN=FA JDA JJ= DAECDJ B JDA IJHEC EI \n(stu-\n(sbu 1 troff JDA K>AH HACEIJAH ct EI IAJ J = L=KA >AJMAA  =@ ! 6DA L=KA  A=I JD=J = B JDA ?D=H=? JAHI E string MAHA IDHJ MAH ?=IA ?D=H=?JAHI MEJDKJ @AI?A@AHI EA e  A=I JD=J =J A=IJ A ?D=H=?JAH D=I = @AI?A@AH EA y A=I JD=J =J A=IJ A ?D=H=?JAHEIJ= EA H =@ ! A=I JD=J >JD J= ?D=H=?JAHI =@ ?D=H=?JAHI MEJD @AI?A@AHI =HA FHA IAJ

11.3. Mark horizontal place. 6DA BK?JE \kx ?=KIAI JDA ?KHHAJ DHEJ= FIEJE E JDA input line J >A IJHA@ E HACEIJAH x .H AN=FA JDA ?IJHK?JE \kxword\h'|\nxu+3u'word ME A>@A word >O >=?EC KF J =IJ EJI >ACE EC=@LAHFHEJECEJHAIKJECE word

12. Overstrike, Bracket, Line-drawing, Graphics, and Zero-width Functions
12.1. Overstriking. )KJ=JE?=O ?AJAHA@ LAHIJHEEC B KF J EA ?D=H=?JAHI EI FHLE@A@ >O JDA overstrike BK?JE \o'string ' 6DA ?D=H=?JAHI E string =HA LAH FHEJA@ MEJD ?AJAHI =ECA@ JDA JJ= ME@JD EI JD=J B JDA ME@AIJ ?D=H=?JAH string =O J ?J=E ?= LAHJE?= JE )I AN=FAI \o'e\'' FH@K?AI A =@ \o'\(mo\(sl' FH@K?AI/ 
12.2. Zero-width characters. 6DA BK?JE \zc ME KJFKJ c MEJDKJ IF=?EC LAH EJ =@ ?= >A KIA@ J FH@K?A ABJ=ECA@ LAHIJHK? ?>E=JEI )I AN=FAI \z+ ME FH@K?A  =@ \(br\z\(rn\(ul\(br ME FH@K?A = I= >=@O ?IJHK?JA@ >N_
12.3. Large Brackets. 6DA 5FA?E= .J KIK=O ?J=EI = K>AH B >H=?AJ ? IJHK?JE FEA?AI            JD=J ?= >A ?>EA@ EJ L=HEKI >H=?AJ IJOAI 6DA BK?JE \b'string ' =O >A KIA@ J FEA KF LAHJE?=O JDA ?D=H=?JAHI E string JDA BEHIJ ?D=H=?JAH  JF =@ JDA =IJ =J JDA >JJ JDA ?D=H=?JAHI =HA LAHJE?=O IAF=H=JA@

 "

>O  A =@ JDA JJ= FEA EI ?AJAHA@  A =>LA JDA ?KHHAJ >=IAEA  EA E nroff .HAN=FA

\b'\(lc\(lf'E\b'\(rc\(rf'\x'-0.5m'\x'0.5m'

FH@K?AI -
12.4. Line drawing. 6DA BK?JE \l'Nc' >=?I=IDA @H=MI = IJHEC B HAFA=JA@ cI JM=H@I JDA HECDJ BH = @EIJ=?A N 1B c I EA = ?JEK=JE B = ANFHAIIE BH N EJ =O >A EIK=JA@ BH N MEJD \& 1B c EI J IFA?EBEA@ JDA _ >=IAEA HKA EI KIA@ K@AHEA ?D=H=?JAH E nroff 1B N EIAC=JELA=>=?M=H@DHEJ=JEBIEA N EI =@A>ABHA@H=MECJDAIJHEC )OIF=?AHAIKJECBH NIEAB cD=LEC= HA=E @AH EI FKJ =J JDA >ACEEC ABJ A@ B JDA IJHEC 1B N EI AII JD= JDA ME@JD B c = IE CA c EI ?AJAHA@  = @EIJ=?A N 1 JDA ?=IA B ?D=H=?JAHI JD=J =HA @AIECA@ J >A ? A?JA@ IK?D =I >=IAEAHKA_  K@AHHKA_  =@ HJA  JDA HA=E@AH IF=?A EI ?LAHA@>OLAH=FFEC )I=AN=FA==?HJK@AHI?HA=IJHEC?=>AMHEJJA

.de us \\$1\ l '|0\(ul' ..

HAJ@H=M=>N=HK@=IJHEC

.de bx \(br\|\\$1\|\(br\ l '|0\(rn'\ l '|0\(ul' ..

IK?DJD=J

.ul "underlined words"

=@

.bx "words in a box"

OEA@K___@_A_H__E__A_@__M__H_@_I_ =@_M___H@__I_E___=_>___N_
6DA BK?JE \L'Nc' @H=MI = LAHJE?= EA ?IEIJEC B JDA FJE= ?D=H=?JAH c IJ=?A@ LAHJE?=O =F=HJ  A  EA E nroff MEJD JDA BEHIJ JM ?D=H=?JAHI LAH=FFA@ EB A?AII=HOJBH = ?JEKKI EA 6DA @AB=KJ ?D=H=?JAH EI JDA box rule   \(br JDA JDAH IKEJ=>A ?D=H=?JAH EIJDA bold vertical   \(bv 6DAEAEI>ACKMEJDKJ=OEE JE= JE HA=JELA J JDA ?KHHAJ >=IAEA ) FIEJELA N IFA?EBEAI = EA @H=M @M M=H@ =@ = AC=JELA N IFA?EBEAI = EA @H=M KFM=H@ )BJAH JDA EA EI @H=M  ? __F_A__I_=_J_E__C_____J_E___I_=_H_A____=_@_A___JD__A_E__I_J_=__J_=__A___K_I__>_=_I_A__E_A__E_I_=__J_J_D_A__A__@___B__JD_A___E__A_________ __F@HMA_HAE_C....\.I_E@hdsfn.EI_C@iepf'KJ_6HA-?_=DAH.e-A_MA@_5b1a_nDJ==_'AH_\C>_HBC\\LAE_""'_NH>ca|_K_=vo\I_JHom\N?=E_ipnA_KedaCHI_=nu_.@As-p_@H_ma61oII_t'sDkL_Me\sAA_liHD_aJ'bfA_AE\Alo_?JH_\y=r=A_KnIN_(IonMJ_EME.ve_=MlxeEA_C@IutrD_J@+_f@D_1lHaI=_nouAAb_M\wtoA_>(iEox_ABunm-_LCClga_ArHE_'tuHB_JJ\KiwlDE_eL?coE_E='Ir?_=-dJbC_FEI|a_@=FL_\sbHA_=\eu=IJ_H?nlfDCJ_EaifEAH_?=uneC_==F+er_IO1D_F_'s>A_.\p=A_la?_KH'Ac_MI|iA_MA0_nNE@@_u=g=A_I-E_.I_uF5_=n?n_ALd\_AeJ(_@Dr_u>-A_lEE_r'_u=_l=eJ_K?E_HM__>A_JHA_AH_
12.5. Graphics. 6DA BK?JE \D'c.' @H=MI = CH=FDE? >A?J B JOFA c =??H@EC J =IAGKA?ABF=H=AJAHIMDE?D=HACAAH=OF=EHIBK>AHI

\D'l dh dv' \D'c d' \D'e d  d '

@H=MEABH?KHHAJFIEJE>O dh dv @H=M?EH?AB@E=AJAH d MEJDABJIE@A=J?KHHAJFIEJE @H=MAEFIAB@E=AJAHI d  =@ d

 #

\D'a dh  dv  dh dv '@H=M=H?BH?KHHAJFIEJEJ dh  + dh  dv  + dv  MEJD?AJAH=J dh   dv  BH?KHHAJFIEJE
\D'~ dh  dv  dh dv ...'@H=M*IFEABH?KHHAJFIEJE>O dh  dv  JDA>O dh dv JDA>O dh dv JDA

.H AN=FA \D'e0.2i 0.1i' @H=MI JDA AEFIA

 =@ \D'l.2i

-.1i'\D'l.1i .1i' JDA EA

 ) \D MEJD = KM c EI FH?AIIA@ =@

?FEA@ JDHKCD J JDA KJFKJ BH KIFA?EBEA@ EJAHFHAJ=JE ?H@E=JAI =HA EJAHFHAJA@

=JAH=JAO=IDHEJ==@LAHJE?=L=KAI

K>AHI J=A =I DHEJ= BEHIJ JDEH@ AJ? D=LA @AB=KJ I?=EC B AI LAHJE?= K>AHI IA?@ BKHJD AJ? D=LA @AB=KJ I?=EC B V I  ! 6DA FIEJE =BJAH = CH=FDE?=>A?JD=I>AA@H=MEI =J EJI A@ BH ?EH?AI =@ AEFIAI JDA A@ EI =J JDA HECDJIE@A

13. Hyphenation.

)KJ=JE? DOFDA=JE =O >A IMEJ?DA@ BB =@  9DA IMEJ?DA@  MEJD hy IALAH= L=HE=JI =O >A IAJ ) hyphenation indicator ?D=H=?JAH =O >A A>A@@A@ E = MH@ J IFA?EBO @AIEHA@ DOFDA=JE FEJI H =O >A FHABENA@ J IKFFHAII DOFDA =JE 1=@@EJEJDAKIAH=OIFA?EBO=I=EIJBAN?AFJEMH@I

O MH@I JD=J ?IEIJ B = ?AJH= =FD=>AJE? IJHEC IKHHK@A@ >O KIK=O K =FD=>AJE? IJHECI =HA ?=@E@=JAI BH =KJ=JE? DOFDA=JE 9H@I JD=J ?J=E DOFDAI EKI A@=IDAI \(em H DOFDA=JE E@E?=JH ?D=H=?JAHI =HA =M=OI IK>A?JJIFEJJEC=BJAHJDIA?D=H=?JAHIMDAJDAH=KJ=JE?DOFDA=JEEIHBB

.nh

DOFDA=JA 

-

)KJ=JE?DOFDA=JEEIJKHA@BB

.hy N

 N = 

 N = 

-

)KJ=JE? DOFDA=JE EI JKHA@  BH N H BB BH N =  1B N =  =IJ EAI AI JD=J ME ?=KIA = JH=F =HA J DOFDA=JA@ .H N = " =@ & JDA =IJ =@ BEHIJ JM ?D=H=?JAHI HAIFA?JELAO B = MH@ =HA J IFEJ BB 6DAIA L=KAI=HA=@@EJELAEA N = "MEELA=JDHAAHAIJHE?JEI

.hc c

\% \% -

0OFDA=JE E@E?=JH ?D=H=?JAH EI IAJ J c H J JDA @AB=KJ \% 6DA E@E?= JH@AIJ=FFA=HEJDAKJFKJ

.hw word ...

ECHA@



5FA?EBO DOFDA=JE FEJI E MH@I MEJD A>A@@A@ EKI IECI 8AHIEI B = MH@ MEJD JAHE= s =HA EFEA@ EA dig-it EFEAI dig-its 6DEI EIJ EI AN=EA@ EEJE=O =@ =BJAH A=?D IKBBEN IJHEFFEC 6DA IF=?A =L=E=>A EII=

14. Three-Part Titles.

6DA JEJEC BK?JE tl FHLE@AI BH =KJ=JE? F=?AAJ B JDHAA BEA@I =J JDA ABJ ?AJAH =@ HECDJ B = EA MEJD = JEJA ACJD IFA?EBE=>A MEJD lt tl =O >A KIA@ =O MDAHA =@ EI E@AFA@AJ B JDA H= JANJ ?A?JEC FH?AII ) ? KIA EI E DA=@AH=@BJAH=?HI

.tl 'left'center'right'





6DA IJHECI left center =@ right =HA HAIFA?JELAO ABJ=@KIJA@ ?AJAHA@ =@ HECDJ=@KIJA@ E JDA ?KHHAJ JEJA ACJD )O B JDA IJHECI =O >A AFJO =@ LAH=FFEC EI FAHEJJA@ 1B JDA F=CAK>AH ?D=H=?JAH EEJE=O % EI BK@ MEJDE =O B JDA BEA@I EJ EI HAF=?A@ >O JDA ?KHHAJ F=CA K>AH E JDA BH=J =IIECA@ J HACEIJAH % )O ?D=H=?JAH =O >A KIA@ E F=?A B ' =IJDAIJHEC@AEEJAH

 $

.pc c .lt 將

% BB 

6DA F=CA K>AH ?D=H=?JAH EI IAJ J c H HALA@ 6DA F=CA K>AH HACEI JAHHA=EI %

$# E

FHALEKI

-m

ACJD B JEJA EI IAJ J N 6DA EA ACJD =@ JDA JEJA ACJD =HA E@AFA @AJ 1@AJI@J=FFOJJEJAIF=CABBIAJI@

15. Output Line Numbering.

)KJ=JE? IAGKA?A K>AHEC B KJFKJ EAI =O >A HAGKAIJA@ MEJD nm 9DA E ABBA?J = JDHAA@ECEJ =H=>E? K>AH FKI = @ECEJIF=?A EI FHABENA@ J KJ ! FKJ JANJ EAI 6DA JANJ EAI =HA JDKI BBIAJ >O BKH @ECEJIF=?AI =@ JDAHMEIA HAJ=E JDAEH EA ACJD = HA@K?JE E EA ACJD =O >A @AIEHA@ J AAF JDA HECDJ =HCE =ECA@ MEJD = A=HEAH =HCE *= EAI JDAH LAHJE?= IF=?AI =@ EAI $ CAAH=JA@ >O tl =HA J K>AHA@ K>AHEC ?= >A JAFH=HEO IKIFA@A@ MEJD nn H MEJD = .nm BMA@ >O = =JAH .nm +0 1 =@@EJE = EA K>AH E@AJ I =@ JDA K>AHJANJ IAF=H=JE S =O >A IFA?EBEA@ E @ECEJIF=?AI .KH ' JDAH EJ ?= >A IFA?EBEA@ JD=J O JDIA EA K>AHI JD=J =HA KJEFAI B IA K>AH M =HAJ>AFHEJA@JDAJDAHIME=FFA=H=I>=K>AHBEA@I

.nm 將 M S I

BB -

EA K>AH @A 1B N EI CELA EA K>AHEC EI JKHA@  =@ JDA ANJ KJFKJ EA K>AHA@ EI K>AHA@ N ,AB=KJ L=KAI =HA M =  S =  =@ I =  2=H=AJAHI ?HHAIF@EC J EIIEC =HCKAJI =HA K=BBA?JA@ = KAHE? =HCKAJ EI ?IE@AHA@ EIIEC 1 JDA =>IA?A B = =HCK AJI K>AHEC EI JKHA@ BB JDA ANJ EA K>AH EI FHAIAHLA@ BH FIIE >ABKHJDAHKIAEK>AHHACEIJAH ln

.nn N



N =

-

6DAANJ N JANJKJFKJEAI=HAJK>AHA@

)I = AN=FA JDA F=H=CH=FD FHJEI B JDEI IA?JE =HA K>AHA@ MEJD  M= ! .nm 1 3 M=I F=?A@ =J JDA >ACEEC .nm M=I F=?A@ =J JDA A@ B JDA
BEHIJ F=H=CH=FD =@ .nm +0 M=I F=?A@ E BHJ B JDEI F=H=CH=FD =@ .nm BE=O F=?A@ =J JDA A@ EA ACJDI MAHA =I ?D=CA@ >O \w'0000'u J # AAF JDA HECDJ IE@A =ECA@ )JDAH AN=FA EI .nm +5 5 x 3 MDE?D JKHI  K>AHEC MEJD JDA EA K>AH B JDA ANJ EA J >A # CHA=JAH JD= JDA =IJ K >AHA@EAMEJD M = #MEJDIF=?EC S KJK?DA@=@MEJDJDAE@AJ I IAJJ!

16. Conditional Acceptance of Input

1JDABMEC c EI=A?D=H=?JAH>KEJE condition =A ! IECEBEAI not N EI = KAHE?= ANFHAIIE string1 =@ string2 =HA IJHECI @AEEJA@ >O =O >=  KAHE? ?D=H=?JAH J E JDA IJHECI =@ anything HAFHAIAJI MD=J EI ?@EJE=O =??AFJA@

.if c anything





1B ?@EJE c JHKA =??AFJ anything =I EFKJ E KJEEA ?=IA KIA anything 

.if !c anything 



1B?@EJE c B=IA=??AFJ anything

.if N anything

u

1BANFHAIIE N =??AFJ anything

.if !N anything

u

1BANFHAIIE N  IE?=??AFJ anything

 %

.if 'string1'string2' anything 

1B string1 E@AJE?=J string2=??AFJ anything

.if !'string1'string2' anything 

1B string1 JE@AJE?=J string2=??AFJ anything

.ie c anything

u

1BFHJEBEBAIA=BJDABHIBH if =>LA=HAL=E@

.el anything





-IAFHJEBEBAIA

6DA>KEJE?@EJE=AI=HA __________________________________________

 +@EJE 



_____=_o__A_____+__K_H_HA___J_F_=__C6_AH_K_A_K_1_B_>_A_H__EI___@_@___

e

 +KHHAJF=CAK>AHEIALA 

 t  .H=JJAHEI troff



______n_______.___H__=_J_J_A_H_E_I__n_r_o_f_f____________

1B JDA ?@EJE c EI JHKA H EB JDA K>AH N EI CHA=JAH JD= AH H EB JDA IJHECI ? F=HA E@AJE?=O E?K@EC JEI =@ ?D=H=?JAH IEA =@ BJ anything EI =??AFJA@ =I EFKJ 1B = ! FHA?A@AI JDA ?@EJE K>AH H IJHEC ?F=HEI JDA IAIA B JDA =??AFJ=?AEIHALAHIA@

)O IF=?AI >AJMAA JDA ?@EJE =@ JDA >ACEEC B anything =HA IEFFA@ LAH 6DA anything ?= >A AEJDAH = IECA EFKJ EA JANJ =?H H MD=JALAH H = K>AH B EFKJ EAI 1 JDA KJEEA ?=IA JDA BEHIJ EA KIJ >ACE MEJD = ABJ @AEEJAH \{ =@ JDA=IJEAKIJA@MEJD=HECDJ@AEEJAH \}

6DA HAGKAIJ ie EBAIA EI E@AJE?= J if AN?AFJ JD=J JDA =??AFJ=?A IJ=JA EI HAA>AHA@ ) IK>IAGKAJ=@=J?DEC el AIAHAGKAIJJDAKIAIJDAHALAHIAIAIA BJD=JIJ=JA ieel F=EHI=O>AAIJA@

5AAN=FAI=HA

.if e .tl ' Even Page %'''

MDE?DKJFKJI=JEJAEBJDAF=CAK>AHEIALA=@

.ie \n%>1 \{\ ' sp 0.5i . tl 'Page %''' ' sp |1.2i \} .el .sp |2.5i

MDE?DJHA=JIF=CA@EBBAHAJOBHJDAHF=CAI

17. Environment Switching.

) K>AH B JDA F=H=AJAHI JD=J ?JH JDA JANJ FH?AIIEC =HA C=JDAHA@ JCAJDAH EJ = environment MDE?D ?= >A IMEJ?DA@ >O JDA KIAH 6DA ALEHAJ F=H=AJAHI =HA JDIA =II?E=JA@ MEJD HAGKAIJI JEC - E JDAEH Notes ?K E =@@EJE F=HJE=O ?A?JA@ EAI =@ MH@I =HA E JDA ALEHAJ -LAHOJDEC AIA EI C>= AN=FAI =HA F=CAHEAJA@ F=H=AJAHI @ELAHIEHEAJA@ F=H=AJAHI K>AH HACEIJAHI =@ =?H =@ IJHEC @ABEEJEI ) ALEHAJI =HA EEJE=EA@ MEJD @AB=KJ F=H=AJAH L=KAI

.ev N

N =

FHALEKI



-LEHAJ IMEJ?DA@ J ALEHAJ N  5MEJ?DEC EI @A E FKID @M B=IDE I JD=J HAIJHEC = FHALEKI ALEHAJ must >A @A MEJD

 &

.ev H=JDAH JD= IFA?EBE? HABAHA?A JA JD=J MD=J EI FKIDA@ @M =@ HAIJHA@EIJDAALEHAJ number, JEJI?JAJI

18. Insertions from the Standard Input

6DA EFKJ ?= >A JAFH=HEO IMEJ?DA@ J JDA IOIJA IJ=@=H@ EFKJ MEJD rd MDE?D ME IMEJ?D >=? MDA JM ?IA?KJELA AMEAI =HA BK@ JDA ANJH= >= EA EI J KIA@ 6DEI A?D=EI EI EJA@A@ BH EIAHJEI E BHAJJAHEA @?KAJ=JE 6DAIJ=@=H@EFKJ?=>AJDAKIAHIAO>=H@=FEFAH=BEA

.rd prompt



prompt=*- 

4A=@ EIAHJE BH JDA IJ=@=H@ EFKJ KJE JM AMEAI E = HM =HA BK@ 1B JDA IJ=@=H@ EFKJ EI JDA KIAHI AO>=H@ prompt H= *-EIMHEJ JA J JDA IJ=@=H@ KJFKJ rd >AD=LAI EA = =?H =@ =HCKAJI =O >AF=?A@=BJAH prompt

.ex



-NEJ BH nrofftroff  6ANJ FH?AIIEC EI JAHE=JA@ AN=?JO =I EB = EFKJ D=@A@A@

1B EIAHJEI =HA J >A J=A BH JDA JAHE= AO>=H@ MDEA KJFKJ EI >AEC FHEJA@  JDA JAHE= JDA ?=@ EA FJE -q ME JKH BB JDA A?DEC B AO >=H@ EFKJ =@ FHFJ O MEJD *- 6DA HACK=H EFKJ =@ EIAHJE EFKJ ?=J IEKJ=AKIO?ABHJDAIJ=@=H@EFKJ

)I = AN=FA KJEFA ?FEAI B = BH AJJAH =O >A FHAF=HA@ >O AJAHEC JDA EIAHJEI BH = JDA ?FEAI E A BEA J >A KIA@ =I JDA IJ=@=H@ EFKJ =@ ?=KIEC JDA BEA ?J=EEC JDA AJJAH J HAELA EJIAB MEJD nx  ' JDA FH?AII MK@ KJE=JAO >AA@A@>O= ex EJDAEIAHJEBEA

19. Input/Output File Switching

.so filename



5MEJ?D IKH?A BEA 6DA JF EFKJ BEA HA=@EC ALA EI IMEJ?DA@ J filename 9DA JDA AM BEA A@IEFKJEI=C=EJ=ABHJDAHECE=BEA soI=O >AAIJA@

.nx filename

A@BBEA 

ANJ BEA EI filename 6DA ?KHHAJ BEA EI ?IE@AHA@ A@A@ =@ JDA EFKJ EI EA@E=JAOIMEJ?DA@J filename

.sy string



-NA?KJA FHCH= BH string MDE?D EI JDA HAIJ B JDA EFKJ EA 6DA KJFKJ EI J ?A?JA@ =KJ=JE?=O 6DA K>AH HACEIJAH $$ MDE?D ?J=EI JDA FH?AII E@ B JDA troff FH?AII =O >A KIABK E CAAH=JEC KEGKA BEA =AIBHKJFKJ

.pi string



2EFA KJFKJ J string MDE?D EI JDA HAIJ B JDA EFKJ EA 6DEI HAGKAIJ KIJ ??KH>ABHA=OFHEJEC??KHIJOFE?=OEJEIJDABEHIJEABEFKJ

.cf filename



+FO ?JAJI B BEA filename J KJFKJ ?FAJAO KFH?AIIA@ 6DA BEA EI=IIKA@J?J=EIAJDECA=ECBKJIK>IAGKAJFH?AIIAI

 '

20. Miscellaneous

.mc c N

 BB -m
5FA?EBEAI JD=J = margin ?D=H=?JAH c =FFA=H = @EIJ=?A N J JDA HECDJ B JDA HECDJ =HCE =BJAH A=?D AFJO JANJ EA AN?AFJ JDIA FH@K?A@ >O tl 1BJDAKJFKJEA EI J C =I ?= D=FFA E BE @A JDA ?D=H=?JAH ME >A =FFA@A@ J JDA EA 1B N EI J CELA JDA FHALEKI N EI KIA@ JDA EEJE= N EI  E?DAI E nroff =@  A E troff  6DA =HCE ?D=H=?JAH KIA@ MEJD JDEIF=H=CH=FDM=I= FEJ>NHKA

      

.tm string



AMEA



)BJAH IEFFEC EEJE= >=I string HAIJ B JDA EA EI HA=@ E ?FO @A =@MHEJJAJDAIJ=@=H@AHHH

.ab string



AMEA



)BJAH IEFFEC EEJE= >=I string HAIJ B JDA EA EI HA=@ E ?FO @A =@MHEJJAJDAIJ=@=H@AHHH Troff H nroff JDAANEJ

.ig yy



.yy=..



1CHA EFKJ EAI ig >AD=LAI AN=?JO EA de  % AN?AFJ JD=J JDA EFKJ EI @EI?=H@A@ 6DA EFKJ EI HA=@E?FO@A=@=O=KJE?HAAJA@HACEI JAHIME>A=BBA?JA@

.lf N filename



5AJ EA K>AH J N =@ BEA=A J filename BH FKHFIAI B IK>IAGKAJ AHHH AII=CAI AJ? 6DA K>AH HACEIJAH IE? .F ?J=EI JDA =A B JDA ?KHHAJ EFKJ BEA =I IAJ >O ?=@ EA =HCKAJ so nx H lf 6DA K>AH HACEIJAH .c ?J=EI JDA K>AH B EFKJ EAI HA=@ BH JDA ?KH HAJBEA=C=EFAHD=FI=I@EBEA@>O lf

.pm t

 = 

2HEJ =?HI 6DA =AI =@ IEAI B = B JDA @ABEA@ =?HI =@ IJHECI =HA FHEJA@  JDA IJ=@=H@ AHHH EB t EI CELA O JDA JJ= B JDA IEAI EI FHEJA@ 6DAIEAIEICELAE>?IB &?D=H=?JAHI

.fl

*

.KID KJFKJ >KBBAH .H?A KJFKJ E?K@EC =O FA@EC FIEJE EBH= JE

21. Output and Error Messages.
6DA KJFKJ BH tm pm =@ JDA FHFJ BH rd =I MA =I L=HEKI AHHH AI I=CAI =HA MHEJJA J JDA IJ=@=H@ AHHH 6DA =JJAH EI @EBBAHAJ BH JDA IJ=@=H@ KJ FKJ MDAHA BH=JJA@ JANJ CAI *O @AB=KJ >JD =HA MHEJJA J JDA KIAHI JAHE= >KJJDAO?=>AE@AFA@AJOHA@EHA?JA@
8=HEKIAHHH?@EJEI=O??KH@KHECJDAFAH=JEB nroff =@ troff  +AHJ=E AII IAHEKI AHHHI D=LEC O ?= EF=?J @ J ?=KIA FH?AIIEC J JAHE=JA 6M AN=FAI =HA word overflow ?=KIA@ >O = MH@ JD=J EI J =HCA J BEJ EJ JDA MH@ >KBBAH E BE @A =@ line overflow ?=KIA@ >O = KJFKJ EA JD=J CHAM J =HCA J BEJ E JDA EA >KBBAH 1 >JD ?=IAI = AII=CA EI FHEJA@ JDA BBA@EC AN?AII EI @EI ?=H@A@ =@ JDA =BBA?JA@ MH@ H EA EI =HA@ =J JDA FEJ B JHK?=JE MEJD =  E nroff =@ = E troff  2H?AIIEC ?JEKAI EB FIIE>A  JDA CHK@I JD=J KJFKJ KIABK BH @A>KCCEC =O >A FH@K?A@ 1B = IAHEKI AHHH ??KHI FH?AIIEC JAHE =JAI =@ = AII=CA EI FHEJA@ =C MEJD = EIJ B JDA =?H =AI ?KHHAJO =?JELA -N=FAI B IAHEKI AHHHI E?K@A JDA E=>EEJO J ?HA=JA HA=@ H MHEJA BEAI =@ JDA AN?AA@ECB?AHJ=EEJAH=EEJIJD=J=ABKJKHAKJFKJKEAOJ>AKIABK

!

22. Output Language

Troff FH@K?AI EJI KJFKJ E = =CK=CA JD=J EI E@AFA@AJ B =O IFA?EBE? KJFKJ @ALE?A AN?AFJ JD=J JDA K>AHI E EJ D=LA >AA ?FKJA@  JDA >=IEI B JDA HAIKJE B JDA @ALE?A =@ JDA IEAI BJI =@ ?D=H=?JAHI JD=J JD=J @ALE?A ?= FHEJ ALAHJDA AII EJ EI GKEJA FIIE>A J EJAHFHAJ JD=J KJFKJ  = @EBBAHAJ @ALE?A MEJDE JDA =JJAHI ?=F=>EEJEAI

sn fn cc C name Nn Hn Vn hn vn nnc pn nb a w Dc  x  # 

IAJFEJIEAJ n IAJBJJ n FHEJ?D=H=?JAH c FHEJJDA?D=H=?JAH?=A@ nameJAHE=JA name >OMDEJAIF=?A FHEJ?D=H=?JAH n ?KHHAJBJ CJ=>IKJADHEJ=FIEJE n n CJ=>IKJALAHJE?=FIEJE n n@MEIFIEJELA C n KEJIDHEJ=O n < EIJJDAABJ C n KEJILAHJE?=O n < EIKF LAHECDJ nnJDAFHEJ 76. ?D=H=?JAH c nn KIJ>AAN=?JO @ECEJI AMF=CA n >ACEIIAJLAHJE?=FIEJEJ A@BEAEBH=JEO=?JE b IF=?A>ABHAEA a =BJAH F=@@=>AMH@IF=?AEBH=JEO=?JE CH=FDE?IBK?JE cIAA>AM @ALE?A?JHBK?JEIIAA>AM ?AJ

) FIEJE L=KAI =HA E KEJI 5AGKA?AI JD=J A@ E @ECEJI KIJ >A BMA@ >O = @ECEJ *=I J=>I =@ AMEAI =O ??KH =I IAF=H=JHI E JDA EFKJ =@ =HA =@=JHO J IAF=H=JA ?IJHK?JEI JD=J MK@ JDAHMEIA >A ?BKIA@ /H=FDE?I BK? JEI @ALE?A ?JH BK?JEI =@ ?AJI ANJA@ J JDA A@ B JDA EA JDAO ??KH 

6DA @ALE?A ?JH =@ CH=FDE?I ?=@I =HA EJA@A@ =I FAA@A@ B=EEAI J >A ANF=@A@ =I AA@A@ 6DA CH=FDE?I BK?JEI ?E?E@A @EHA?JO MEJD JDA \D IAGKA?AI

Dl dh dv

@H=MEABH?KHHAJFIEJE>O dh dv

Dc d

@H=M?EH?AB@E=AJAH d MEJDABJIE@ADAHA

De dh  dv

@H=MAEFIAB@E=AJAHI dh  =@ dv

Da dh  dv  dh dv @H=M=H?BH?KHHAJFIEJEJ dh  + dh  dv  + dv 

?AJAH=J dh   dv  BH?KHHAJFIEJE

D~ dh  dv  dh dv  @H=M*IFEABH?KHHAJFIEJEJ dh   dv 

JDAJ dh  dv JDAJ

Dz dh  dv  dh dv  BH=OJDAH z EIKEJAHFHAJA@

1 = B JDAIA dh dv EI = E?HAAJ  JDA ?KHHAJ DHEJ= =@ LAHJE?= FIEJE

MEJD@M=@HECDJFIEJELA )@EIJ=?AI=@@EAIEI=HAEKEJI

6DA @ALE?A ?JH BK?JEI >ACE MEJD x JDA = ?=@ JDA JDAH F=H=A JAHI

x T s =ABJOFAIAJJAHEI s

x r n h v HAIKJEEI n KEJIE?D

h EEKDHEJ=JE v EEKLAHJE?=

xi

EEJE=EA

x f n s KJBJ s BJFIEJE n

xp

F=KIA?=HAIJ=HJ

xs

IJF@ABHALAH

xt

CAAH=JAJH=EAHEBH=JEEB=O

x H n IAJ?D=H=?JAHDAECDJJ n

x S n IAJI=JJ n

!

x X any CAAH=JA@>OJDA \X BK?JE

x any

J>AECHA@EBJHA?CEA@

5K>?=@IEAi =O>AIFAA@KJEAinit

6DA ?=@I x T x r  =@ x i KIJ ??KH BEHIJ BJI KIJ >A KJA@ >ABHAJDAO?=>AKIA@ x s ?AI=IJ 6DAHA=HAJDAHH@AHHAGKEHAAJI
6DA BMEC EI JDA KJFKJ BH hello, world BH = JOFE?= FHEJAH =I @AI?HE>A@E !

x T utf x res 720 1 1 x init V0 p1

x font 1 R x font 2 I x font 3 B x font 4 BI x font 5 CW x font 6 H x font 7 HB x font 8 HX x font 9 S1 x font 10 S

s10 f1 H0 s10 f1 V0 H720 V120 ch 50e44l28l28o50,w58w72o50r33l28dn120 0 x trailer V7920 x stop
Troff KJFKJ EI H=O J HA@K@=J IEA =@ BJ ?D=CAI =@ FIEJE EBH =JE =HA J E?K@A@ KAII AA@A@ ALAHJDAAII A=?D F=CA EI IAB?J=EA@ BH JDA>AABEJBFIJFH?AIIHIJD=JHAH@AHF=CAIHFH?AIIO=IK>IAJ

23. Device and Font Description Files
6DA F=H=AJAHI JD=J @AI?HE>A = KJFKJ @ALE?A name =HA HA=@ BH JDA @EHA?JHO /sys/lib/troff/font/devname A=?D JEA troff EI ELA@ 6DA @ALE?A =A EI FHLE@A@ >O @AB=KJ >O JDA ALEHAJ L=HE=>A TYPESETTER H >O = ?=@EA =HCKAJ -Tname 6DA @AB=KJ @ALE?A =A EI utf BH 76.A?@A@ 7E?@A ?D=H=? JAHI 6DA FHA@ABEA@ IJHEC .T ?J=EI JDA =A B JDA @ALE?A 6DA -F ?=@ EAFJE=O>AKIA@J?D=CAJDA@AB=KJ@EHA?JHO
23.1. Device description file. /AAH= F=H=AJAHI B JDA @ALE?A =HA IJHA@ A FAH EA E JDA BEA /sys/lib/troff/font/devname/DESC =I = IAGKA?A B =AI =@L=KAI Troff HA?CEAIJDAIAF=H=AJAHI=@ECHAI =O JDAHI JD=J =O >A FHA IAJBHIFA?EBE?@HELAHI
fonts n F  F ... F n sizes s  s ... 0

! 

res n hor n vert n unitwidth n charset list of multi-character character names (optional)
6DA F i =HABJ=AIJ>AEEJE=OKJA@ 6DAEIJ B IEAI EI = IAJ B EJACAHI HAFHA IAJEC IA H = B JDA AC= IEAI JDA @ALE?A ?= FH@K?A JAHE=JA@ >O = AH 6DA res F=H=AJAH CELAI JDA HAIKJE B JDA =?DEA E KEJI FAH E?D hor =@ ver CELA JDAEEKK>AHBKEJIJD=J?=>ALA@DHEJ=O=@LAHJE?=O
+D=H=?JAH ME@JDI BH A=?D BJ =HA =IIKA@ J >A CELA E =?DEA KEJI =J FEJ IEA unitwidth 1 JDAH MH@I = ?D=H=?JAH MEJD = ME@JD B n EI n KEJI ME@A =J IEA unitwidth )ME@JDI=HAEJACAHI=J=IEAI
) EIJ B L=E@ ?D=H=?JAH =AI =O >A EJH@K?A@ >O charset JDA EIJ B =AI EIFJE=
) EA MDIA BEHIJ >= ?D=H=?JAH EI # EI = ?AJ -N?AFJ JD=J charset KIJ??KH=IJF=H=AJAHI=O=FFA=HE=OH@AH
0AHAEI=IK>IAJBJDA DESC BEABH=JOFE?=2IJI?HEFJFHEJAH
# Description file for Postscript printers.

fonts 10 R I B BI CW H HB HX S1 S sizes 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23
24 25 26 27 28 29 30 31 32 33 34 35 36 38 40 44 48 54 60 72 0 res 720 hor 1 vert 1 unitwidth 10 charset hy ct fi fl ff Fi Fl dg em 14 34 12 en aa ga ru sc dd -> br Sl ps cs cy as os =. ld rd le ge pp -+ ob vr sq bx ci fa te ** pl mi eq ~= *A *B *X *D *E *F *G *Y *I *K *L *M *N *O *P *R *H *S *T *U *W *C *Q *Z ul rn *a *b *x *d *e *f *g *y *i *k *l *m *n *o *p *h *r *s *t *u *w *c *q *z

23.2. Font description files. -=?D BJ EI @AI?HE>A@ >O = ==CKI @AI?HEFJE BEA MDE?D >ACEI MEJD F=H=AJAHI B JDA BJ A FAH EA BMA@ >O = EIJ B ?D=H=?JAHI =@ME@JDI 6DABEABHBJ f EI /sys/lib/troff/font/devname/f

name str

=ABBJEI str

ligatures . . . 0 EIJBEC=JKHAI

spacewidth n

ME@JDB=IF=?AJDEIBJ

special

JDEIEI=IFA?E=BJ

charset

list of character name, width, ascender/descender, codeJ=>IAF=H=JA@

6DA name =@ charset BEA@I =HA =@=JHO charset KIJ >A =IJ +AJI =HA FAHEJJA@=I=HAJDAHKHA?CEA@F=H=AJAHI

-=?D EA BMEC charset @AI?HE>AI A ?D=H=?JAH EJI =A EJI ME@JD E KEJI =I @AI?HE>A@ =>LA =I?A@AH@AI?A@AH EBH=JE =@ = @A?E= ?J= H DAN=@A?E = L=KA >O MDE?D JDA KJFKJ @ALE?A MI EJ JDA \N K>AH B JDA ?D=H=?JAH 6DA ?D=H=?JAH =A EI =H>EJH=HO AN?AFJ JD=J --- IECEBEAI = K=A@ ?D=H=?JAH 1B JDA ME@JD BEA@ ?J=EI " JDA =A EI = IOO BH JDA FHALEKI ?D=H=?JAH 6DA =I?A@AH@AI?A@AH BEA@ EI  EB JDA ?D=H=?JAH D=I = @AI?A@AH D=CI >AM JDA

!!

>=IAEA EA y EI EB EJ D=I = =I?A@AH EI J= EA Y EI ! EB >JD =@ EI  EB AEJDAH 6DAL=KAEIHAJKHA@EJDA ct HACEIJAH=I?FKJA@>OJDA \w BK?JE  
0AHA =HA AN?AHFJI BH = JOFE?= BJ @AI?HEFJE BEA BH JDA I=A 2IJI?HEFJ FHEJAH

hy -
Q
a b c d y
em --- ---

33 "
72
44 50 44 50 50
100 44 36

0
3
0 2 0 2 1
0 2 0

45
81
97 98 99 100 121
208 220 221

hyphen \(hy - is a synonym for \(hy
Pound symbol , \N'220' centered dot \N'221'

6DEI I=OI BH AN=FA JD=J JDA ME@JD B JDA AJJAH a EI "" KEJI =J FEJ IEA  JDA L=KA B unitwidth 2EJ IEAI =HA I?=A@ EA=HO =@ HK@A@ I JDA ME@JD B a ME>A""=JIEA"=JIEA'!#=JIEA&=@I

!"
Tutorial Examples
Introduction
1J EI =IJ =M=OI A?AII=HO J FHAF=HA =J A=IJ = I= IAJ B =?H @ABEEJEI J @AI?HE>A = @?KAJ 5K?D ? BH=JJEC AA@I =I F=CA =HCEI =@ BJJAI =HA @AE>AH=JAO J >KEJ EJ nroff =@ troff  1IJA=@ JDA =?H =@ IJHEC @ABEEJE K>AH HACEIJAH @ELAHIE ALEHAJ IMEJ?DEC F=CAFIEJE JH=F =@ ?@EJE= EFKJA?D=EIIFHLE@AJDA>=IEIBHKIAH@ABEA@EFAAJ=JEI
.H IJ KIAI = IJ=@=H@ F=?=CA EA -ms H -mm EI JDA HECDJ ?DE?A 6DA ANJ IJ=CA EI J =KCAJ JD=J H J IAA?JELAO HAF=?A =?HI BH JDA IJ=@=H@ F=?=CA 6DA =IJ IJ=CA K?D D=H@AH EI J MHEJA AI M BH I?H=J?D 6DEI EI J = J=I BH JDALE?A
6DAAN=FAI @EI?KIIA@ DAHA =HA EJA@A@ J >A KIABK =@ IAMD=J HA=EIJE? >KJ ME J A?AII=HEO ?LAH = HAAL=J ?JECA?EAI -NFE?EJ KAHE?= F=H=AJAHI =HA KIA@ E JDA AN=FAI J =A JDA A=IEAH J HA=@ =@ J EKIJH=JA JOFE?= L=KAI 1 =O ?=IAI K>AH HACEIJAHI MK@ >A KIA@ J HA@K?A JDA K>AH B F=?AI MDAHA KAHE?= EBH=JE EI AFJ =@ J ??AJH=JA ?@EJE= F=H=AJAH EEJE=E=JE EAJD=JMDE?D@AFA@IMDAJDAH troff H nroff EI>AECKIA@
Page Margins
)I @EI?KIIA@ E ! DA=@AH =@ BJAH =?HI =HA KIK=O @ABEA@ J @AI?HE>A JDA JF =@ >JJ F=CA =HCE =HA=I HAIFA?JELAO ) JH=F EI F=JA@ =J F=CA FIEJE  BH JDA DA=@AH =@ =J -N N BH JDA F=CA >JJ BH JDA BJAH 6DA IEFAIJ IK?D @ABE EJEIECDJ>A
.de hd \"define header 'sp 1i .. \"end definition .de fo \"define footer 'bp .. \"end definition .wh 0 hd .wh -1i fo
MDE?D FHLE@A >=  E?D JF =@ >JJ =HCEI 6DA DA=@AH ME ??KH  JDA first F=CA O EB JDA @ABEEJE =@ JH=F ANEIJ FHEH J JDA EEJE= FIAK@F=CA JH=IEJE  ! 1 BE @A JDA KJFKJ EA JD=J IFHECI JDA BJAH JH=F M=I JOFE?=O BH?A@ KJ >A?=KIA IA F=HJ H MDA MH@ @E@J BEJ  EJ 1B =OJDEC E JDA BJAH =@ DA=@AH JD=J B MI ?=KIAI = >HA= JD=J MH@ H F=HJ MH@ ME >A BH?A@ KJ 1 JDEI =@ JDAH AN= FAI HAGKAIJI EA bp =@ sp JD=J H=O ?=KIA >HA=I =HA ELA@ KIEC JDA  >HA= ?JH ?D=H=?JAH ' J =LE@ JDEI 9DA JDA DA=@AHBJAH @AIEC ?J=EI =JA HE= HAGKEHEC E@AFA@AJ JANJ FH?AIIEC JDA ALEHAJ =O >A IMEJ?DA@ =LE@EC IJEJAH=?JEMEJDJDAHKECJANJ
)HAHA=EIJE?AN=FAMK@>A

!#

.de hd \"header

.if \\n%>1 \{\

'sp 0.5i-1

\"tl base at 0.5i

.tl ''- % -'' \"centered page number

.ps

\"restore size

.ft

\"restore font

.vs \} \"restore vs

'sp 1.0i

\"space to 1.0i

.ns

\"turn on no-space mode

..

.de fo \"footer

.ps 10 \"set footer/header size

.ft R \"set font

.vs 12p \"set baseline spacing

.if \\n%=1 \{\

'sp \\n(.pu-0.5i-1 \"tl base 0.5i up

.tl ''- % -'' \} \"first page number

'bp

..

.wh 0 hd

.wh -1i fo

MDE?D IAJI JDA IEA BJ =@ >=IAEA IF=?EC BH JDA DA=@AHBJAH =JAHE= =@ KJE =JAO HAIJHAI JDA 6DA =JAHE= E JDEI ?=IA EI = F=CA K>AH =J JDA >JJ B JDA BEHIJF=CA=@=JJDAJFBJDAHA=EECF=CAI 6DA spIHABAHJ =>IKJA FIEJEI J =LE@ @AFA@A?A  JDA >=IAEA IF=?EC )JDAH HA=I BH @EC JDEI E JDA BJAH EI JD=J JDA BJAH EI ELA@ >O FHEJEC = EA MDIA LAHJE?= IF=?EC IMAFJ F=IJ JDA JH=F FIEJE >O FIIE>O =I K?D =I JDA >=IAEA IF=?EC IF=?A @A EI JKHA@  =J JDA A@ B hd J HA@AH EABBA?JELA =??E@AJ= ??KHHA?AI B sp =J JDA JF B JDA HK ECJANJ
6DEI AJD@ B HAIJHEC IEA BJ AJ? FHAIKFFIAI JD=J IK?D HAGKAIJI JD=J IAJ previous L=KA =HA not KIA@ E JDA HKEC JANJ ) >AJJAH I?DAA EI J I=LA =@ HAIJHA >JDJDA?KHHAJ and FHALEKIL=KAI=IIDMBHIEAEJDABMEC

.de fo .nr s1 \\n(.s \"current size .ps .nr s2 \\n(.s \"previous size . --- \"rest of footer .. .de hd . --- \"header stuff .ps \\n(s2 \"restore previous size .ps \\n(s1 \"restore current size ..

2=CA K>AHI =O >A FHEJA@ E JDA >JJ =HCE >O = IAF=H=JA =?H JHECCAHA@ @KH ECJDABJAHIF=CAAA?JE

.de bn \"bottom number .tl ''- % -'' \"centered page number .. .wh -0.5i-1v bn \"tl base 0.5i up

Paragraphs and Headings
6DA DKIAAAFEC =II?E=JA@ MEJD IJ=HJEC = AM F=H=CH=FD IDK@ >A ?A?JA@ E = F=H=CH=FD =?H JD=J BH AN=FA @AI JDA @AIEHA@ FHAF=H=CH=FD IF=?EC BH?AI JDA ?HHA?J BJ IEA >=IAEA IF=?EC =@ E@AJ ?DA?I JD=J AKCD IF=?A HA=EI BH

!$

more than one EA=@HAGKAIJI=JAFH=HOE@AJ

.de pg

\"paragraph

.br

\"break

.ft R

\"force font,

.ps 10

\"size,

.vs 12p \"spacing,

.in 0

\"and indent

.sp 0.4 \"prespace

.ne 1+\\n(.Vu \"want more than 1 line

.ti 0.2i

\"temp indent

..

6DA BEHIJ >HA= E pg ME BH?A KJ =O FHALEKI F=HJE= EAI =@ KIJ ??KH >ABHA JDA vs 6DA BH?EC B BJ AJ? EI F=HJO = @ABAIA =C=EIJ FHEH AHHH =@ F=HJO J FAHEJ JDECI EA IA?JE DA=@EC =?HI J IAJ F=H=AJAHI O ?A 6DA FHAIF=?EC F=H= AJAH EI IKEJ=>A BH troff  = =HCAH IF=?A =J A=IJ=I>EC=IJDAKJFKJ@ALE?ALAHJE?=HAI KJE MK@ >A HA IKEJ=>A E nroff 6DA ?DE?A B HA=EEC IF=?A J JAIJ BH E JDA ne EI JDA I=AIJ =KJ CHA=JAH JD= A EA JDA .V EI JDA =L=E=>A LAHJE?= HAIK JE
)=?HJ=KJ=JE?=OK>AHIA?JEDA=@ECIECDJEA

.de sc \"section

. --- \"force font, etc.

.sp 0.4 \"prespace

.ne 2.4+\\n(.Vu \"want 2.4+ lines

.fi

\\n+S.

..

.nr S 0 1

\"init S

6DA KI=CA EI .sc BMA@ >O JDA IA?JE DA=@EC JANJ BMA@ >O .pg 6DA ne JAIJ L=KA E?K@AI A EA B DA=@EC " EAEJDABMEC pg=@AEABJDAF=H= CH=FD JANJ ) MH@ ?IEIJEC B JDA ANJ IA?JE K>AH =@ = FAHE@ EI FH@K?A@ J >ACEJDADA=@ECEA 6DABH=JBJDAK>AH=O>AIAJ>O af  &
)JDAH ? BH EI JDA =>AA@ E@AJA@ F=H=CH=FD MDAHA JDA =>A FH JHK@AIABJEJJDAE@AJIF=?A

.de lp \"labeled paragraph

.pg

.in 0.5i

\"paragraph indent

.ta 0.2i 0.5i \"label, paragraph

.ti 0

\t\\$1\t\c

\"flow into paragraph

..

6DA EJA@A@ KI=CA EI .lp label  label ME >ACE =J  E?D =@ ?=J AN?AA@ = ACJD B ! E?D MEJDKJ EJHK@EC EJ JDA F=H=CH=FD 6DA =>A ?K@ >A HECDJ =@KIJA@ =C=EIJ " E?D >O IAJJEC JDA J=>I EIJA=@ MEJD .ta 0.4iR 0.5i 6DA =IJ EA B lp A@I MEJD \c I JD=J EJ ME >A?A = F=HJ B JDA BEHIJ EA B JDA JANJ JD=J B MI

Multiple Column Output
6DA FH@K?JE B KJEFA ?K F=CAI HAGKEHAI JDA BJAH =?H J @A?E@A MDAJDAH EJ M=I ELA@ >O JDAH JD= JDA =IJ ?K I JD=J EJ ME >ACE = AM ?K H=JDAH JD= FH@K?A JDA >JJ =HCE 6DA DA=@AH ?= EEJE=EA = ?K HACEIJAH JD=J JDA BJAH ME E?HAAJ =@ JAIJ 6DA BMEC EI =HH=CA@ BH JM ?KI >KJ EI A=IEO@EBEA@BHHA

!%

.de hd \"header

. ---

.nr cl 0 1

\"init column count

.mk

\"mark top of text

..

.de fo \"footer

.ie \\n+(cl<2 \{\

.po +3.4i

\"next column; 3.1+0.3

.rt

\"back to mark

.ns \} \"no-space mode

.el \{\

.po \\nMu

\"restore left margin

. ---

'bp \}

..

.ll 3.1i

\"column width

.nr M \\n(.o

\"save left margin

6OFE?=O = FHJE B JDA JF B JDA BEHIJ F=CA ?J=EI BK ME@JD JANJ JDA HAGKAIJ BH JDA =HHMAH EA ACJD =I MA =I =JDAH .mk MK@ >A =@A MDAHA JDA JM ?K KJFKJM=IJ>ACE

Footnotes
6DA BJJA A?D=EI J >A @AI?HE>A@ EI KIA@ >O A>A@@EC JDA BJJAI E JDA EFKJ JANJ =J JDA FEJ B HABAHA?A @A=H?=JA@ >O = EEJE= .fn =@ = JAHE= .ef

.fn Footnote text and control lines... .ef

1 JDA BMEC BJJAI =HA FH?AIIA@ E = IAF=H=JA ALEHAJ =@ @ELAHJA@ BH =JAH FHEJEC E JDA IF=?A EA@E=JAO FHEH J JDA >JJ =HCE 6DAHA EI FHLEIE BH JDA ?=IA MDAHA JDA =IJ ?A?JA@ BJJA @AIJ ?FAJAO BEJ E JDA =L=E=>A IF=?A

.de hd \"header

. ---

.nr x 0 1

\"init footnote count

.nr y 0-\\nb

\"current footer place

.ch fo -\\nbu \"reset footer trap

.if \\n(dn .fz \"leftover footnote

..

.de fo \"footer

.nr dn 0 \"zero last diversion size

.if \\nx \{\

.ev 1 \"expand footnotes in ev1

.nf

\"retain vertical size

.FN

\"footnotes

.rm FN \"delete it

.if "\\n(.z"fy" .di \"end overflow di .nr x 0 \"disable fx .ev \} \"pop environment . --- 'bp ..

!&

.de fx \"process footnote overflow .if \\nx .di fy \"divert overflow ..

.de fn \"start footnote

.da FN \"divert (append) footnote

.ev 1 \"in environment 1

.if \\n+x=1 .fs \"if 1st, separator

.fi

\"fill mode

..

.de ef \"end footnote

.br

\"finish output

.nr z \\n(.v

\"save spacing

.ev

\"pop ev

.di

\"end diversion

.nr y -\\n(dn \"new footer position,

.if \\nx=1 .nr y -(\\n(.v-\\nz) \

\"uncertainty correction

.ch fo \\nyu

\"y is negative

.if (\\n(nl+1v)>(\\n(.p+\\ny) \

.ch fo \\n(nlu+1v

\"didn't fit

..

.de fs \l'1i' .br ..

\"separator \"1 inch rule

.de fz .fn .nf .fy .ef ..

\"get leftover footnote
\"retain vertical size \"where fx put it

.nr b 1.0i \"bottom margin size

.wh 0 hd

\"header trap

.wh 12i fo \"footer trap->temp pos

.wh -\\nbu fx \"fx at footer position

.ch fo -\\nbu \"conceal fx with fo

6DA DA=@AH hd EEJE=EAI = BJJA ?KJ HACEIJAH x =@ IAJI >JD JDA ?KHHAJ BJAH JH=F FIEJE HACEIJAH y =@ JDA BJAH JH=F EJIAB J = E= FIEJE IFA?EBEA@ E HACEIJAH b 1 =@@EJE EB JDA HACEIJAH dn E@E?=JAI = ABJLAH BJJA fz EI ELA@ J HAFH?AII EJ 6DA BJJA IJ=HJ =?H fn >ACEI = @ELAHIE =FFA@ E ALEH AJ  =@ E?HAAJI JDA ?KJ x EB JDA ?KJ EI A JDA BJJA IAF=H=JH fs EI EJAHF=JA@ 6DAIAF=H=JHEIAFJE=IAF=H=JA=?HJFAHEJKIAHHA@ABEEJE
6DA BJJA A@ =?H ef HAIJHAI JDA FHALEKI ALEHAJ =@ A@I JDA @ELAH IE =BJAH I=LEC JDA IF=?EC IEA E HACEIJAH z y EI JDA @A?HAAJA@ >O JDA IEA B JDA BJJA =L=E=>A E dn JDA  JDA BEHIJ BJJA y EI BKHJDAH @A?HAAJA@ >O JDA @EBBAHA?A E LAHJE?= >=IAEA IF=?ECI B JDA JM ALEHAJI J FHALAJ JDA =JA JHEC CAHEC B JDA BJAH JH=F BH ?=KIEC JDA =IJ EA B JDA ?>EA@ BJJAI J LAH BM 6DA BJAH JH=F EI JDA IAJ J JDA MAH  JDA F=CA B y H JDA ?KHHAJ F=CA FIEJEnlFKIAEAJ=MBHFHEJECJDAHABAHA?AEA
1B E@E?=JA@ >O x JDA BJAH fo HAHA=@I JDA BJJAI BH FN E BE @A E ALEHAJ  =@ @AAJAI FN 1B JDA BJJAI MAHA J =HCA J BEJ JDA =?H fx ME

!'

>A JH=FELA@ J HA@ELAHJ JDA LAHBM EJ fy =@ JDA HACEIJAH dn ME =JAH E@E?=JA JJDADA=@AHMDAJDAH fy EIAFJO
*JD fo =@ fx =HA F=JA@ E JDA E= BJAH JH=F FIEJE E = H@AH JD=J ?=KIAI fx J >A ??A=A@ KAII JDA fo JH=F EI LA@ 6DA BJAH JDA JAHE=JAI JDA LAHBM @ELAHIE EB A?AII=HO =@ AHI x J @EI=>A fx >A?=KIA JDA K?AHJ=EJO ?H HA?JE JCAJDAH MEJD = JJ=JA JHECCAHEC B JDA BJAH ?= HAIKJ E JDA BJJA HAHA=@ECBEEIDEC>ABHAHA=?DECJDA fx JH=F
) C@ ANAH?EIA BH JDA IJK@AJ EI J ?>EA JDA KJEFA?K =@ BJJA A?D=EII

The Last Page
)BJAH JDA =IJ EFKJ BEA D=I A@A@ nroff =@ troff ELA JDA end macro  % EB =O =@ MDA EJ BEEIDAI AA?J JDA HA=E@AH B JDA F=CA ,KHEC JDA AA?J =O JH=FI A?KJAHA@ =HA FH?AIIA@ H=O )J JDA A@ B JDEI =IJ F=CA FH?AIIEC JAHE =JAI KAII = F=HJE= EA MH@ H F=HJE= MH@ HA=EI 1B EJ EI @AIEHA@ JD=J =JDAH F=CA>AIJ=HJA@JDAA@=?H

.de en \c 'bp .. .em en

\"end-macro

ME@AFIEJ=KF=HJE=MH@=@FH@K?A=JDAH=IJF=CA

"

Special Character Names

6DA BMEC J=>A EIJI =AI BH = IAJ B ?D=H=?JAHI IJ B MDE?D D=LA JH=@E JE=O >AA FHLE@A@ >O troff KIEC JDA IFA?E= H IO> BJ =O B JDAIA IAGKA?AI =HA @ M=OI J CAJ MD=J =HA M 7E?@A ?D=H=?JAHI K?E@= 5=I BH AN= FA D=I COFDI ?HHAIF@EC J =O B JDAIA >KJ @AI J D=LA JDA IFA?E= IAGKA?AI 6DAHABHA JDA troff IAGKA?A \(*F CELAI JDA ?D=H=?JAH  BH JDA 6EAI BJ EIJA=@ B JDA ?D=H=?JAH  BH JDA ?KHHAJ BJ E JDEI ?=IA K?E@= 5=I J = IAGKA?AI FHEJ  =O F=HJE?K=H @ALE?A E?K@EC JDEI A 2AJAH B=?AI =FFA=H E JDAEH F=?A

\'
< \`  \(em  \(en
\(hy
 \-  \(bu  \(sq _ \(ru
\(14
\(12
\(34
\(fi
\(fl
\(ff
\(Fi
\(Fl
 \(de  \(dg  \(fm
\(ct
\(rg
 \(co + \(pl - \(mi = \(eq  \(**
\(sc
\(aa
< \(ga _ \(ul / \(sl  \(*a  \(*b  \(*g  \(*d  \(*e  \(*z  \(*y  \(*h  \(*i  \(*k  \(*l

 \(*m  \(*n  \(*c  \(*o  \(*p  \(*r  \(*s  \(ts  \(*t  \(*u  \(*f  \(*x  \(*q  \(*w  \(*A  \(*B  \(*G  \(*D  \(*E  \(*Z  \(*Y  \(*H  \(*I  \(*K  \(*L  \(*M  \(*N  \(*C  \(*O  \(*P  \(*R  \(*S  \(*T  \(*U  \(*F  \(*X  \(*Q  \(*W  \(sr
 \(rn  \(>=
 \(<=
 \(==

 \(|=  \(ap  \(!=  \(->  \(<-  \(ua  \(da
\(mu
\(di
\(+-
 \(cu  \(ca  \(sb  \(sp  \(ib  \(ip  \(if  \(pd  \(gr  \(no  \(is  \(pt  \(es  \(mo  \(br  \(dd
\(rh
\(lh
\(bs
| \(or  \(ci  \(lt  \(lb  \(rt  \(rb  \(lk  \(rk  \(bv  \(lf  \(rf  \(lc  \(rc
\(LH

